# ЁЯУ▒ Complaint List рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи (ржмрж╛ржВрж▓рж╛ ржЧрж╛ржЗржб)

## ЁЯФ┤ рж╕ржорж╕рзНржпрж╛
ржЖржкржирж╛рж░ mobile app ржП complaint list page ржЦрзБрж▓рж▓рзЗ:
- "ржПржЦржиржУ ржХрзЛржи ржЕржнрж┐ржпрзЛржЧ ржирзЗржЗ" ржжрзЗржЦрж╛ржЪрзНржЫрзЗ
- "You are offline" banner ржЖрж╕ржЫрзЗ
- Server ржерзЗржХрзЗ data load рж╣ржЪрзНржЫрзЗ ржирж╛

## тЬЕ рж╕ржорж╛ржзрж╛ржи
**рж╕ржорж╕рзНржпрж╛ ржЫрж┐рж▓:** App ржнрзБрж▓ port ржП server ржЦрзБржБржЬржЫрж┐рж▓

- App ржЦрзБржБржЬржЫрж┐рж▓: Port 4000
- Server ржЪрж▓ржЫрзЗ: Port 3000
- Android emulator ржПрж░ ржЬржирзНржп ржнрзБрж▓ IP address

**Fix ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ:** `lib/config/api_config.dart` file ржП рж╕ржарж┐ржХ URL ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝рзЗржЫрзЗ

## ЁЯЪА ржПржЦржи ржХрж┐ ржХрж░ржмрзЗржи

### ржзрж╛ржк рзз: Server ржЪрж╛рж▓рзБ ржХрж░рзБржи
```bash
cd server
npm run dev
```

ржжрзЗржЦржмрзЗржи:
```
ЁЯЪА Server running on port 3000
```

### ржзрж╛ржк рзи: App rebuild ржХрж░рзБржи

**рж╕рж╣ржЬ ржЙржкрж╛ржпрж╝ (Hot Restart):**
- Flutter terminal ржП `R` press ржХрж░рзБржи

**ржЕржержмрж╛ ржкрзБрж░рзЛ rebuild:**
```bash
flutter clean
flutter pub get
flutter run
```

### ржзрж╛ржк рзй: Test ржХрж░рзБржи

1. App ржЦрзБрж▓рзБржи
2. Login ржХрж░рзБржи (ржпржжрж┐ logged out ржерж╛ржХрзЗржи)
3. "ржЖржорж╛рж░ ржЕржнрж┐ржпрзЛржЧ" page ржП ржпрж╛ржи
4. ржирж┐ржЪрзЗ pull ржХрж░рзЗ refresh ржХрж░рзБржи

**ржПржЦржи ржжрзЗржЦржмрзЗржи:**
- тЬЕ "Offline" banner ржЪрж▓рзЗ ржЧрзЗржЫрзЗ
- тЬЕ Complaints load рж╣ржЪрзНржЫрзЗ
- тЬЕ ржЖржкржирж╛рж░ рж╕ржм complaints ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ

## ЁЯзк Server Check ржХрж░рзБржи

Server ржарж┐ржХржорждрзЛ ржЪрж▓ржЫрзЗ ржХрж┐ржирж╛ check ржХрж░рждрзЗ:

```bash
cd server
node quick-check-complaints.js
```

ржПржЯрж╛ ржжрзЗржЦрж╛ржмрзЗ:
- тЬЕ Database connected ржХрж┐ржирж╛
- тЬЕ ржХрждржЬржи user ржЖржЫрзЗ
- тЬЕ ржХрждржЧрзБрж▓рзЛ complaint ржЖржЫрзЗ
- тЬЕ Server running ржХрж┐ржирж╛

## ЁЯУ▒ ржмрж┐ржнрж┐ржирзНржи Platform ржПрж░ ржЬржирзНржп URL

| ржХрзЛржерж╛ржпрж╝ ржЪрж╛рж▓рж╛ржЪрзНржЫрзЗржи | URL | ржирзЛржЯ |
|------------------|-----|------|
| Android Emulator | `http://10.0.2.2:3000` | тЬЕ Fixed |
| Android Phone | `http://192.168.0.100:3000` | ржЖржкржирж╛рж░ computer ржПрж░ IP |
| iOS Simulator | `http://localhost:3000` | ржХрж╛ржЬ ржХрж░ржмрзЗ |
| Web Browser | `http://localhost:3000` | ржХрж╛ржЬ ржХрж░ржмрзЗ |

### Android Phone ржПрж░ ржЬржирзНржп IP ржмрзЗрж░ ржХрж░рждрзЗ:

**Windows:**
```bash
ipconfig
```

**Mac/Linux:**
```bash
ifconfig
```

ржЖржкржирж╛рж░ WiFi ржПрж░ IP address ржжрзЗржЦрзБржи (ржпрзЗржоржи: 192.168.0.100)

## ЁЯРЫ ржПржЦржиржУ ржХрж╛ржЬ ржирж╛ ржХрж░рж▓рзЗ

### Check 1: Server ржЪрж▓ржЫрзЗ?
Browser ржП ржпрж╛ржи:
```
http://localhost:3000/api/health
```

ржжрзЗржЦрж╛ржмрзЗ:
```json
{"status":"ok"}
```

### Check 2: User ржПрж░ complaint ржЖржЫрзЗ?
```bash
cd server
node quick-check-complaints.js
```

ржпржжрж┐ complaint ржирж╛ ржерж╛ржХрзЗ, app ржжрж┐ржпрж╝рзЗ ржПржХржЯрж╛ complaint create ржХрж░рзБржиред

### Check 3: Login ржХрж░рж╛ ржЖржЫрзЗ?
- Profile page ржП ржпрж╛ржи
- Logout ржХрж░рзБржи
- ржЖржмрж╛рж░ Login ржХрж░рзБржи
- Complaint list check ржХрж░рзБржи

### Check 4: Network accessible?
Android emulator ржПрж░ browser ржП ржпрж╛ржи:
```
http://10.0.2.2:3000/api/health
```

## ЁЯУЛ Success Checklist

рж╕ржм ржарж┐ржХ ржЖржЫрзЗ ржХрж┐ржирж╛ check ржХрж░рзБржи:

- [ ] Server ржЪрж▓ржЫрзЗ (port 3000)
- [ ] App rebuild ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ
- [ ] Login ржХрж░рж╛ ржЖржЫрзЗ
- [ ] Complaint list load рж╣ржЪрзНржЫрзЗ
- [ ] "Offline" banner ржирзЗржЗ
- [ ] Complaints ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ
- [ ] Pull-to-refresh ржХрж╛ржЬ ржХрж░ржЫрзЗ

## ЁЯТб ржХрзЗржи ржПржЗ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрж┐рж▓?

1. **Port mismatch:** App port 4000 ржП ржЦрзБржБржЬржЫрж┐рж▓, ржХрж┐ржирзНрждрзБ server port 3000 ржП ржЪрж▓ржЫрж┐рж▓
2. **Wrong IP:** Android emulator ржПрж░ ржЬржирзНржп `10.0.2.2` рж▓рж╛ржЧрзЗ, ржХрж┐ржирзНрждрзБ `192.168.0.100` ржжрзЗржУржпрж╝рж╛ ржЫрж┐рж▓
3. **Network error:** Server ржП reach ржХрж░рждрзЗ ржкрж╛рж░ржЫрж┐рж▓ ржирж╛, рждрж╛ржЗ offline ржоржирзЗ ржХрж░ржЫрж┐рж▓
4. **No cache:** ржХржЦржирзЛ data load рж╣ржпрж╝ржирж┐, рждрж╛ржЗ offline cache ржУ ржЫрж┐рж▓ ржирж╛

## ЁЯОп ржкрж░ржмрж░рзНрждрзА ржкржжржХрзНрж╖рзЗржк

Fix ржХрж╛ржЬ ржХрж░рж╛рж░ ржкрж░рзЗ test ржХрж░рзБржи:

1. **Offline mode:** 
   - Complaints load ржХрж░рзБржи
   - WiFi off ржХрж░рзБржи
   - Complaints ржПржЦржиржУ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ (cache ржерзЗржХрзЗ)

2. **Create complaint:**
   - ржирждрзБржи complaint create ржХрж░рзБржи
   - List ржП ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ

3. **Complaint details:**
   - ржПржХржЯрж╛ complaint ржП tap ржХрж░рзБржи
   - Details page ржЦрзБрж▓ржмрзЗ

4. **Chat:**
   - Complaint details ржП message ржкрж╛ржарж╛ржи
   - Admin ржПрж░ рж╕рж╛ржерзЗ chat ржХрж░рзБржи

## ЁЯУЮ ржЖрж░ржУ рж╕рж╛рж╣рж╛ржпрзНржп рж▓рж╛ржЧрж▓рзЗ

1. Flutter logs ржжрзЗржЦрзБржи:
   ```bash
   flutter logs
   ```

2. Server logs ржжрзЗржЦрзБржи (server terminal ржП)

3. Test script ржЪрж╛рж▓рж╛ржи:
   ```bash
   cd server
   node test-mobile-complaint-fetch.js
   ```
   (ржЖржЧрзЗ script ржП ржЖржкржирж╛рж░ phone number ржЖрж░ password ржжрж┐ржи)

4. Database check ржХрж░рзБржи:
   ```bash
   cd server
   node quick-check-complaints.js
   ```

## тЬЕ рж╕ржлрж▓ рж╣рж▓рзЗ ржжрзЗржЦржмрзЗржи

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ      ржЖржорж╛рж░ ржЕржнрж┐ржпрзЛржЧ               тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ #123              Pending   тФВ
тФВ рж░рж╛рж╕рзНрждрж╛ржпрж╝ ржЧрж░рзНржд               тФВ
тФВ ЁЯУН ржврж╛ржХрж╛, ржмрж╛ржВрж▓рж╛ржжрзЗрж╢           тФВ
тФВ ЁЯХР рзи ржШржгрзНржЯрж╛ ржЖржЧрзЗ              тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ #122         In Progress    тФВ
тФВ ржоржпрж╝рж▓рж╛ ржЬржорзЗ ржЖржЫрзЗ               тФВ
тФВ ЁЯУН ржврж╛ржХрж╛, ржмрж╛ржВрж▓рж╛ржжрзЗрж╢           тФВ
тФВ ЁЯХР рзз ржжрж┐ржи ржЖржЧрзЗ                тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

**Status:** тЬЕ Fix рж╕ржорзНржкржирзНржи - Test ржХрж░рж╛рж░ ржЬржирзНржп ready

**рж╕ржоржпрж╝ рж▓рж╛ржЧржмрзЗ:** ~рзи-рзй ржорж┐ржирж┐ржЯ (rebuild + test)

**ржЧрзБрж░рзБрждрзНржм:** High - ржорзВрж▓ functionality restore рж╣ржпрж╝рзЗржЫрзЗ
