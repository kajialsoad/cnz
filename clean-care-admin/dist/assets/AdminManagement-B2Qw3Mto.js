import{e as be,j as e,r as l,a0 as We,D as ve,E as Se,T as r,I as R,H as Ee,J as ze,L as fe,F as m,G as Ie,aA as Le,N as C,W as S,ag as _,O as De,aC as Ue,aD as Fe,ak as Ae,P as q,K as Ne,aB as $e,X as pe,aH as Je,aE as de,a3 as ke,am as we,an as Ce,U as Pe,a7 as Me,V as Oe,a8 as He,a9 as Ge,aG as Te,ai as Ze,aa as Qe,ab as Ke,af as Ye,ad as es,ae as xe,aI as he}from"./index-obvkHq0E.js";import{A as ss}from"./Add-Z07_wkwW.js";import{A as Be,S as _e,D as Ve,E as ts}from"./EditOutlined-DSSPUrgN.js";import{C as rs}from"./ChatBubbleOutline-AnaYwoT7.js";import{u as ae}from"./userManagementService-nJqXhO3I.js";import{w as ue}from"./wardService-DFaBk42Z.js";import{G as i}from"./Grid-DM8D4Ubi.js";import{C as qe}from"./CloudUpload-Cwgg-NVo.js";import{P as ns}from"./PhoneOutlined-DC_MPgA9.js";import{S as I}from"./Stack-BJ4SzZlm.js";import{P as as}from"./Pagination-DEyf4Sc3.js";import"./styled-CPgIAkea.js";import"./useThemeProps-DyvIigua.js";const Re=be(e.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V10h16zm0-13H4V5h16z"})),is=be(e.jsx("path",{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zm-2 0-8 5-8-5zm0 12H4V8l8 5 8-5z"})),os=be([e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7M7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.88-2.88 7.19-5 9.88C9.92 16.21 7 11.85 7 9"},"0"),e.jsx("circle",{cx:"12",cy:"9",r:"2.5"},"1")]),ls=be(e.jsx("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"})),Xe={zones:[],wards:[],categories:[],features:{canViewComplaints:!0,canApproveComplaints:!1,canRejectComplaints:!1,canMarkComplaintsPending:!1,canEditComplaints:!1,canDeleteComplaints:!1,canViewUsers:!0,canEditUsers:!1,canDeleteUsers:!1,canAddUsers:!1,canViewAdmins:!1,canEditAdmins:!1,canDeleteAdmins:!1,canAddAdmins:!1,canViewMessages:!0,canSendMessagesToUsers:!1,canSendMessagesToAdmins:!1,canViewAnalytics:!1,canExportData:!1,canDownloadReports:!1,viewOnlyMode:!1,canViewComplainantProfile:!1,canViewAreaStats:!1,canViewOwnPerformance:!1,canShowReviews:!1}},cs=({open:o,onClose:A,onSuccess:w})=>{const[d,n]=l.useState({firstName:"",lastName:".",designation:"",email:"",phone:"",whatsapp:"",joiningDate:new Date().toISOString().split("T")[0],address:"",password:"",confirmPassword:"",cityCorporationCode:"",zoneId:"",wardId:"",role:"ADMIN",permissions:JSON.parse(JSON.stringify(Xe))}),[W,E]=l.useState([]),[L,P]=l.useState([]),[ee,j]=l.useState([]),[U,O]=l.useState([]),[F,$]=l.useState(!1),[N,J]=l.useState(!1),[ie,M]=l.useState(!1),[H,Z]=l.useState(!1),[T,k]=l.useState({}),[B,se]=l.useState(!1),[G,Q]=l.useState(null);l.useEffect(()=>{o&&(X(),n({firstName:"",lastName:".",designation:"",email:"",phone:"",whatsapp:"",joiningDate:new Date().toISOString().split("T")[0],address:"",password:"",confirmPassword:"",cityCorporationCode:"",zoneId:"",wardId:"",role:"ADMIN",permissions:JSON.parse(JSON.stringify(Xe))}),k({}),Q(null))},[o]);const X=async()=>{try{$(!0);const a=await We.getCityCorporations("ACTIVE");E(a.cityCorporations||[])}catch(a){console.error("Error fetching city corporations:",a)}finally{$(!1)}},oe=async a=>{try{J(!0);const h=await $e.getZones({cityCorporationCode:a,status:"ACTIVE"});P(h.zones||[])}catch(h){console.error("Error fetching zones:",h)}finally{J(!1)}},te=async a=>{try{M(!0);const h=await ue.getWards({zoneId:a,status:"ACTIVE"});j(h.wards||[])}catch(h){console.error("Error fetching wards:",h)}finally{M(!1)}},D=async a=>{try{const h=await ue.getWards({cityCorporationCode:a,status:"ACTIVE"});O(h.wards||[])}catch(h){console.error("Error fetching all wards:",h)}},z=a=>h=>{const x=h.target.value;n(p=>({...p,[a]:x})),a==="cityCorporationCode"?(n(p=>({...p,cityCorporationCode:x,zoneId:"",wardId:"",permissions:{...p.permissions,wards:[]}})),oe(x),D(x)):a==="zoneId"&&(n(p=>({...p,zoneId:x,wardId:""})),te(parseInt(x))),T[a]&&k(p=>({...p,[a]:void 0}))},g=(a,h)=>{const x=h.map(p=>p.id);n(p=>({...p,permissions:{...p.permissions,wards:x}}))},K=a=>{n(h=>{const x={...h.permissions.features};if(a==="viewOnlyMode"){const p=!x.viewOnlyMode;p&&Object.keys(x).forEach(s=>{s!=="viewOnlyMode"&&(x[s]=!1)}),x.viewOnlyMode=p}else if(a==="actionApproval"){const s=!x.canApproveComplaints;x.canApproveComplaints=s,x.canRejectComplaints=s,x.canMarkComplaintsPending=s,x.canEditComplaints=s,x.canEditUsers=s,x.canDeleteUsers=s,s&&(x.viewOnlyMode=!1)}else if(a==="reportDownload"){const p=!x.canDownloadReports;x.canDownloadReports=p,x.canExportData=p,x.canViewAnalytics=p,p&&(x.viewOnlyMode=!1)}else x[a]=!x[a],x[a]&&(x.viewOnlyMode=!1);return{...h,permissions:{...h.permissions,features:x}}})},Y=()=>{const a={};return d.firstName.trim()||(a.firstName="Name is required"),d.phone.trim()||(a.phone="Phone is required"),d.password||(a.password="Password is required"),d.cityCorporationCode||(a.cityCorporationCode="City Corporation is required"),d.zoneId||(a.zoneId="Zone is required"),k(a),Object.keys(a).length===0},le=async()=>{var a,h,x;if(Y()){se(!0),Q(null);try{const p={firstName:d.firstName,lastName:d.lastName,designation:d.designation,email:d.email,phone:d.phone,whatsapp:d.whatsapp,joiningDate:d.joiningDate,address:d.address,password:d.password,role:d.role,cityCorporationCode:d.cityCorporationCode,zoneId:parseInt(d.zoneId),wardId:d.wardId?parseInt(d.wardId):void 0,permissions:d.permissions};await ae.createUser(p),w(),A()}catch(p){console.error("Error creating admin:",p),Q(((x=(h=(a=p.response)==null?void 0:a.data)==null?void 0:h.error)==null?void 0:x.message)||"Failed to create admin")}finally{se(!1)}}};return e.jsxs(ve,{open:o,onClose:A,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[e.jsxs(Se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[e.jsx(r,{variant:"h6",fontWeight:"bold",children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx(R,{onClick:A,size:"small",children:e.jsx(Ee,{})})]}),e.jsxs(ze,{dividers:!0,sx:{p:3},children:[G&&e.jsx(fe,{severity:"error",sx:{mb:2},children:G}),e.jsxs(i,{container:!0,spacing:2,children:[e.jsxs(i,{size:{xs:12,md:3},display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsxs(m,{sx:{position:"relative",mb:2},children:[e.jsx(Ie,{sx:{width:120,height:120,bgcolor:"#f0f0f0"},children:e.jsx(qe,{sx:{fontSize:50,color:"#bdbdbd"}})}),e.jsx(R,{sx:{position:"absolute",bottom:0,right:0,bgcolor:"#4caf50",color:"white","&:hover":{bgcolor:"#45a049"},padding:"4px"},size:"small",children:e.jsx(Le,{fontSize:"small"})})]}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶õ‡¶¨‡¶ø"})]}),e.jsx(i,{size:{xs:12,md:9},children:e.jsxs(i,{container:!0,spacing:2,children:[e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶®‡¶æ‡¶Æ"}),e.jsx(C,{fullWidth:!0,placeholder:"‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",value:d.firstName,onChange:z("firstName"),error:!!T.firstName,size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶™‡¶¶‡¶¨‡ßÄ"}),e.jsx(C,{fullWidth:!0,placeholder:"‡¶™‡¶¶‡¶¨‡ßÄ...",value:d.designation,onChange:z("designation"),size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶´‡ßã‡¶®"}),e.jsx(C,{fullWidth:!0,placeholder:"01XXXXXXXXX",value:d.phone,onChange:z("phone"),error:!!T.phone,size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶π‡ßã‡ßü‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™"}),e.jsx(C,{fullWidth:!0,placeholder:"01XXXXXXXXX",value:d.whatsapp,onChange:z("whatsapp"),size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤"}),e.jsx(C,{fullWidth:!0,placeholder:"example@email.com",value:d.email,onChange:z("email"),size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶ú‡ßü‡ßá‡¶®‡¶ø‡¶Ç ‡¶°‡ßá‡¶ü"}),e.jsx(C,{fullWidth:!0,type:"date",value:d.joiningDate,onChange:z("joiningDate"),size:"small",InputLabelProps:{shrink:!0}})]}),e.jsxs(i,{size:12,children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ"}),e.jsx(C,{fullWidth:!0,placeholder:"‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ...",value:d.address,onChange:z("address"),size:"small",multiline:!0,rows:2})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶®"}),e.jsxs(C,{select:!0,fullWidth:!0,value:d.cityCorporationCode,onChange:z("cityCorporationCode"),error:!!T.cityCorporationCode,size:"small",SelectProps:{displayEmpty:!0},children:[e.jsx(S,{value:"",disabled:!0,children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®..."}),W.map(a=>e.jsx(S,{value:a.code,children:a.name},a.code))]})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶ú‡ßã‡¶®"}),e.jsxs(C,{select:!0,fullWidth:!0,value:d.zoneId,onChange:z("zoneId"),error:!!T.zoneId,disabled:!d.cityCorporationCode,size:"small",SelectProps:{displayEmpty:!0},children:[e.jsx(S,{value:"",disabled:!0,children:"‡¶ú‡ßã‡¶® ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®..."}),L.map(a=>e.jsx(S,{value:a.id.toString(),children:a.name||`Zone ${a.zoneNumber}`},a.id))]})]}),e.jsxs(i,{size:12,children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶è‡¶∞‡¶ø‡ßü‡¶æ (‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°)"}),e.jsx(Be,{multiple:!0,options:U,getOptionLabel:a=>`Ward ${a.wardNumber}${a.zone?` (Zone ${a.zone.zoneNumber})`:""}`,value:U.filter(a=>d.permissions.wards.includes(a.id)),onChange:g,disabled:!d.cityCorporationCode,size:"small",renderTags:(a,h)=>a.map((x,p)=>e.jsx(_,{label:`Ward ${x.wardNumber}`,size:"small",...h({index:p})})),renderInput:a=>e.jsx(C,{...a,placeholder:d.permissions.wards.length>0?"":"‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®..."})}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶®‡ßã‡¶ü: ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞‡¶ø ‡¶ú‡ßã‡¶®‡ßá‡¶∞ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá‡¶∞ ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡¶æ ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§"})]}),e.jsxs(i,{size:12,children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°"}),e.jsx(C,{fullWidth:!0,type:H?"text":"password",value:d.password,onChange:z("password"),error:!!T.password,size:"small",InputProps:{endAdornment:e.jsx(De,{position:"end",children:e.jsx(R,{onClick:()=>Z(!H),edge:"end",size:"small",children:H?e.jsx(Ue,{}):e.jsx(Fe,{})})})}})]})]})}),e.jsx(i,{size:12,children:e.jsxs(m,{sx:{bgcolor:"#f5f5f5",p:2,borderRadius:2,mt:2},children:[e.jsx(r,{variant:"subtitle2",fontWeight:"bold",mb:2,children:"‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶ì ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤"}),e.jsx(i,{container:!0,spacing:2,children:[{label:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞",key:"canSendMessagesToUsers"},{label:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®",key:"canSendMessagesToAdmins"},{label:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤",key:"canViewComplainantProfile"},{label:"‡¶è‡¶∞‡¶ø‡ßü‡¶æ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏",key:"canViewAreaStats"},{label:"‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßá‡¶®‡ßç‡¶∏",key:"canViewOwnPerformance"},{label:"‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â",key:"canShowReviews"},{label:"‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°",key:"reportDownload"},{label:"‡¶è‡¶ï‡¶∂‡¶® ‡¶è‡¶™‡ßç‡¶∞‡ßÅ‡¶≠‡¶æ‡¶≤",key:"actionApproval"},{label:"‡¶≠‡¶ø‡¶â ‡¶Ö‡¶®‡¶≤‡¶ø",key:"viewOnlyMode"}].map(a=>{let h=!1;a.key==="actionApproval"?h=d.permissions.features.canApproveComplaints:a.key==="reportDownload"?h=d.permissions.features.canDownloadReports:h=!!d.permissions.features[a.key];const x=d.permissions.features.viewOnlyMode&&a.key!=="viewOnlyMode";return e.jsx(i,{size:{xs:12,sm:6,md:4},children:e.jsxs(m,{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,bgcolor:"white",borderRadius:1,border:"1px solid #eee",children:[e.jsx(r,{variant:"body2",color:x?"text.disabled":"text.primary",children:a.label}),e.jsx(_e,{checked:h,onChange:()=>K(a.key),color:"success",size:"small",disabled:x})]})},a.key)})})]})})]})]}),e.jsxs(Ae,{sx:{p:2,display:"flex",gap:1},children:[e.jsx(q,{onClick:A,variant:"outlined",color:"inherit",fullWidth:!0,sx:{borderColor:"#ddd",color:"#666"},children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx(q,{onClick:le,variant:"contained",color:"success",fullWidth:!0,disabled:B,sx:{bgcolor:"#4caf50","&:hover":{bgcolor:"#45a049"}},children:B?e.jsx(Ne,{size:24,color:"inherit"}):"‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})},re={zones:[],wards:[],categories:[],features:{canViewComplaints:!0,canApproveComplaints:!1,canRejectComplaints:!1,canMarkComplaintsPending:!1,canEditComplaints:!1,canDeleteComplaints:!1,canViewUsers:!0,canEditUsers:!1,canDeleteUsers:!1,canAddUsers:!1,canViewAdmins:!1,canEditAdmins:!1,canDeleteAdmins:!1,canAddAdmins:!1,canViewMessages:!0,canSendMessagesToUsers:!1,canSendMessagesToAdmins:!1,canViewAnalytics:!1,canExportData:!1,canDownloadReports:!1,viewOnlyMode:!1,canViewComplainantProfile:!1,canViewAreaStats:!1,canViewOwnPerformance:!1,canShowReviews:!1}},ds=({admin:o,open:A,onClose:w,onSuccess:d})=>{var h,x,p;const[n,W]=l.useState({firstName:"",lastName:"",designation:"",email:"",phone:"",whatsapp:"",joiningDate:"",address:"",cityCorporationCode:"",zoneId:"",wardId:"",role:"ADMIN",status:"ACTIVE",newPassword:"",confirmPassword:"",permissions:JSON.parse(JSON.stringify(re))}),[E,L]=l.useState([]),[P,ee]=l.useState([]),[j,U]=l.useState([]),[O,F]=l.useState([]),[$,N]=l.useState(!1),[J,ie]=l.useState(!1),[M,H]=l.useState(!1),[Z,T]=l.useState(!1),[k,B]=l.useState({}),[se,G]=l.useState(!1),[Q,X]=l.useState(null);l.useEffect(()=>{var s,u,c,f,b,V,je,me,ge;if(A&&o){let ce=JSON.parse(JSON.stringify(re));if(o.permissions)if(typeof o.permissions=="string")try{const t=JSON.parse(o.permissions);ce={...re,...t,features:{...re.features,...t.features}}}catch(t){console.error("Failed to parse permissions string",t)}else ce={...re,...o.permissions,features:{...re.features,...o.permissions.features}};W({firstName:o.firstName||"",lastName:o.lastName||"",designation:o.designation||"",email:o.email||"",phone:o.phone||"",whatsapp:o.whatsapp||"",joiningDate:o.joiningDate?new Date(o.joiningDate).toISOString().split("T")[0]:"",address:o.address||"",cityCorporationCode:((s=o.cityCorporation)==null?void 0:s.code)||o.cityCorporationCode||"",zoneId:((c=(u=o.zone)==null?void 0:u.id)==null?void 0:c.toString())||((f=o.zoneId)==null?void 0:f.toString())||"",wardId:((V=(b=o.ward)==null?void 0:b.id)==null?void 0:V.toString())||((je=o.wardId)==null?void 0:je.toString())||"",role:o.role,status:o.status,newPassword:"",confirmPassword:"",permissions:ce}),oe();const ye=((me=o.cityCorporation)==null?void 0:me.code)||o.cityCorporationCode;if(ye){te(ye),z(ye);const t=((ge=o.zone)==null?void 0:ge.id)||o.zoneId;t&&D(t)}B({}),X(null)}},[A,o]);const oe=async()=>{try{N(!0);const s=await We.getCityCorporations("ACTIVE");L(s.cityCorporations||[])}catch(s){console.error("Error fetching city corporations:",s)}finally{N(!1)}},te=async s=>{try{ie(!0);const u=await $e.getZones({cityCorporationCode:s,status:"ACTIVE"});ee(u.zones||[])}catch(u){console.error("Error fetching zones:",u)}finally{ie(!1)}},D=async s=>{try{H(!0);const u=await ue.getWards({zoneId:s,status:"ACTIVE"});U(u.wards||[])}catch(u){console.error("Error fetching wards:",u)}finally{H(!1)}},z=async s=>{try{const u=await ue.getWards({cityCorporationCode:s,status:"ACTIVE"});F(u.wards||[])}catch(u){console.error("Error fetching all wards:",u)}},g=s=>u=>{const c=u.target.value;W(f=>({...f,[s]:c})),s==="cityCorporationCode"?(W(f=>({...f,cityCorporationCode:c,zoneId:"",wardId:"",permissions:{...f.permissions,wards:[]}})),te(c),z(c)):s==="zoneId"&&(W(f=>({...f,zoneId:c,wardId:""})),D(parseInt(c))),k[s]&&B(f=>({...f,[s]:void 0}))},K=(s,u)=>{const c=u.map(f=>f.id);W(f=>({...f,permissions:{...f.permissions,wards:c}}))},Y=s=>{W(u=>{const c={...u.permissions.features};if(s==="viewOnlyMode"){const f=!c.viewOnlyMode;f&&Object.keys(c).forEach(b=>{b!=="viewOnlyMode"&&(c[b]=!1)}),c.viewOnlyMode=f}else if(s==="actionApproval"){const b=!c.canApproveComplaints;c.canApproveComplaints=b,c.canRejectComplaints=b,c.canMarkComplaintsPending=b,c.canEditComplaints=b,c.canEditUsers=b,c.canDeleteUsers=b,b&&(c.viewOnlyMode=!1)}else if(s==="reportDownload"){const f=!c.canDownloadReports;c.canDownloadReports=f,c.canExportData=f,c.canViewAnalytics=f,f&&(c.viewOnlyMode=!1)}else c[s]=!c[s],c[s]&&(c.viewOnlyMode=!1);return{...u,permissions:{...u.permissions,features:c}}})},le=()=>{const s={};return n.firstName.trim()||(s.firstName="Name is required"),n.phone.trim()||(s.phone="Phone is required"),n.cityCorporationCode||(s.cityCorporationCode="City Corporation is required"),n.zoneId||(s.zoneId="Zone is required"),n.newPassword&&n.newPassword.length<8&&(s.newPassword="Password must be at least 8 characters"),n.newPassword!==n.confirmPassword&&(s.confirmPassword="Passwords do not match"),B(s),Object.keys(s).length===0},a=async()=>{var s,u,c;if(!(!le()||!o)){G(!0),X(null);try{const f={firstName:n.firstName,lastName:n.lastName,designation:n.designation,email:n.email,phone:n.phone,whatsapp:n.whatsapp,joiningDate:n.joiningDate,address:n.address,role:n.role,status:n.status,cityCorporationCode:n.cityCorporationCode,zoneId:parseInt(n.zoneId),wardId:n.wardId?parseInt(n.wardId):void 0,permissions:n.permissions};n.newPassword&&(f.password=n.newPassword),await ae.updateUser(o.id,f),d(),w()}catch(f){console.error("Error updating admin:",f),X(((c=(u=(s=f.response)==null?void 0:s.data)==null?void 0:u.error)==null?void 0:c.message)||"Failed to update admin")}finally{G(!1)}}};return e.jsxs(ve,{open:A,onClose:w,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[e.jsxs(Se,{component:"div",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[e.jsx(r,{variant:"h6",fontWeight:"bold",children:"‡¶è‡¶°‡¶ø‡¶ü ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"}),e.jsx(R,{onClick:w,size:"small",children:e.jsx(Ee,{})})]}),e.jsxs(ze,{dividers:!0,sx:{p:3},children:[Q&&e.jsx(fe,{severity:"error",sx:{mb:2},children:Q}),e.jsxs(i,{container:!0,spacing:2,children:[e.jsxs(i,{size:{xs:12,md:3},display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsxs(m,{sx:{position:"relative",mb:2},children:[e.jsx(Ie,{src:(o==null?void 0:o.avatar)||void 0,sx:{width:120,height:120,bgcolor:"#f0f0f0"},children:e.jsx(qe,{sx:{fontSize:50,color:"#bdbdbd"}})}),e.jsx(R,{sx:{position:"absolute",bottom:0,right:0,bgcolor:"#4caf50",color:"white","&:hover":{bgcolor:"#45a049"},padding:"4px"},size:"small",children:e.jsx(Le,{fontSize:"small"})})]}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶õ‡¶¨‡¶ø"})]}),e.jsx(i,{size:{xs:12,md:9},children:e.jsxs(i,{container:!0,spacing:2,children:[e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶®‡¶æ‡¶Æ"}),e.jsx(C,{fullWidth:!0,placeholder:"‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",value:n.firstName,onChange:g("firstName"),error:!!k.firstName,size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶™‡¶¶‡¶¨‡ßÄ"}),e.jsx(C,{fullWidth:!0,placeholder:"‡¶™‡¶¶‡¶¨‡ßÄ...",value:n.designation,onChange:g("designation"),size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶´‡ßã‡¶®"}),e.jsx(C,{fullWidth:!0,placeholder:"01XXXXXXXXX",value:n.phone,onChange:g("phone"),error:!!k.phone,size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶π‡ßã‡ßü‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™"}),e.jsx(C,{fullWidth:!0,placeholder:"01XXXXXXXXX",value:n.whatsapp,onChange:g("whatsapp"),size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤"}),e.jsx(C,{fullWidth:!0,placeholder:"example@email.com",value:n.email,onChange:g("email"),size:"small"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶ú‡ßü‡ßá‡¶®‡¶ø‡¶Ç ‡¶°‡ßá‡¶ü"}),e.jsx(C,{fullWidth:!0,type:"date",value:n.joiningDate,onChange:g("joiningDate"),size:"small",InputLabelProps:{shrink:!0}})]}),e.jsxs(i,{size:12,children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ"}),e.jsx(C,{fullWidth:!0,placeholder:"‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ...",value:n.address,onChange:g("address"),size:"small",multiline:!0,rows:2})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶®"}),e.jsxs(C,{select:!0,fullWidth:!0,value:n.cityCorporationCode,onChange:g("cityCorporationCode"),error:!!k.cityCorporationCode,size:"small",SelectProps:{displayEmpty:!0},children:[e.jsx(S,{value:"",disabled:!0,children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®..."}),n.cityCorporationCode&&!E.find(s=>s.code===n.cityCorporationCode)&&e.jsx(S,{value:n.cityCorporationCode,sx:{display:"none"},children:((h=o==null?void 0:o.cityCorporation)==null?void 0:h.name)||n.cityCorporationCode}),E.map(s=>e.jsx(S,{value:s.code,children:s.name},s.code))]})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶ú‡ßã‡¶®"}),e.jsxs(C,{select:!0,fullWidth:!0,value:n.zoneId,onChange:g("zoneId"),error:!!k.zoneId,disabled:!n.cityCorporationCode,size:"small",SelectProps:{displayEmpty:!0},children:[e.jsx(S,{value:"",disabled:!0,children:"‡¶ú‡ßã‡¶® ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®..."}),n.zoneId&&!P.find(s=>s.id.toString()===n.zoneId)&&e.jsx(S,{value:n.zoneId,sx:{display:"none"},children:((x=o==null?void 0:o.zone)==null?void 0:x.name)||`Zone ${(p=o==null?void 0:o.zone)==null?void 0:p.zoneNumber}`||n.zoneId}),P.map(s=>e.jsx(S,{value:s.id.toString(),children:s.name||`Zone ${s.zoneNumber}`},s.id))]})]}),e.jsxs(i,{size:12,children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶è‡¶∞‡¶ø‡ßü‡¶æ (‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°)"}),e.jsx(Be,{multiple:!0,options:O,getOptionLabel:s=>`Ward ${s.wardNumber}${s.zone?` (Zone ${s.zone.zoneNumber})`:""}`,value:O.filter(s=>n.permissions.wards.includes(s.id)),onChange:K,disabled:!n.cityCorporationCode,size:"small",renderTags:(s,u)=>s.map((c,f)=>{const{key:b,...V}=u({index:f});return e.jsx(_,{label:`Ward ${c.wardNumber}`,size:"small",...V},b)}),renderInput:s=>e.jsx(C,{...s,placeholder:n.permissions.wards.length>0?"":"‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®..."})}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶®‡ßã‡¶ü: ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞‡¶ø ‡¶ú‡ßã‡¶®‡ßá‡¶∞ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá‡¶∞ ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡¶æ ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§"})]}),e.jsxs(i,{size:{xs:12,md:6},children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),e.jsxs(C,{select:!0,fullWidth:!0,value:n.status,onChange:g("status"),size:"small",children:[e.jsx(S,{value:"ACTIVE",children:"Active"}),e.jsx(S,{value:"INACTIVE",children:"Inactive"}),e.jsx(S,{value:"SUSPENDED",children:"Suspended"}),e.jsx(S,{value:"PENDING",children:"Pending"})]})]}),e.jsxs(i,{size:12,children:[e.jsx(r,{variant:"body2",fontWeight:"500",mb:.5,children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° (‡¶Ö‡¶™‡¶∂‡¶®‡¶æ‡¶≤)"}),e.jsx(C,{fullWidth:!0,type:Z?"text":"password",value:n.newPassword,onChange:g("newPassword"),error:!!k.newPassword,helperText:k.newPassword,size:"small",InputProps:{endAdornment:e.jsx(De,{position:"end",children:e.jsx(R,{onClick:()=>T(!Z),edge:"end",size:"small",children:Z?e.jsx(Ue,{}):e.jsx(Fe,{})})})}})]})]})}),e.jsx(i,{size:12,children:e.jsxs(m,{sx:{bgcolor:"#f5f5f5",p:2,borderRadius:2,mt:2},children:[e.jsx(r,{variant:"subtitle2",fontWeight:"bold",mb:2,children:"‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶ì ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤"}),e.jsx(i,{container:!0,spacing:2,children:[{label:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞",key:"canSendMessagesToUsers"},{label:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®",key:"canSendMessagesToAdmins"},{label:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤",key:"canViewComplainantProfile"},{label:"‡¶è‡¶∞‡¶ø‡ßü‡¶æ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏",key:"canViewAreaStats"},{label:"‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßá‡¶®‡ßç‡¶∏",key:"canViewOwnPerformance"},{label:"‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â",key:"canShowReviews"},{label:"‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°",key:"reportDownload"},{label:"‡¶è‡¶ï‡¶∂‡¶® ‡¶è‡¶™‡ßç‡¶∞‡ßÅ‡¶≠‡¶æ‡¶≤",key:"actionApproval"},{label:"‡¶≠‡¶ø‡¶â ‡¶Ö‡¶®‡¶≤‡¶ø",key:"viewOnlyMode"}].map(s=>{let u=!1;s.key==="actionApproval"?u=n.permissions.features.canApproveComplaints:s.key==="reportDownload"?u=n.permissions.features.canDownloadReports:u=!!n.permissions.features[s.key];const c=n.permissions.features.viewOnlyMode&&s.key!=="viewOnlyMode";return e.jsx(i,{size:{xs:12,sm:6,md:4},children:e.jsxs(m,{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,bgcolor:"white",borderRadius:1,border:"1px solid #eee",children:[e.jsx(r,{variant:"body2",color:c?"text.disabled":"text.primary",children:s.label}),e.jsx(_e,{checked:u,onChange:()=>Y(s.key),color:"success",size:"small",disabled:c})]})},s.key)})})]})})]})]}),e.jsxs(Ae,{sx:{p:2,display:"flex",gap:1},children:[e.jsx(q,{onClick:w,variant:"outlined",color:"inherit",fullWidth:!0,sx:{borderColor:"#ddd",color:"#666"},children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx(q,{onClick:a,variant:"contained",color:"success",fullWidth:!0,disabled:se,sx:{bgcolor:"#4caf50","&:hover":{bgcolor:"#45a049"}},children:se?e.jsx(Ne,{size:24,color:"inherit"}):"‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})},xs=({open:o,onClose:A,admin:w})=>{var O,F,$;const[d,n]=l.useState(null),[W,E]=l.useState(!1),[L,P]=l.useState(null);l.useEffect(()=>{o&&(w!=null&&w.id)?ee(w.id):(n(null),P(null))},[o,w]);const ee=async N=>{try{E(!0),P(null);const J=await ae.getUserById(N);n(J.user)}catch(J){console.error("Error fetching admin details:",J),P("Failed to load latest details"),n(w)}finally{E(!1)}};if(!w)return null;const j=d||w,U=N=>N?new Date(N).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A";return e.jsxs(ve,{open:o,onClose:A,maxWidth:"md",fullWidth:!0,children:[e.jsxs(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{sx:{fontWeight:700},children:"‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§"}),e.jsx(R,{onClick:A,children:e.jsx(Ee,{})})]}),e.jsxs(ze,{dividers:!0,children:[W&&e.jsx(m,{sx:{display:"flex",justifyContent:"center",p:2},children:e.jsx(Ne,{size:24})}),L&&e.jsxs(fe,{severity:"warning",sx:{mb:2},children:[L," - Showing cached data"]}),e.jsxs(I,{spacing:3,sx:{opacity:W?.6:1,transition:"opacity 0.2s"},children:[e.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ie,{sx:{width:80,height:80,bgcolor:"#2b7fff",fontSize:32,fontWeight:700},children:(O=j.firstName)==null?void 0:O.charAt(0)}),e.jsxs(m,{sx:{flex:1},children:[e.jsxs(r,{variant:"h5",sx:{fontWeight:700,mb:.5},children:[j.firstName," ",j.lastName]}),e.jsxs(I,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(_,{label:j.role,size:"small",sx:{bgcolor:"#eff6ff",color:"#155dfc"}}),e.jsx(_,{label:j.status==="ACTIVE"?"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º":"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",size:"small",sx:{bgcolor:j.status==="ACTIVE"?"#dcfce7":"#fee2e2",color:j.status==="ACTIVE"?"#008236":"#dc2626"}})]})]})]}),e.jsx(pe,{}),e.jsxs(m,{children:[e.jsx(r,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø"}),e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{size:{xs:12,sm:6},children:e.jsxs(I,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(ns,{sx:{color:"#4a5565"}}),e.jsxs(m,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600},children:j.phone})]})]})}),j.email&&e.jsx(i,{size:{xs:12,sm:6},children:e.jsxs(I,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(is,{sx:{color:"#4a5565"}}),e.jsxs(m,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600},children:j.email})]})]})})]})]}),e.jsx(pe,{}),e.jsxs(m,{children:[e.jsx(r,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø"}),e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{size:{xs:12,sm:4},children:e.jsxs(I,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(os,{sx:{color:"#4a5565"}}),e.jsxs(m,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶®"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600},children:((F=j.cityCorporation)==null?void 0:F.name)||"N/A"})]})]})}),e.jsx(i,{size:{xs:12,sm:4},children:e.jsxs(m,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶ú‡ßã‡¶®"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600},children:(($=j.zone)==null?void 0:$.name)||"‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø ‡¶®‡ßü"})]})}),e.jsx(i,{size:{xs:12,sm:4},children:e.jsxs(m,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600},children:j.ward?`‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ${j.ward.wardNumber}`:"‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø ‡¶®‡ßü"})]})})]}),j.extraWards&&j.extraWards.length>0&&e.jsxs(m,{sx:{mt:2},children:[e.jsx(r,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°"}),e.jsx(I,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:j.extraWards.map(N=>e.jsx(_,{label:`‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ${N.wardNumber}`,size:"small",variant:"outlined",sx:{mb:.5}},N.id))})]})]}),e.jsx(pe,{}),j.statistics&&e.jsxs(m,{children:[e.jsx(r,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®"}),e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{size:{xs:6,sm:3},children:e.jsxs(m,{sx:{textAlign:"center",p:2,bgcolor:"#f9fafb",borderRadius:2},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,color:"#155dfc"},children:j.statistics.totalComplaints||0}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶Æ‡ßã‡¶ü ‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó"})]})}),e.jsx(i,{size:{xs:6,sm:3},children:e.jsxs(m,{sx:{textAlign:"center",p:2,bgcolor:"#f0fdf4",borderRadius:2},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,color:"#00a63e"},children:j.statistics.resolvedComplaints||0}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"})]})}),e.jsx(i,{size:{xs:6,sm:3},children:e.jsxs(m,{sx:{textAlign:"center",p:2,bgcolor:"#fff7ed",borderRadius:2},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,color:"#d08700"},children:j.statistics.pendingComplaints||0}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç"})]})}),e.jsx(i,{size:{xs:6,sm:3},children:e.jsxs(m,{sx:{textAlign:"center",p:2,bgcolor:"#eff6ff",borderRadius:2},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:700,color:"#155dfc"},children:j.statistics.inProgressComplaints||0}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶ö‡¶≤‡¶Æ‡¶æ‡¶®"})]})})]})]}),e.jsx(pe,{}),e.jsxs(m,{children:[e.jsx(r,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡¶•‡ßç‡¶Ø"}),e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{size:{xs:12,sm:6},children:e.jsxs(I,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Re,{sx:{color:"#4a5565"}}),e.jsxs(m,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600},children:U(j.createdAt)})]})]})}),j.lastLoginAt&&e.jsx(i,{size:{xs:12,sm:6},children:e.jsxs(I,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Re,{sx:{color:"#4a5565"}}),e.jsxs(m,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"‡¶∂‡ßá‡¶∑ ‡¶≤‡¶ó‡¶á‡¶®"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600},children:U(j.lastLoginAt)})]})]})})]})]})]})]}),e.jsx(Ae,{children:e.jsx(q,{variant:"contained",onClick:A,sx:{bgcolor:"#3fa564"},children:"‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®"})})]})},ne=({title:o,value:A,bg:w,color:d,loading:n=!1})=>e.jsx(we,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:e.jsx(Ce,{sx:{bgcolor:w,borderRadius:2},children:e.jsxs(I,{spacing:.5,children:[e.jsx(r,{sx:{color:"#4a5565",fontSize:14},children:o}),n?e.jsx(Ze,{width:60,height:32}):e.jsx(r,{sx:{fontSize:24,fontWeight:700,color:d},children:A})]})})}),zs=()=>{const{user:o,isAuthenticated:A}=Je(),[w,d]=l.useState([]),[n,W]=l.useState(!0),[E,L]=l.useState(!0),[P,ee]=l.useState(null),[j,U]=l.useState(""),[O,F]=l.useState(1),[$,N]=l.useState(1),[J,ie]=l.useState(0),[M,H]=l.useState(""),[Z,T]=l.useState(""),[k,B]=l.useState(!1),[se,G]=l.useState(!1),[Q,X]=l.useState(!1),[oe,te]=l.useState(!1),[D,z]=l.useState(null),[g,K]=l.useState([]),[Y,le]=l.useState(de.ACTIVE),[a,h]=l.useState([]),[x,p]=l.useState([]),[s,u]=l.useState({total:0,active:0,inactive:0,online:0,offline:0,newToday:0}),c=(o==null?void 0:o.role)||null;o!=null&&o.zoneId,console.log("üîê Admin Management Access Check:",{isAuthenticated:A,userRole:c,hasAccess:c==="MASTER_ADMIN"||c==="SUPER_ADMIN",isMasterAdmin:c==="MASTER_ADMIN",isSuperAdmin:c==="SUPER_ADMIN"});const f=l.useCallback(async()=>{try{const t=await We.getCityCorporations();console.log("‚úÖ City Corporations response:",t),t&&t.cityCorporations&&Array.isArray(t.cityCorporations)?h(t.cityCorporations):(console.warn("‚ö†Ô∏è Invalid city corporations response format:",t),h([]))}catch(t){console.error("‚ùå Error fetching city corporations:",t),h([])}},[]);l.useCallback(async t=>{try{const y=await ue.getWards({zoneId:t});console.log("‚úÖ Wards response:",y),y&&y.wards&&Array.isArray(y.wards)?p(y.wards):(console.warn("‚ö†Ô∏è Invalid wards response format:",y),p([]))}catch(y){console.error("‚ùå Error fetching wards:",y),p([])}},[]);const b=l.useCallback(async()=>{try{W(!0),ee(null);const t={page:O,limit:20,role:"ADMIN",search:j||void 0,cityCorporationCode:M||void 0,zoneId:Z||void 0,status:Y==="ALL"?void 0:Y};console.log("üîç Admin Management Query:",t);const y=await ae.getUsers(t);console.log("‚úÖ Admin Management Response:",y),d(y.users||[]),ie(y.pagination.total),N(y.pagination.totalPages)}catch(t){console.error("Error fetching admins:",t),ee(t.message||"Failed to fetch admins"),d([])}finally{W(!1)}},[O,j,M,Z,Y]),V=l.useCallback(async()=>{var t,y;try{L(!0);const v=await ae.getUserStatistics(M||void 0,"ADMIN");u({total:v.totalCitizens||0,active:((t=v.statusBreakdown)==null?void 0:t.active)||0,inactive:((y=v.statusBreakdown)==null?void 0:y.inactive)||0,online:0,offline:0,newToday:v.newUsersThisMonth||0})}catch(v){console.error("Error fetching statistics:",v)}finally{L(!1)}},[M]);l.useEffect(()=>{f()},[f]),l.useEffect(()=>{b()},[b]),l.useEffect(()=>{V()},[V]),l.useEffect(()=>{T("")},[M]),l.useEffect(()=>{const t=setTimeout(()=>{F(1)},500);return()=>clearTimeout(t)},[j]);const je=async()=>{if(D)try{he.success("Admin deleted successfully"),X(!1),z(null),b(),V()}catch(t){he.error(t.message||"Failed to delete admin")}},me=async()=>{if(g.length!==0&&window.confirm(`Are you sure you want to delete ${g.length} users?`))try{await ae.bulkDeleteUsers(g),he.success("Users deleted successfully"),K([]),b(),V()}catch(t){he.error(t.message||"Failed to delete users")}},ge=t=>{if(t.target.checked){const y=w.map(v=>v.id);K(y);return}K([])},ce=t=>{const y=g.indexOf(t);let v=[];y===-1?v=v.concat(g,t):y===0?v=v.concat(g.slice(1)):y===g.length-1?v=v.concat(g.slice(0,-1)):y>0&&(v=v.concat(g.slice(0,y),g.slice(y+1))),K(v)};return c==="MASTER_ADMIN"||c==="SUPER_ADMIN"?e.jsx(ke,{title:"‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü",children:e.jsxs(I,{spacing:3,children:[e.jsx(we,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:e.jsxs(Ce,{children:[e.jsx(r,{sx:{fontSize:24,fontWeight:700,color:"#1e2939",mb:2},children:"‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü"}),e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{size:{xs:12,md:2},children:e.jsx(ne,{title:"‡¶Æ‡ßã‡¶ü ‡¶è‡¶°‡¶Æ‡¶ø‡¶®",value:s.total,bg:"#eff6ff",color:"#155dfc",loading:E})}),e.jsx(i,{size:{xs:12,md:2},children:e.jsx(ne,{title:"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",value:s.active,bg:"#f0fdf4",color:"#00a63e",loading:E})}),e.jsx(i,{size:{xs:12,md:2},children:e.jsx(ne,{title:"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",value:s.inactive,bg:"#fef2f2",color:"#e7000b",loading:E})}),e.jsx(i,{size:{xs:12,md:2},children:e.jsx(ne,{title:"‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶®",value:s.online,bg:"#faf5ff",color:"#9810fa",loading:E})}),e.jsx(i,{item:!0,xs:12,md:2,children:e.jsx(ne,{title:"‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®",value:s.offline,bg:"#f3f4f6",color:"#4a5565",loading:E})}),e.jsx(i,{item:!0,xs:12,md:2,children:e.jsx(ne,{title:"‡¶Ü‡¶ú ‡¶®‡¶§‡ßÅ‡¶®",value:`+${s.newToday}`,bg:"#fff7ed",color:"#f54900",loading:E})})]})]})}),e.jsx(we,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:e.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[c==="MASTER_ADMIN"&&e.jsxs(Pe,{sx:{minWidth:180},children:[e.jsx(Me,{children:"‡¶∏‡¶ï‡¶≤ ‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶®"}),e.jsxs(Oe,{label:"‡¶∏‡¶ï‡¶≤ ‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶®",value:M,onChange:t=>H(t.target.value),children:[e.jsx(S,{value:"",children:"‡¶∏‡¶ï‡¶≤ ‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶®"}),Array.isArray(a)&&a.map(t=>e.jsx(S,{value:t.code,children:t.name},t.code))]})]}),e.jsx(m,{sx:{minWidth:200},children:e.jsx(He,{value:Z,onChange:t=>T(t),cityCorporationCode:M,disabled:!M&&c==="MASTER_ADMIN",label:"‡¶∏‡¶ï‡¶≤ ‡¶ú‡ßã‡¶®"})}),e.jsxs(Pe,{sx:{minWidth:150},size:"small",children:[e.jsx(Me,{children:"Status"}),e.jsxs(Oe,{value:Y,label:"Status",onChange:t=>{le(t.target.value),F(1)},children:[e.jsx(S,{value:"ALL",children:"All"}),e.jsx(S,{value:de.ACTIVE,children:"Active"}),e.jsx(S,{value:de.INACTIVE,children:"Inactive"}),e.jsx(S,{value:de.PENDING,children:"Pending"}),e.jsx(S,{value:de.SUSPENDED,children:"Suspended"})]})]}),e.jsx(C,{value:j,onChange:t=>U(t.target.value),placeholder:"‡¶®‡¶æ‡¶Æ/‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",fullWidth:!0,InputProps:{startAdornment:e.jsx(De,{position:"start",children:e.jsx(Ge,{sx:{color:"#0a0a0a80"}})})},sx:{maxWidth:500}}),e.jsx(q,{variant:"contained",sx:{bgcolor:"#3fa564"},startIcon:e.jsx(ss,{}),onClick:()=>B(!0),children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"})]})}),e.jsxs(we,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:[e.jsx(m,{sx:{width:"100%",p:2,display:"flex",justifyContent:"flex-end"},children:g.length>0&&e.jsxs(q,{variant:"outlined",color:"error",onClick:me,startIcon:e.jsx(Ve,{}),children:["Delete Selected (",g.length,")"]})}),e.jsx(m,{sx:{bgcolor:"#f9fafb",borderBottom:"1px solid #e5e7eb",px:3,py:1.5},children:e.jsxs(i,{container:!0,alignItems:"center",children:[e.jsx(i,{item:!0,xs:1,sx:{maxWidth:"50px",flexBasis:"50px"},children:e.jsx(Te,{indeterminate:g.length>0&&g.length<w.length,checked:w.length>0&&g.length===w.length,onChange:ge})}),e.jsx(i,{item:!0,xs:3,children:e.jsx(r,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶è‡¶°‡¶Æ‡¶ø‡¶®"})}),e.jsx(i,{item:!0,xs:3,children:e.jsx(r,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶è‡¶≤‡¶æ‡¶ï‡¶æ"})}),e.jsx(i,{item:!0,xs:3,children:e.jsx(r,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"})}),e.jsx(i,{item:!0,xs:2,children:e.jsx(r,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®"})})]})}),e.jsxs(Ce,{sx:{px:0},children:[n?e.jsx(m,{sx:{p:3},children:[1,2,3].map(t=>e.jsx(I,{spacing:1,sx:{mb:2},children:e.jsx(Ze,{variant:"rectangular",height:60})},t))}):P?e.jsx(m,{sx:{p:3},children:e.jsx(fe,{severity:"error",children:P})}):w.length===0?e.jsx(m,{sx:{p:3,textAlign:"center"},children:e.jsx(r,{color:"text.secondary",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø"})}):e.jsx(Qe,{children:e.jsx(Ke,{children:e.jsx(Ye,{children:w.map(t=>{var v;const y=g.indexOf(t.id)!==-1;return e.jsxs(es,{hover:!0,selected:y,children:[e.jsx(xe,{padding:"checkbox",sx:{width:"50px"},children:e.jsx(Te,{checked:y,onChange:()=>ce(t.id)})}),e.jsx(xe,{sx:{width:"35%"},children:e.jsxs(I,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(Ie,{sx:{bgcolor:"#2b7fff"},children:t.firstName.charAt(0)}),e.jsxs(m,{children:[e.jsxs(r,{sx:{fontSize:16,fontWeight:700},children:[t.firstName," ",t.lastName]}),e.jsx(r,{sx:{fontSize:14,color:"#4a5565"},children:t.phone})]})]})}),e.jsx(xe,{sx:{width:"25%"},children:e.jsxs(I,{spacing:.5,children:[e.jsx(r,{sx:{fontSize:16,color:"#1e2939"},children:((v=t.cityCorporation)==null?void 0:v.name)||"N/A"}),e.jsxs(I,{direction:"row",spacing:.5,flexWrap:"wrap",useFlexGap:!0,sx:{mt:.5},children:[t.zone?e.jsx(_,{label:t.zone.name,size:"small",variant:"outlined",color:"primary",sx:{height:24}}):null,t.ward?e.jsx(_,{label:`Ward ${t.ward.wardNumber}`,size:"small",variant:"outlined",sx:{height:24}}):null,t.extraWards&&t.extraWards.length>0&&e.jsx(_,{label:`+${t.extraWards.length} Wards`,size:"small",variant:"outlined",color:"info",sx:{height:24}}),!t.zone&&!t.ward&&(!t.extraWards||t.extraWards.length===0)&&e.jsx(r,{variant:"caption",color:"text.secondary",children:"N/A"})]})]})}),e.jsx(xe,{sx:{width:"20%"},children:e.jsxs(I,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(_,{label:t.status==="ACTIVE"?"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º":"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",size:"small",sx:{bgcolor:t.status==="ACTIVE"?"#dcfce7":"#fee2e2",color:t.status==="ACTIVE"?"#008236":"#dc2626"}}),e.jsx(r,{sx:{fontSize:12,color:"#6a7282"},children:"‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®"})]})}),e.jsx(xe,{sx:{width:"20%"},children:e.jsxs(I,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(I,{children:[e.jsxs(r,{sx:{fontSize:14,color:"#1e2939",fontWeight:700},children:["‡¶Æ‡ßã‡¶ü: ",t.statistics.totalComplaints]}),e.jsxs(I,{direction:"row",spacing:2,children:[e.jsxs(r,{sx:{fontSize:12,color:"#00a63e"},children:["‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®: ",t.statistics.resolvedComplaints]}),e.jsxs(r,{sx:{fontSize:12,color:"#d08700"},children:["‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç: ",t.statistics.pendingComplaints]})]})]}),e.jsx(pe,{orientation:"vertical",flexItem:!0}),e.jsxs(I,{direction:"row",spacing:1,children:[e.jsx(R,{size:"small",color:"primary",onClick:()=>{he("Direct messaging coming soon!",{icon:"üí¨"})},children:e.jsx(rs,{})}),e.jsx(R,{size:"small",onClick:()=>{z(t),te(!0)},children:e.jsx(ls,{})}),e.jsx(R,{size:"small",onClick:()=>{z(t),G(!0)},children:e.jsx(ts,{})}),e.jsx(R,{size:"small",color:"error",onClick:()=>{z(t),X(!0)},children:e.jsx(Ve,{})})]})]})})]},t.id)})})})}),!n&&!P&&$>1&&e.jsx(m,{sx:{display:"flex",justifyContent:"center",mt:3,mb:2},children:e.jsx(as,{count:$,page:O,onChange:(t,y)=>F(y),color:"primary"})})]})]}),e.jsx(cs,{open:k,onClose:()=>B(!1),onSuccess:()=>{b(),V()}}),e.jsx(ds,{open:se,onClose:()=>{G(!1),z(null)},onSuccess:()=>{b(),V()},admin:D}),e.jsx(xs,{open:oe,onClose:()=>{te(!1),z(null)},admin:D}),e.jsxs(ve,{open:Q,onClose:()=>X(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(Se,{children:e.jsx(r,{sx:{fontWeight:700},children:"‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®"})}),e.jsx(ze,{children:e.jsxs(r,{children:["‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ",D==null?void 0:D.firstName," ",D==null?void 0:D.lastName," ‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?"]})}),e.jsxs(Ae,{children:[e.jsx(q,{variant:"outlined",onClick:()=>X(!1),children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx(q,{variant:"contained",color:"error",onClick:je,children:"‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®"})]})]})]})}):e.jsx(ke,{title:"Admin Management",children:e.jsx(fe,{severity:"error",children:"You do not have permission to access this page."})})};export{zs as default};
