import{r as _,a as Xe,g as He,u as Ge,j as t,s as je,c as Ne,d as Ye,e as ls,aO as Ds,m as Ke,p as pt,b as cs,N as xe,aD as P,K as at,aj as Le,aH as Ts,D as Ct,E as wt,T as h,I as Re,H as Vt,J as At,am as _t,P as be,an as ds,F as N,U as Oe,aa as $e,V as Be,W as ae,ao as ve,aN as pe,aK as he,aP as Rs,a1 as Ns,L as Ws,G as kt,X as Ee,aQ as We,aR as mt,aS as Pe,aT as Ps,as as Me,at as Ie,a5 as Us,O as Os,ac as $s,aM as Zt,ae as Bs,ai as Zs,ag as qt,ah as ke,af as qs}from"./index-D65jGImX.js";import{A as Xs}from"./Add-C2Lv3exw.js";import{A as Hs,S as le,E as Gs,L as Ys,C as Ks,a as Qs,D as Xt,V as Js,b as er}from"./VisibilityOutlined-CsTnkl48.js";import{A as us}from"./AvatarUpload-Bz4ow2Vp.js";import{S as W}from"./Stack-BqCc7kL7.js";import{P as tr}from"./PhoneOutlined-CThM0-Pd.js";import{G as oe}from"./Grid-Czz0rCsS.js";import{a as sr}from"./activityLogService-gFkyDrHO.js";import{f as rr}from"./format-f5IwIX-o.js";import{P as nr}from"./Pagination-C-FwZtce.js";import"./CloudUpload-qDcbyucg.js";import"./styled-WacELgwx.js";import"./useThemeProps-Wjhhbhao.js";const lt=_.createContext({}),Et=_.createContext({});function ir(e){return Xe("MuiStep",e)}He("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const or=e=>{const{classes:r,orientation:s,alternativeLabel:n,completed:a}=e;return Ye({root:["root",s,n&&"alternativeLabel",a&&"completed"]},ir,r)},ar=je("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.root,r[s.orientation],s.alternativeLabel&&r.alternativeLabel,s.completed&&r.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),fs=_.forwardRef(function(r,s){const n=Ge({props:r,name:"MuiStep"}),{active:a,children:o,className:c,component:u="div",completed:p,disabled:I,expanded:S=!1,index:f,last:y,...O}=n,{activeStep:v,connector:E,alternativeLabel:T,orientation:D,nonLinear:w}=_.useContext(lt);let[k=!1,R=!1,L=!1]=[a,p,I];v===f?k=a!==void 0?a:!0:!w&&v>f?R=p!==void 0?p:!0:!w&&v<f&&(L=I!==void 0?I:!0);const q=_.useMemo(()=>({index:f,last:y,expanded:S,icon:f+1,active:k,completed:R,disabled:L}),[f,y,S,k,R,L]),$={...n,active:k,orientation:D,alternativeLabel:T,completed:R,disabled:L,expanded:S,component:u},b=or($),F=t.jsxs(ar,{as:u,className:Ne(b.root,c),ref:s,ownerState:$,...O,children:[E&&T&&f!==0?E:null,o]});return t.jsx(Et.Provider,{value:q,children:E&&!T&&f!==0?t.jsxs(_.Fragment,{children:[E,F]}):F})}),lr=ls(t.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),cr=ls(t.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function dr(e){return Xe("MuiStepIcon",e)}const gt=He("MuiStepIcon",["root","active","completed","error","text"]);var Ht;const ur=e=>{const{classes:r,active:s,completed:n,error:a}=e;return Ye({root:["root",s&&"active",n&&"completed",a&&"error"],text:["text"]},dr,r)},yt=je(Ds,{name:"MuiStepIcon",slot:"Root"})(Ke(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${gt.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${gt.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${gt.error}`]:{color:(e.vars||e).palette.error.main}}))),fr=je("text",{name:"MuiStepIcon",slot:"Text"})(Ke(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily}))),hr=_.forwardRef(function(r,s){const n=Ge({props:r,name:"MuiStepIcon"}),{active:a=!1,className:o,completed:c=!1,error:u=!1,icon:p,...I}=n,S={...n,active:a,completed:c,error:u},f=ur(S);if(typeof p=="number"||typeof p=="string"){const y=Ne(o,f.root);return u?t.jsx(yt,{as:cr,className:y,ref:s,ownerState:S,...I}):c?t.jsx(yt,{as:lr,className:y,ref:s,ownerState:S,...I}):t.jsxs(yt,{className:y,ref:s,ownerState:S,...I,children:[Ht||(Ht=t.jsx("circle",{cx:"12",cy:"12",r:"12"})),t.jsx(fr,{className:f.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:S,children:p})]})}return p});function xr(e){return Xe("MuiStepLabel",e)}const Ae=He("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),pr=e=>{const{classes:r,orientation:s,active:n,completed:a,error:o,disabled:c,alternativeLabel:u}=e;return Ye({root:["root",s,o&&"error",c&&"disabled",u&&"alternativeLabel"],label:["label",n&&"active",a&&"completed",o&&"error",c&&"disabled",u&&"alternativeLabel"],iconContainer:["iconContainer",n&&"active",a&&"completed",o&&"error",c&&"disabled",u&&"alternativeLabel"],labelContainer:["labelContainer",u&&"alternativeLabel"]},xr,r)},mr=je("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.root,r[s.orientation]]}})({display:"flex",alignItems:"center",[`&.${Ae.alternativeLabel}`]:{flexDirection:"column"},[`&.${Ae.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),gr=je("span",{name:"MuiStepLabel",slot:"Label"})(Ke(({theme:e})=>({...e.typography.body2,display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${Ae.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Ae.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Ae.alternativeLabel}`]:{marginTop:16},[`&.${Ae.error}`]:{color:(e.vars||e).palette.error.main}}))),yr=je("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${Ae.alternativeLabel}`]:{paddingRight:0}}),br=je("span",{name:"MuiStepLabel",slot:"LabelContainer"})(Ke(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${Ae.alternativeLabel}`]:{textAlign:"center"}}))),Mt=_.forwardRef(function(r,s){const n=Ge({props:r,name:"MuiStepLabel"}),{children:a,className:o,componentsProps:c={},error:u=!1,icon:p,optional:I,slots:S={},slotProps:f={},StepIconComponent:y,StepIconProps:O,...v}=n,{alternativeLabel:E,orientation:T}=_.useContext(lt),{active:D,disabled:w,completed:k,icon:R}=_.useContext(Et),L=p||R;let q=y;L&&!q&&(q=hr);const $={...n,active:D,alternativeLabel:E,completed:k,disabled:w,error:u,orientation:T},b=pr($),F={slots:S,slotProps:{stepIcon:O,...c,...f}},[g,A]=pt("root",{elementType:mr,externalForwardedProps:{...F,...v},ownerState:$,ref:s,className:Ne(b.root,o)}),[z,U]=pt("label",{elementType:gr,externalForwardedProps:F,ownerState:$}),[X,te]=pt("stepIcon",{elementType:q,externalForwardedProps:F,ownerState:$});return t.jsxs(g,{...A,children:[L||X?t.jsx(yr,{className:b.iconContainer,ownerState:$,children:t.jsx(X,{completed:k,active:D,error:u,icon:L,...te})}):null,t.jsxs(br,{className:b.labelContainer,ownerState:$,children:[a?t.jsx(z,{...U,className:Ne(b.label,U==null?void 0:U.className),children:a}):null,I]})]})});Mt.muiName="StepLabel";function vr(e){return Xe("MuiStepConnector",e)}He("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const jr=e=>{const{classes:r,orientation:s,alternativeLabel:n,active:a,completed:o,disabled:c}=e,u={root:["root",s,n&&"alternativeLabel",a&&"active",o&&"completed",c&&"disabled"],line:["line",`line${cs(s)}`]};return Ye(u,vr,r)},Sr=je("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.root,r[s.orientation],s.alternativeLabel&&r.alternativeLabel,s.completed&&r.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),Cr=je("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.line,r[`line${cs(s.orientation)}`]]}})(Ke(({theme:e})=>{const r=e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600];return{display:"block",borderColor:e.vars?e.vars.palette.StepConnector.border:r,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),wr=_.forwardRef(function(r,s){const n=Ge({props:r,name:"MuiStepConnector"}),{className:a,...o}=n,{alternativeLabel:c,orientation:u="horizontal"}=_.useContext(lt),{active:p,disabled:I,completed:S}=_.useContext(Et),f={...n,alternativeLabel:c,orientation:u,active:p,completed:S,disabled:I},y=jr(f);return t.jsx(Sr,{className:Ne(y.root,a),ref:s,ownerState:f,...o,children:t.jsx(Cr,{className:y.line,ownerState:f})})});function Vr(e){return Xe("MuiStepper",e)}He("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Ar=e=>{const{orientation:r,nonLinear:s,alternativeLabel:n,classes:a}=e;return Ye({root:["root",r,s&&"nonLinear",n&&"alternativeLabel"]},Vr,a)},_r=je("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.root,r[s.orientation],s.alternativeLabel&&r.alternativeLabel,s.nonLinear&&r.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),kr=t.jsx(wr,{}),hs=_.forwardRef(function(r,s){const n=Ge({props:r,name:"MuiStepper"}),{activeStep:a=0,alternativeLabel:o=!1,children:c,className:u,component:p="div",connector:I=kr,nonLinear:S=!1,orientation:f="horizontal",...y}=n,O={...n,nonLinear:S,alternativeLabel:o,orientation:f,component:p},v=Ar(O),E=_.Children.toArray(c).filter(Boolean),T=E.map((w,k)=>_.cloneElement(w,{index:k,last:k+1===E.length,...w.props})),D=_.useMemo(()=>({activeStep:a,alternativeLabel:o,connector:I,nonLinear:S,orientation:f}),[a,o,I,S,f]);return t.jsx(lt.Provider,{value:D,children:t.jsx(_r,{as:p,ownerState:O,className:Ne(v.root,u),ref:s,...y,children:T})})}),xs=({value:e,onChange:r,cityCorporationCode:s,label:n="Assigned Zones",error:a,helperText:o,disabled:c})=>{const[u,p]=_.useState([]),[I,S]=_.useState(!1),[f,y]=_.useState(!1);_.useEffect(()=>{s?(async()=>{try{S(!0);const E=await Ts.getZones({cityCorporationCode:s,status:"ACTIVE"});E.zones&&p(E.zones)}catch(E){console.error("Failed to fetch zones:",E)}finally{S(!1)}})():p([])},[s]);const O=u.filter(v=>e.includes(v.id));return t.jsx(Hs,{multiple:!0,open:f,onOpen:()=>y(!0),onClose:()=>y(!1),options:u,getOptionLabel:v=>v.name||`Zone ${v.id}`,value:O,onChange:(v,E)=>{const T=E.map(D=>D.id);r(T)},isOptionEqualToValue:(v,E)=>v.id===E.id,loading:I,disabled:c,renderTags:(v,E)=>v.map((T,D)=>_.createElement(Le,{label:T.name||`Zone ${T.id}`,...E({index:D}),size:"small",key:T.id})),renderInput:v=>t.jsx(xe,{...v,label:n,error:a,helperText:o,InputProps:{...v.InputProps,endAdornment:t.jsxs(P.Fragment,{children:[I?t.jsx(at,{color:"inherit",size:20}):null,v.InputProps.endAdornment]})}}),noOptionsText:"No zones found"})};var Qe=e=>e.type==="checkbox",Fe=e=>e instanceof Date,ie=e=>e==null;const ps=e=>typeof e=="object";var ee=e=>!ie(e)&&!Array.isArray(e)&&ps(e)&&!Fe(e),ms=e=>ee(e)&&e.target?Qe(e.target)?e.target.checked:e.target.value:e,Er=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gs=(e,r)=>e.has(Er(r)),Mr=e=>{const r=e.constructor&&e.constructor.prototype;return ee(r)&&r.hasOwnProperty("isPrototypeOf")},It=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function se(e){let r;const s=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(It&&(e instanceof Blob||n))&&(s||ee(e)))if(r=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!Mr(e))r=e;else for(const a in e)e.hasOwnProperty(a)&&(r[a]=se(e[a]));else return e;return r}var ct=e=>/^\w*$/.test(e),K=e=>e===void 0,Ft=e=>Array.isArray(e)?e.filter(Boolean):[],Lt=e=>Ft(e.replace(/["|']|\]/g,"").split(/\.|\[/)),j=(e,r,s)=>{if(!r||!ee(e))return s;const n=(ct(r)?[r]:Lt(r)).reduce((a,o)=>ie(a)?a:a[o],e);return K(n)||n===e?K(e[r])?s:e[r]:n},ce=e=>typeof e=="boolean",G=(e,r,s)=>{let n=-1;const a=ct(r)?[r]:Lt(r),o=a.length,c=o-1;for(;++n<o;){const u=a[n];let p=s;if(n!==c){const I=e[u];p=ee(I)||Array.isArray(I)?I:isNaN(+a[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=p,e=e[u]}};const nt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},me={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ys=P.createContext(null);ys.displayName="HookFormContext";const zt=()=>P.useContext(ys);var bs=(e,r,s,n=!0)=>{const a={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const c=o;return r._proxyFormState[c]!==me.all&&(r._proxyFormState[c]=!n||me.all),s&&(s[c]=!0),e[c]}});return a};const Dt=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Ir(e){const r=zt(),{control:s=r.control,disabled:n,name:a,exact:o}=e||{},[c,u]=P.useState(s._formState),p=P.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Dt(()=>s._subscribe({name:a,formState:p.current,exact:o,callback:I=>{!n&&u({...s._formState,...I})}}),[a,n,o]),P.useEffect(()=>{p.current.isValid&&s._setValid(!0)},[s]),P.useMemo(()=>bs(c,s,p.current,!1),[c,s])}var de=e=>typeof e=="string",vt=(e,r,s,n,a)=>de(e)?(n&&r.watch.add(e),j(s,e,a)):Array.isArray(e)?e.map(o=>(n&&r.watch.add(o),j(s,o))):(n&&(r.watchAll=!0),s),jt=e=>ie(e)||!ps(e);function ge(e,r,s=new WeakSet){if(jt(e)||jt(r))return e===r;if(Fe(e)&&Fe(r))return e.getTime()===r.getTime();const n=Object.keys(e),a=Object.keys(r);if(n.length!==a.length)return!1;if(s.has(e)||s.has(r))return!0;s.add(e),s.add(r);for(const o of n){const c=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const u=r[o];if(Fe(c)&&Fe(u)||ee(c)&&ee(u)||Array.isArray(c)&&Array.isArray(u)?!ge(c,u,s):c!==u)return!1}}return!0}function Fr(e){const r=zt(),{control:s=r.control,name:n,defaultValue:a,disabled:o,exact:c,compute:u}=e||{},p=P.useRef(a),I=P.useRef(u),S=P.useRef(void 0),f=P.useRef(s),y=P.useRef(n);I.current=u;const[O,v]=P.useState(()=>{const R=s._getWatch(n,p.current);return I.current?I.current(R):R}),E=P.useCallback(R=>{const L=vt(n,s._names,R||s._formValues,!1,p.current);return I.current?I.current(L):L},[s._formValues,s._names,n]),T=P.useCallback(R=>{if(!o){const L=vt(n,s._names,R||s._formValues,!1,p.current);if(I.current){const q=I.current(L);ge(q,S.current)||(v(q),S.current=q)}else v(L)}},[s._formValues,s._names,o,n]);Dt(()=>((f.current!==s||!ge(y.current,n))&&(f.current=s,y.current=n,T()),s._subscribe({name:n,formState:{values:!0},exact:c,callback:R=>{T(R.values)}})),[s,c,n,T]),P.useEffect(()=>s._removeUnmounted());const D=f.current!==s,w=y.current,k=P.useMemo(()=>{if(o)return null;const R=!D&&!ge(w,n);return D||R?E():null},[o,D,n,w,E]);return k!==null?k:O}function Lr(e){const r=zt(),{name:s,disabled:n,control:a=r.control,shouldUnregister:o,defaultValue:c}=e,u=gs(a._names.array,s),p=P.useMemo(()=>j(a._formValues,s,j(a._defaultValues,s,c)),[a,s,c]),I=Fr({control:a,name:s,defaultValue:p,exact:!0}),S=Ir({control:a,name:s,exact:!0}),f=P.useRef(e),y=P.useRef(void 0),O=P.useRef(a.register(s,{...e.rules,value:I,...ce(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const v=P.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!j(S.errors,s)},isDirty:{enumerable:!0,get:()=>!!j(S.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!j(S.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!j(S.validatingFields,s)},error:{enumerable:!0,get:()=>j(S.errors,s)}}),[S,s]),E=P.useCallback(k=>O.current.onChange({target:{value:ms(k),name:s},type:nt.CHANGE}),[s]),T=P.useCallback(()=>O.current.onBlur({target:{value:j(a._formValues,s),name:s},type:nt.BLUR}),[s,a._formValues]),D=P.useCallback(k=>{const R=j(a._fields,s);R&&k&&(R._f.ref={focus:()=>k.focus&&k.focus(),select:()=>k.select&&k.select(),setCustomValidity:L=>k.setCustomValidity(L),reportValidity:()=>k.reportValidity()})},[a._fields,s]),w=P.useMemo(()=>({name:s,value:I,...ce(n)||S.disabled?{disabled:S.disabled||n}:{},onChange:E,onBlur:T,ref:D}),[s,n,S.disabled,E,T,D,I]);return P.useEffect(()=>{const k=a._options.shouldUnregister||o,R=y.current;R&&R!==s&&!u&&a.unregister(R),a.register(s,{...f.current.rules,...ce(f.current.disabled)?{disabled:f.current.disabled}:{}});const L=(q,$)=>{const b=j(a._fields,q);b&&b._f&&(b._f.mount=$)};if(L(s,!0),k){const q=se(j(a._options.defaultValues,s,f.current.defaultValue));G(a._defaultValues,s,q),K(j(a._formValues,s))&&G(a._formValues,s,q)}return!u&&a.register(s),y.current=s,()=>{(u?k&&!a._state.action:k)?a.unregister(s):L(s,!1)}},[s,a,u,o]),P.useEffect(()=>{a._setDisabledField({disabled:n,name:s})},[n,s,a]),P.useMemo(()=>({field:w,formState:S,fieldState:v}),[w,S,v])}const Z=e=>e.render(Lr(e));var zr=(e,r,s,n,a)=>r?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[n]:a||!0}}:{},Ze=e=>Array.isArray(e)?e:[e],Gt=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}};function vs(e,r){const s={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],o=r[n];if(a&&ee(a)&&o){const c=vs(a,o);ee(c)&&(s[n]=c)}else e[n]&&(s[n]=o)}return s}var ne=e=>ee(e)&&!Object.keys(e).length,Tt=e=>e.type==="file",ye=e=>typeof e=="function",it=e=>{if(!It)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},js=e=>e.type==="select-multiple",Rt=e=>e.type==="radio",Dr=e=>Rt(e)||Qe(e),bt=e=>it(e)&&e.isConnected;function Tr(e,r){const s=r.slice(0,-1).length;let n=0;for(;n<s;)e=K(e)?n++:e[r[n++]];return e}function Rr(e){for(const r in e)if(e.hasOwnProperty(r)&&!K(e[r]))return!1;return!0}function J(e,r){const s=Array.isArray(r)?r:ct(r)?[r]:Lt(r),n=s.length===1?e:Tr(e,s),a=s.length-1,o=s[a];return n&&delete n[o],a!==0&&(ee(n)&&ne(n)||Array.isArray(n)&&Rr(n))&&J(e,s.slice(0,-1)),e}var Nr=e=>{for(const r in e)if(ye(e[r]))return!0;return!1};function Ss(e){return Array.isArray(e)||ee(e)&&!Nr(e)}function St(e,r={}){for(const s in e)Ss(e[s])?(r[s]=Array.isArray(e[s])?[]:{},St(e[s],r[s])):K(e[s])||(r[s]=!0);return r}function Te(e,r,s){s||(s=St(r));for(const n in e)Ss(e[n])?K(r)||jt(s[n])?s[n]=St(e[n],Array.isArray(e[n])?[]:{}):Te(e[n],ie(r)?{}:r[n],s[n]):s[n]=!ge(e[n],r[n]);return s}const Yt={value:!1,isValid:!1},Kt={value:!0,isValid:!0};var Cs=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!K(e[0].attributes.value)?K(e[0].value)||e[0].value===""?Kt:{value:e[0].value,isValid:!0}:Kt:Yt}return Yt},ws=(e,{valueAsNumber:r,valueAsDate:s,setValueAs:n})=>K(e)?e:r?e===""?NaN:e&&+e:s&&de(e)?new Date(e):n?n(e):e;const Qt={isValid:!1,value:null};var Vs=e=>Array.isArray(e)?e.reduce((r,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:r,Qt):Qt;function Jt(e){const r=e.ref;return Tt(r)?r.files:Rt(r)?Vs(e.refs).value:js(r)?[...r.selectedOptions].map(({value:s})=>s):Qe(r)?Cs(e.refs).value:ws(K(r.value)?e.ref.value:r.value,e)}var Wr=(e,r,s,n)=>{const a={};for(const o of e){const c=j(r,o);c&&G(a,o,c._f)}return{criteriaMode:s,names:[...e],fields:a,shouldUseNativeValidation:n}},ot=e=>e instanceof RegExp,Ue=e=>K(e)?e:ot(e)?e.source:ee(e)?ot(e.value)?e.value.source:e.value:e,es=e=>({isOnSubmit:!e||e===me.onSubmit,isOnBlur:e===me.onBlur,isOnChange:e===me.onChange,isOnAll:e===me.all,isOnTouch:e===me.onTouched});const ts="AsyncFunction";var Pr=e=>!!e&&!!e.validate&&!!(ye(e.validate)&&e.validate.constructor.name===ts||ee(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ts)),Ur=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ss=(e,r,s)=>!s&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const qe=(e,r,s,n)=>{for(const a of s||Object.keys(e)){const o=j(e,a);if(o){const{_f:c,...u}=o;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],a)&&!n)return!0;if(c.ref&&r(c.ref,c.name)&&!n)return!0;if(qe(u,r))break}else if(ee(u)&&qe(u,r))break}}};function rs(e,r,s){const n=j(e,s);if(n||ct(s))return{error:n,name:s};const a=s.split(".");for(;a.length;){const o=a.join("."),c=j(r,o),u=j(e,o);if(c&&!Array.isArray(c)&&s!==o)return{name:s};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};a.pop()}return{name:s}}var Or=(e,r,s,n)=>{s(e);const{name:a,...o}=e;return ne(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(c=>r[c]===(!n||me.all))},$r=(e,r,s)=>!e||!r||e===r||Ze(e).some(n=>n&&(s?n===r:n.startsWith(r)||r.startsWith(n))),Br=(e,r,s,n,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(r||e):(s?n.isOnBlur:a.isOnBlur)?!e:(s?n.isOnChange:a.isOnChange)?e:!0,Zr=(e,r)=>!Ft(j(e,r)).length&&J(e,r),qr=(e,r,s)=>{const n=Ze(j(e,s));return G(n,"root",r[s]),G(e,s,n),e};function ns(e,r,s="validate"){if(de(e)||Array.isArray(e)&&e.every(de)||ce(e)&&!e)return{type:s,message:de(e)?e:"",ref:r}}var De=e=>ee(e)&&!ot(e)?e:{value:e,message:""},is=async(e,r,s,n,a,o)=>{const{ref:c,refs:u,required:p,maxLength:I,minLength:S,min:f,max:y,pattern:O,validate:v,name:E,valueAsNumber:T,mount:D}=e._f,w=j(s,E);if(!D||r.has(E))return{};const k=u?u[0]:c,R=z=>{a&&k.reportValidity&&(k.setCustomValidity(ce(z)?"":z||""),k.reportValidity())},L={},q=Rt(c),$=Qe(c),b=q||$,F=(T||Tt(c))&&K(c.value)&&K(w)||it(c)&&c.value===""||w===""||Array.isArray(w)&&!w.length,g=zr.bind(null,E,n,L),A=(z,U,X,te=Se.maxLength,re=Se.minLength)=>{const ue=z?U:X;L[E]={type:z?te:re,message:ue,ref:c,...g(z?te:re,ue)}};if(o?!Array.isArray(w)||!w.length:p&&(!b&&(F||ie(w))||ce(w)&&!w||$&&!Cs(u).isValid||q&&!Vs(u).isValid)){const{value:z,message:U}=de(p)?{value:!!p,message:p}:De(p);if(z&&(L[E]={type:Se.required,message:U,ref:k,...g(Se.required,U)},!n))return R(U),L}if(!F&&(!ie(f)||!ie(y))){let z,U;const X=De(y),te=De(f);if(!ie(w)&&!isNaN(w)){const re=c.valueAsNumber||w&&+w;ie(X.value)||(z=re>X.value),ie(te.value)||(U=re<te.value)}else{const re=c.valueAsDate||new Date(w),ue=ze=>new Date(new Date().toDateString()+" "+ze),_e=c.type=="time",Ce=c.type=="week";de(X.value)&&w&&(z=_e?ue(w)>ue(X.value):Ce?w>X.value:re>new Date(X.value)),de(te.value)&&w&&(U=_e?ue(w)<ue(te.value):Ce?w<te.value:re<new Date(te.value))}if((z||U)&&(A(!!z,X.message,te.message,Se.max,Se.min),!n))return R(L[E].message),L}if((I||S)&&!F&&(de(w)||o&&Array.isArray(w))){const z=De(I),U=De(S),X=!ie(z.value)&&w.length>+z.value,te=!ie(U.value)&&w.length<+U.value;if((X||te)&&(A(X,z.message,U.message),!n))return R(L[E].message),L}if(O&&!F&&de(w)){const{value:z,message:U}=De(O);if(ot(z)&&!w.match(z)&&(L[E]={type:Se.pattern,message:U,ref:c,...g(Se.pattern,U)},!n))return R(U),L}if(v){if(ye(v)){const z=await v(w,s),U=ns(z,k);if(U&&(L[E]={...U,...g(Se.validate,U.message)},!n))return R(U.message),L}else if(ee(v)){let z={};for(const U in v){if(!ne(z)&&!n)break;const X=ns(await v[U](w,s),k,U);X&&(z={...X,...g(U,X.message)},R(X.message),n&&(L[E]=z))}if(!ne(z)&&(L[E]={ref:k,...z},!n))return L}}return R(!0),L};const Xr={mode:me.onSubmit,reValidateMode:me.onChange,shouldFocusError:!0};function Hr(e={}){let r={...Xr,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:ye(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},a=ee(r.defaultValues)||ee(r.values)?se(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:se(a),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,I=0;const S={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...S};const y={array:Gt(),state:Gt()},O=r.criteriaMode===me.all,v=i=>l=>{clearTimeout(I),I=setTimeout(i,l)},E=async i=>{if(!r.disabled&&(S.isValid||f.isValid||i)){const l=r.resolver?ne((await $()).errors):await F(n,!0);l!==s.isValid&&y.state.next({isValid:l})}},T=(i,l)=>{!r.disabled&&(S.isValidating||S.validatingFields||f.isValidating||f.validatingFields)&&((i||Array.from(u.mount)).forEach(d=>{d&&(l?G(s.validatingFields,d,l):J(s.validatingFields,d))}),y.state.next({validatingFields:s.validatingFields,isValidating:!ne(s.validatingFields)}))},D=(i,l=[],d,C,m=!0,x=!0)=>{if(C&&d&&!r.disabled){if(c.action=!0,x&&Array.isArray(j(n,i))){const M=d(j(n,i),C.argA,C.argB);m&&G(n,i,M)}if(x&&Array.isArray(j(s.errors,i))){const M=d(j(s.errors,i),C.argA,C.argB);m&&G(s.errors,i,M),Zr(s.errors,i)}if((S.touchedFields||f.touchedFields)&&x&&Array.isArray(j(s.touchedFields,i))){const M=d(j(s.touchedFields,i),C.argA,C.argB);m&&G(s.touchedFields,i,M)}(S.dirtyFields||f.dirtyFields)&&(s.dirtyFields=Te(a,o)),y.state.next({name:i,isDirty:A(i,l),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else G(o,i,l)},w=(i,l)=>{G(s.errors,i,l),y.state.next({errors:s.errors})},k=i=>{s.errors=i,y.state.next({errors:s.errors,isValid:!1})},R=(i,l,d,C)=>{const m=j(n,i);if(m){const x=j(o,i,K(d)?j(a,i):d);K(x)||C&&C.defaultChecked||l?G(o,i,l?x:Jt(m._f)):X(i,x),c.mount&&E()}},L=(i,l,d,C,m)=>{let x=!1,M=!1;const B={name:i};if(!r.disabled){if(!d||C){(S.isDirty||f.isDirty)&&(M=s.isDirty,s.isDirty=B.isDirty=A(),x=M!==B.isDirty);const H=ge(j(a,i),l);M=!!j(s.dirtyFields,i),H?J(s.dirtyFields,i):G(s.dirtyFields,i,!0),B.dirtyFields=s.dirtyFields,x=x||(S.dirtyFields||f.dirtyFields)&&M!==!H}if(d){const H=j(s.touchedFields,i);H||(G(s.touchedFields,i,d),B.touchedFields=s.touchedFields,x=x||(S.touchedFields||f.touchedFields)&&H!==d)}x&&m&&y.state.next(B)}return x?B:{}},q=(i,l,d,C)=>{const m=j(s.errors,i),x=(S.isValid||f.isValid)&&ce(l)&&s.isValid!==l;if(r.delayError&&d?(p=v(()=>w(i,d)),p(r.delayError)):(clearTimeout(I),p=null,d?G(s.errors,i,d):J(s.errors,i)),(d?!ge(m,d):m)||!ne(C)||x){const M={...C,...x&&ce(l)?{isValid:l}:{},errors:s.errors,name:i};s={...s,...M},y.state.next(M)}},$=async i=>{T(i,!0);const l=await r.resolver(o,r.context,Wr(i||u.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return T(i),l},b=async i=>{const{errors:l}=await $(i);if(i)for(const d of i){const C=j(l,d);C?G(s.errors,d,C):J(s.errors,d)}else s.errors=l;return l},F=async(i,l,d={valid:!0})=>{for(const C in i){const m=i[C];if(m){const{_f:x,...M}=m;if(x){const B=u.array.has(x.name),H=m._f&&Pr(m._f);H&&S.validatingFields&&T([x.name],!0);const fe=await is(m,u.disabled,o,O,r.shouldUseNativeValidation&&!l,B);if(H&&S.validatingFields&&T([x.name]),fe[x.name]&&(d.valid=!1,l))break;!l&&(j(fe,x.name)?B?qr(s.errors,fe,x.name):G(s.errors,x.name,fe[x.name]):J(s.errors,x.name))}!ne(M)&&await F(M,l,d)}}return d.valid},g=()=>{for(const i of u.unMount){const l=j(n,i);l&&(l._f.refs?l._f.refs.every(d=>!bt(d)):!bt(l._f.ref))&&dt(i)}u.unMount=new Set},A=(i,l)=>!r.disabled&&(i&&l&&G(o,i,l),!ge(ze(),a)),z=(i,l,d)=>vt(i,u,{...c.mount?o:K(l)?a:de(i)?{[i]:l}:l},d,l),U=i=>Ft(j(c.mount?o:a,i,r.shouldUnregister?j(a,i,[]):[])),X=(i,l,d={})=>{const C=j(n,i);let m=l;if(C){const x=C._f;x&&(!x.disabled&&G(o,i,ws(l,x)),m=it(x.ref)&&ie(l)?"":l,js(x.ref)?[...x.ref.options].forEach(M=>M.selected=m.includes(M.value)):x.refs?Qe(x.ref)?x.refs.forEach(M=>{(!M.defaultChecked||!M.disabled)&&(Array.isArray(m)?M.checked=!!m.find(B=>B===M.value):M.checked=m===M.value||!!m)}):x.refs.forEach(M=>M.checked=M.value===m):Tt(x.ref)?x.ref.value="":(x.ref.value=m,x.ref.type||y.state.next({name:i,values:se(o)})))}(d.shouldDirty||d.shouldTouch)&&L(i,m,d.shouldTouch,d.shouldDirty,!0),d.shouldValidate&&Ce(i)},te=(i,l,d)=>{for(const C in l){if(!l.hasOwnProperty(C))return;const m=l[C],x=i+"."+C,M=j(n,x);(u.array.has(i)||ee(m)||M&&!M._f)&&!Fe(m)?te(x,m,d):X(x,m,d)}},re=(i,l,d={})=>{const C=j(n,i),m=u.array.has(i),x=se(l);G(o,i,x),m?(y.array.next({name:i,values:se(o)}),(S.isDirty||S.dirtyFields||f.isDirty||f.dirtyFields)&&d.shouldDirty&&y.state.next({name:i,dirtyFields:Te(a,o),isDirty:A(i,x)})):C&&!C._f&&!ie(x)?te(i,x,d):X(i,x,d),ss(i,u)&&y.state.next({...s,name:i}),y.state.next({name:c.mount?i:void 0,values:se(o)})},ue=async i=>{c.mount=!0;const l=i.target;let d=l.name,C=!0;const m=j(n,d),x=H=>{C=Number.isNaN(H)||Fe(H)&&isNaN(H.getTime())||ge(H,j(o,d,H))},M=es(r.mode),B=es(r.reValidateMode);if(m){let H,fe;const tt=l.type?Jt(m._f):ms(i),Ve=i.type===nt.BLUR||i.type===nt.FOCUS_OUT,Fs=!Ur(m._f)&&!r.resolver&&!j(s.errors,d)&&!m._f.deps||Br(Ve,j(s.touchedFields,d),s.isSubmitted,B,M),ht=ss(d,u,Ve);G(o,d,tt),Ve?(!l||!l.readOnly)&&(m._f.onBlur&&m._f.onBlur(i),p&&p(0)):m._f.onChange&&m._f.onChange(i);const xt=L(d,tt,Ve),Ls=!ne(xt)||ht;if(!Ve&&y.state.next({name:d,type:i.type,values:se(o)}),Fs)return(S.isValid||f.isValid)&&(r.mode==="onBlur"?Ve&&E():Ve||E()),Ls&&y.state.next({name:d,...ht?{}:xt});if(!Ve&&ht&&y.state.next({...s}),r.resolver){const{errors:$t}=await $([d]);if(x(tt),C){const zs=rs(s.errors,n,d),Bt=rs($t,n,zs.name||d);H=Bt.error,d=Bt.name,fe=ne($t)}}else T([d],!0),H=(await is(m,u.disabled,o,O,r.shouldUseNativeValidation))[d],T([d]),x(tt),C&&(H?fe=!1:(S.isValid||f.isValid)&&(fe=await F(n,!0)));C&&(m._f.deps&&(!Array.isArray(m._f.deps)||m._f.deps.length>0)&&Ce(m._f.deps),q(d,fe,H,xt))}},_e=(i,l)=>{if(j(s.errors,l)&&i.focus)return i.focus(),1},Ce=async(i,l={})=>{let d,C;const m=Ze(i);if(r.resolver){const x=await b(K(i)?i:m);d=ne(x),C=i?!m.some(M=>j(x,M)):d}else i?(C=(await Promise.all(m.map(async x=>{const M=j(n,x);return await F(M&&M._f?{[x]:M}:M)}))).every(Boolean),!(!C&&!s.isValid)&&E()):C=d=await F(n);return y.state.next({...!de(i)||(S.isValid||f.isValid)&&d!==s.isValid?{}:{name:i},...r.resolver||!i?{isValid:d}:{},errors:s.errors}),l.shouldFocus&&!C&&qe(n,_e,i?m:u.mount),C},ze=(i,l)=>{let d={...c.mount?o:a};return l&&(d=vs(l.dirtyFields?s.dirtyFields:s.touchedFields,d)),K(i)?d:de(i)?j(d,i):i.map(C=>j(d,C))},Je=(i,l)=>({invalid:!!j((l||s).errors,i),isDirty:!!j((l||s).dirtyFields,i),error:j((l||s).errors,i),isValidating:!!j(s.validatingFields,i),isTouched:!!j((l||s).touchedFields,i)}),V=i=>{i&&Ze(i).forEach(l=>J(s.errors,l)),y.state.next({errors:i?s.errors:{}})},Q=(i,l,d)=>{const C=(j(n,i,{_f:{}})._f||{}).ref,m=j(s.errors,i)||{},{ref:x,message:M,type:B,...H}=m;G(s.errors,i,{...H,...l,ref:C}),y.state.next({name:i,errors:s.errors,isValid:!1}),d&&d.shouldFocus&&C&&C.focus&&C.focus()},Y=(i,l)=>ye(i)?y.state.subscribe({next:d=>"values"in d&&i(z(void 0,l),d)}):z(i,l,!0),we=i=>y.state.subscribe({next:l=>{$r(i.name,l.name,i.exact)&&Or(l,i.formState||S,Is,i.reRenderRoot)&&i.callback({values:{...o},...s,...l,defaultValues:a})}}).unsubscribe,et=i=>(c.mount=!0,f={...f,...i.formState},we({...i,formState:f})),dt=(i,l={})=>{for(const d of i?Ze(i):u.mount)u.mount.delete(d),u.array.delete(d),l.keepValue||(J(n,d),J(o,d)),!l.keepError&&J(s.errors,d),!l.keepDirty&&J(s.dirtyFields,d),!l.keepTouched&&J(s.touchedFields,d),!l.keepIsValidating&&J(s.validatingFields,d),!r.shouldUnregister&&!l.keepDefaultValue&&J(a,d);y.state.next({values:se(o)}),y.state.next({...s,...l.keepDirty?{isDirty:A()}:{}}),!l.keepIsValid&&E()},Nt=({disabled:i,name:l})=>{(ce(i)&&c.mount||i||u.disabled.has(l))&&(i?u.disabled.add(l):u.disabled.delete(l))},ut=(i,l={})=>{let d=j(n,i);const C=ce(l.disabled)||ce(r.disabled);return G(n,i,{...d||{},_f:{...d&&d._f?d._f:{ref:{name:i}},name:i,mount:!0,...l}}),u.mount.add(i),d?Nt({disabled:ce(l.disabled)?l.disabled:r.disabled,name:i}):R(i,!0,l.value),{...C?{disabled:l.disabled||r.disabled}:{},...r.progressive?{required:!!l.required,min:Ue(l.min),max:Ue(l.max),minLength:Ue(l.minLength),maxLength:Ue(l.maxLength),pattern:Ue(l.pattern)}:{},name:i,onChange:ue,onBlur:ue,ref:m=>{if(m){ut(i,l),d=j(n,i);const x=K(m.value)&&m.querySelectorAll&&m.querySelectorAll("input,select,textarea")[0]||m,M=Dr(x),B=d._f.refs||[];if(M?B.find(H=>H===x):x===d._f.ref)return;G(n,i,{_f:{...d._f,...M?{refs:[...B.filter(bt),x,...Array.isArray(j(a,i))?[{}]:[]],ref:{type:x.type,name:i}}:{ref:x}}}),R(i,!1,void 0,x)}else d=j(n,i,{}),d._f&&(d._f.mount=!1),(r.shouldUnregister||l.shouldUnregister)&&!(gs(u.array,i)&&c.action)&&u.unMount.add(i)}}},ft=()=>r.shouldFocusError&&qe(n,_e,u.mount),ks=i=>{ce(i)&&(y.state.next({disabled:i}),qe(n,(l,d)=>{const C=j(n,d);C&&(l.disabled=C._f.disabled||i,Array.isArray(C._f.refs)&&C._f.refs.forEach(m=>{m.disabled=C._f.disabled||i}))},0,!1))},Wt=(i,l)=>async d=>{let C;d&&(d.preventDefault&&d.preventDefault(),d.persist&&d.persist());let m=se(o);if(y.state.next({isSubmitting:!0}),r.resolver){const{errors:x,values:M}=await $();s.errors=x,m=se(M)}else await F(n);if(u.disabled.size)for(const x of u.disabled)J(m,x);if(J(s.errors,"root"),ne(s.errors)){y.state.next({errors:{}});try{await i(m,d)}catch(x){C=x}}else l&&await l({...s.errors},d),ft(),setTimeout(ft);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ne(s.errors)&&!C,submitCount:s.submitCount+1,errors:s.errors}),C)throw C},Es=(i,l={})=>{j(n,i)&&(K(l.defaultValue)?re(i,se(j(a,i))):(re(i,l.defaultValue),G(a,i,se(l.defaultValue))),l.keepTouched||J(s.touchedFields,i),l.keepDirty||(J(s.dirtyFields,i),s.isDirty=l.defaultValue?A(i,se(j(a,i))):A()),l.keepError||(J(s.errors,i),S.isValid&&E()),y.state.next({...s}))},Pt=(i,l={})=>{const d=i?se(i):a,C=se(d),m=ne(i),x=m?a:C;if(l.keepDefaultValues||(a=d),!l.keepValues){if(l.keepDirtyValues){const M=new Set([...u.mount,...Object.keys(Te(a,o))]);for(const B of Array.from(M))j(s.dirtyFields,B)?G(x,B,j(o,B)):re(B,j(x,B))}else{if(It&&K(i))for(const M of u.mount){const B=j(n,M);if(B&&B._f){const H=Array.isArray(B._f.refs)?B._f.refs[0]:B._f.ref;if(it(H)){const fe=H.closest("form");if(fe){fe.reset();break}}}}if(l.keepFieldsRef)for(const M of u.mount)re(M,j(x,M));else n={}}o=r.shouldUnregister?l.keepDefaultValues?se(a):{}:se(x),y.array.next({values:{...x}}),y.state.next({values:{...x}})}u={mount:l.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!S.isValid||!!l.keepIsValid||!!l.keepDirtyValues||!r.shouldUnregister&&!ne(x),c.watch=!!r.shouldUnregister,y.state.next({submitCount:l.keepSubmitCount?s.submitCount:0,isDirty:m?!1:l.keepDirty?s.isDirty:!!(l.keepDefaultValues&&!ge(i,a)),isSubmitted:l.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:m?{}:l.keepDirtyValues?l.keepDefaultValues&&o?Te(a,o):s.dirtyFields:l.keepDefaultValues&&i?Te(a,i):l.keepDirty?s.dirtyFields:{},touchedFields:l.keepTouched?s.touchedFields:{},errors:l.keepErrors?s.errors:{},isSubmitSuccessful:l.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Ut=(i,l)=>Pt(ye(i)?i(o):i,l),Ms=(i,l={})=>{const d=j(n,i),C=d&&d._f;if(C){const m=C.refs?C.refs[0]:C.ref;m.focus&&(m.focus(),l.shouldSelect&&ye(m.select)&&m.select())}},Is=i=>{s={...s,...i}},Ot={control:{register:ut,unregister:dt,getFieldState:Je,handleSubmit:Wt,setError:Q,_subscribe:we,_runSchema:$,_focusError:ft,_getWatch:z,_getDirty:A,_setValid:E,_setFieldArray:D,_setDisabledField:Nt,_setErrors:k,_getFieldArray:U,_reset:Pt,_resetDefaultValues:()=>ye(r.defaultValues)&&r.defaultValues().then(i=>{Ut(i,r.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:g,_disableForm:ks,_subjects:y,_proxyFormState:S,get _fields(){return n},get _formValues(){return o},get _state(){return c},set _state(i){c=i},get _defaultValues(){return a},get _names(){return u},set _names(i){u=i},get _formState(){return s},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:et,trigger:Ce,register:ut,handleSubmit:Wt,watch:Y,setValue:re,getValues:ze,reset:Ut,resetField:Es,clearErrors:V,unregister:dt,setError:Q,setFocus:Ms,getFieldState:Je};return{...Ot,formControl:Ot}}function As(e={}){const r=P.useRef(void 0),s=P.useRef(void 0),[n,a]=P.useState({isDirty:!1,isValidating:!1,isLoading:ye(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ye(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:n},e.defaultValues&&!ye(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...u}=Hr(e);r.current={...u,formState:n}}const o=r.current.control;return o._options=e,Dt(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(u=>({...u,isReady:!0})),o._formState.isReady=!0,c},[o]),P.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),P.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),P.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),P.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),P.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==n.isDirty&&o._subjects.state.next({isDirty:c})}},[o,n.isDirty]),P.useEffect(()=>{e.values&&!ge(e.values,s.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),s.current=e.values,a(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),P.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=bs(n,o),r.current}const os=["‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø","‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤","‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶®"],Gr=({open:e,onClose:r,onSuccess:s})=>{const[n,a]=_.useState(0),[o,c]=_.useState(void 0),[u,p]=_.useState(!1),[I,S]=_.useState([]),{control:f,handleSubmit:y,watch:O,reset:v,setValue:E,getValues:T,formState:{errors:D}}=As({defaultValues:{firstName:"",lastName:"",phone:"",email:"",password:"",cityCorporationCode:"",zoneIds:[],permissions:{zones:[],categories:[],features:{viewOnlyMode:!1,chat:!0,customerProfile:!0,reviews:!0,messaging:!0,complaintManagement:!0,complaintApproval:!0,adminManagement:!0,reports:"download"}}},shouldUnregister:!1}),w=O("cityCorporationCode");_.useEffect(()=>{e&&(async()=>{try{const F=await ds.getCityCorporations();S(F.cityCorporations||[])}catch(F){console.error("Error loading city corporations:",F)}})()},[e]);const k=()=>{a(b=>b+1)},R=()=>{a(b=>b-1)},L=()=>{a(0),v(),c(void 0),r()},q=async b=>{var F,g;console.log("üöÄ Final Form Data (onSubmit arg):",b),console.log("üßê getValues() result:",T()),console.log("‚ùå Form Errors:",D),b.firstName||console.error("CRITICAL: firstName is missing in data object!"),p(!0);try{const A={firstName:b.firstName,lastName:b.lastName,phone:b.phone,email:b.email||void 0,password:b.password,cityCorporationCode:b.cityCorporationCode||void 0,zoneId:void 0,permissions:b.permissions},z=await ve.createSuperAdmin(A);b.zoneIds&&b.zoneIds.length>0&&await ve.assignZones(z.id,b.zoneIds),pe.success("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"),L(),s()}catch(A){console.error("Error creating super admin:",A),pe.error(((g=(F=A.response)==null?void 0:F.data)==null?void 0:g.message)||"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{p(!1)}},$=()=>t.jsxs(t.Fragment,{children:[t.jsx(N,{sx:{display:n===0?"block":"none"},children:t.jsxs(W,{spacing:2,children:[t.jsx(W,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:t.jsx(us,{currentAvatar:o,onUpload:async b=>c(b),size:80,initials:"?"})}),t.jsx(Z,{name:"firstName",control:f,rules:{required:"‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï"},render:({field:b})=>{var F;return t.jsx(xe,{...b,label:"‡¶®‡¶æ‡¶Æ *",placeholder:"‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!D.firstName,helperText:(F=D.firstName)==null?void 0:F.message,fullWidth:!0})}}),t.jsx(Z,{name:"lastName",control:f,rules:{required:"‡¶™‡¶¶‡¶¨‡ßÄ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï"},render:({field:b})=>{var F;return t.jsx(xe,{...b,label:"‡¶™‡¶¶‡¶¨‡ßÄ *",placeholder:"‡¶™‡¶¶‡¶¨‡ßÄ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!D.lastName,helperText:(F=D.lastName)==null?void 0:F.message,fullWidth:!0})}}),t.jsx(Z,{name:"phone",control:f,rules:{required:"‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï",pattern:{value:/^01[0-9]{9}$/,message:"‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶® (‡ßß‡ßß ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü)"}},render:({field:b})=>{var F;return t.jsx(xe,{...b,label:"‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ *",placeholder:"01XXXXXXXXX",error:!!D.phone,helperText:(F=D.phone)==null?void 0:F.message,fullWidth:!0})}}),t.jsx(Z,{name:"email",control:f,rules:{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¶‡¶ø‡¶®"}},render:({field:b})=>{var F;return t.jsx(xe,{...b,label:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤",placeholder:"email@example.com",error:!!D.email,helperText:(F=D.email)==null?void 0:F.message,fullWidth:!0})}}),t.jsx(Z,{name:"password",control:f,rules:{required:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï",minLength:{value:8,message:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ßÆ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá"}},render:({field:b})=>{var F;return t.jsx(xe,{...b,type:"password",label:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° *",placeholder:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!D.password,helperText:(F=D.password)==null?void 0:F.message,fullWidth:!0})}})]})}),t.jsx(N,{sx:{display:n===1?"block":"none"},children:t.jsxs(W,{spacing:2,children:[t.jsx(Z,{name:"cityCorporationCode",control:f,rules:{required:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"},render:({field:b})=>t.jsxs(Oe,{fullWidth:!0,error:!!D.cityCorporationCode,children:[t.jsx($e,{children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® *"}),t.jsx(Be,{...b,label:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® *",children:I.map(F=>t.jsx(ae,{value:F.code,children:F.name},F.code))}),D.cityCorporationCode&&t.jsx(h,{variant:"caption",color:"error",sx:{mt:.5,ml:2},children:D.cityCorporationCode.message})]})}),t.jsx(Z,{name:"zoneIds",control:f,rules:{required:"‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ú‡ßã‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"},render:({field:b})=>{var F;return t.jsx(xs,{value:b.value,onChange:b.onChange,cityCorporationCode:w,label:"‡¶ú‡ßã‡¶® (‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá) *",error:!!D.zoneIds,helperText:(F=D.zoneIds)==null?void 0:F.message,disabled:!w||u})}}),t.jsxs(N,{sx:{bgcolor:"#fff3cd",p:2,borderRadius:1,border:"1px solid #ffc107"},children:[t.jsx(h,{variant:"body2",sx:{fontWeight:600,color:"#856404",mb:1},children:"‚ö†Ô∏è ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø:"}),t.jsxs(h,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ",t.jsx("strong",{children:"Zone"})," ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ø‡¶§‡ßç‡¶¨‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá"]}),t.jsxs(h,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ",t.jsx("strong",{children:"Ward"})," ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]}),t.jsxs(h,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ",t.jsx("strong",{children:"Admin"})," (Ward Inspector) ‡¶¶‡ßá‡¶∞ manage ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]}),t.jsxs(h,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ",t.jsx("strong",{children:"User"})," ‡¶è‡¶¨‡¶Ç ",t.jsx("strong",{children:"Complaint"})," ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]})]})]})}),t.jsx(N,{sx:{display:n===2?"block":"none"},children:t.jsxs(W,{spacing:2.5,children:[t.jsx(h,{variant:"subtitle2",sx:{fontWeight:600,color:"#1e2939"},children:"‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏"}),t.jsx(N,{sx:{bgcolor:"#f0f9ff",p:2,borderRadius:1,border:"1px solid #3b82f6"},children:t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(N,{children:[t.jsx(h,{sx:{fontWeight:600,color:"#1e40af"},children:"View Only Mode"}),t.jsx(h,{variant:"body2",sx:{color:"#64748b",fontSize:12},children:"‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá, ‡¶ï‡ßã‡¶®‡ßã action ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ"})]}),t.jsx(Z,{name:"permissions.features.viewOnlyMode",control:f,render:({field:b})=>t.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3b82f6"}}})})]})}),O("permissions.features.viewOnlyMode")&&t.jsxs(N,{sx:{bgcolor:"#fef3c7",p:2,borderRadius:1,border:"1px solid #f59e0b"},children:[t.jsx(h,{variant:"body2",sx:{fontWeight:600,color:"#92400e",mb:1},children:"‚ÑπÔ∏è View Only Mode ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶Ü‡¶õ‡ßá"}),t.jsx(h,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ User List ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),t.jsx(h,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ Admin List ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),t.jsx(h,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ Complaint ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),t.jsx(h,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ ‡¶ï‡ßã‡¶®‡ßã action ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ (edit, delete, approve ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø)"})]}),!O("permissions.features.viewOnlyMode")&&t.jsxs(W,{spacing:2,children:[t.jsx(h,{variant:"body2",sx:{fontWeight:600,color:"#64748b"},children:"Advanced Permissions"}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞"}),t.jsx(Z,{name:"permissions.features.chat",control:f,render:({field:b})=>t.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"}),t.jsx(Z,{name:"permissions.features.customerProfile",control:f,render:({field:b})=>t.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®"}),t.jsx(Z,{name:"permissions.features.reviews",control:f,render:({field:b})=>t.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°"}),t.jsx(Z,{name:"permissions.features.messaging",control:f,render:({field:b})=>t.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶è‡¶™‡ßç‡¶∞‡ßÅ‡¶≠‡¶æ‡¶≤ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏"}),t.jsx(Z,{name:"permissions.features.complaintApproval",control:f,render:({field:b})=>t.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]})]})]})})]});return t.jsxs(Ct,{open:e,onClose:L,maxWidth:"sm",fullWidth:!0,children:[t.jsxs(wt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx(h,{sx:{fontWeight:700},children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"}),t.jsx(Re,{onClick:L,disabled:u,children:t.jsx(Vt,{})})]}),t.jsxs(At,{dividers:!0,children:[t.jsx(hs,{activeStep:n,sx:{mb:3},children:os.map(b=>t.jsx(fs,{children:t.jsx(Mt,{children:b})},b))}),$()]}),t.jsxs(_t,{children:[t.jsx(be,{onClick:L,disabled:u,children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),n>0&&t.jsx(be,{onClick:R,disabled:u,children:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}),n<os.length-1?t.jsx(be,{variant:"contained",onClick:k,sx:{bgcolor:"#3fa564"},children:"‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}):t.jsx(be,{variant:"contained",onClick:y(q),disabled:u,sx:{bgcolor:"#3fa564"},children:u?"‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})},as=["‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø","‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤","‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶®"],Yr=({open:e,onClose:r,onSuccess:s,superAdmin:n})=>{const[a,o]=_.useState(0),[c,u]=_.useState(void 0),[p,I]=_.useState(!1),[S,f]=_.useState([]),[y,O]=_.useState(!1),{control:v,handleSubmit:E,watch:T,reset:D,setValue:w,formState:{errors:k}}=As({defaultValues:{firstName:"",lastName:"",phone:"",email:"",password:"",cityCorporationCode:"",zoneIds:[],status:he.ACTIVE,role:"SUPER_ADMIN",permissions:{zones:[],categories:[],features:{viewOnlyMode:!1,chat:!0,customerProfile:!0,reviews:!0,messaging:!0,complaintManagement:!0,complaintApproval:!0,adminManagement:!0,reports:"download"}}}}),R=T("cityCorporationCode");_.useEffect(()=>{(async()=>{if(e&&n){w("firstName",n.firstName),w("lastName",n.lastName),w("phone",n.phone),w("email",n.email||""),w("cityCorporationCode",n.cityCorporationCode||""),w("status",n.status),w("role",n.role),u(n.avatar||void 0),n.permissions&&w("permissions",n.permissions);try{const A=await ve.getAssignedZones(n.id);A&&A.length>0?w("zoneIds",A.map(z=>z.zoneId)):n.zoneId?w("zoneIds",[n.zoneId]):w("zoneIds",[])}catch(A){console.error("Error loading assigned zones:",A),n.zoneId&&w("zoneIds",[n.zoneId])}}})()},[e,n,w]),_.useEffect(()=>{e&&(async()=>{try{const A=await ds.getCityCorporations();f(A.cityCorporations||[])}catch(A){console.error("Error loading city corporations:",A)}})()},[e]);const L=()=>{o(g=>g+1)},q=()=>{o(g=>g-1)},$=()=>{p||(o(0),O(!1),D(),u(void 0),r())},b=async g=>{var A,z;if(n){I(!0);try{const U={firstName:g.firstName,lastName:g.lastName,phone:g.phone,email:g.email||void 0,cityCorporationCode:g.cityCorporationCode||void 0,zoneId:void 0,status:g.status,permissions:g.permissions,avatar:c||void 0};y&&g.password&&(U.password=g.password),await ve.updateSuperAdmin(n.id,U),g.zoneIds&&await ve.updateZones(n.id,g.zoneIds),pe.success("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"),$(),s()}catch(U){console.error("Error updating super admin:",U),pe.error(((z=(A=U.response)==null?void 0:A.data)==null?void 0:z.message)||"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{I(!1)}}},F=()=>{switch(a){case 0:return t.jsxs(W,{spacing:2,children:[t.jsx(W,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:t.jsx(us,{currentAvatar:c,onUpload:async g=>u(g),size:80,initials:n?`${n.firstName.charAt(0)}${n.lastName.charAt(0)}`:"?"})}),t.jsx(Z,{name:"firstName",control:v,rules:{required:"‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï"},render:({field:g})=>{var A;return t.jsx(xe,{...g,label:"‡¶®‡¶æ‡¶Æ *",placeholder:"‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!k.firstName,helperText:(A=k.firstName)==null?void 0:A.message,disabled:p,fullWidth:!0})}}),t.jsx(Z,{name:"lastName",control:v,rules:{required:"‡¶™‡¶¶‡¶¨‡ßÄ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï"},render:({field:g})=>{var A;return t.jsx(xe,{...g,label:"‡¶™‡¶¶‡¶¨‡ßÄ *",placeholder:"‡¶™‡¶¶‡¶¨‡ßÄ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!k.lastName,helperText:(A=k.lastName)==null?void 0:A.message,disabled:p,fullWidth:!0})}}),t.jsx(Z,{name:"phone",control:v,rules:{required:"‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï",pattern:{value:/^01[0-9]{9}$/,message:"‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶® (‡ßß‡ßß ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü)"}},render:({field:g})=>{var A;return t.jsx(xe,{...g,label:"‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ *",placeholder:"01XXXXXXXXX",error:!!k.phone,helperText:(A=k.phone)==null?void 0:A.message,disabled:p,fullWidth:!0})}}),t.jsx(Z,{name:"email",control:v,rules:{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¶‡¶ø‡¶®"}},render:({field:g})=>{var A;return t.jsx(xe,{...g,label:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤ (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)",placeholder:"email@example.com",error:!!k.email,helperText:(A=k.email)==null?void 0:A.message,disabled:p,fullWidth:!0})}}),t.jsx(Z,{name:"status",control:v,render:({field:g})=>t.jsxs(Oe,{fullWidth:!0,disabled:p,children:[t.jsx($e,{children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ *"}),t.jsxs(Be,{...g,label:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ *",children:[t.jsx(ae,{value:he.ACTIVE,children:"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º"}),t.jsx(ae,{value:he.INACTIVE,children:"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º"}),t.jsx(ae,{value:he.SUSPENDED,children:"‡¶∏‡ßç‡¶•‡¶ó‡¶ø‡¶§"})]})]})}),t.jsx(Z,{name:"role",control:v,render:({field:g})=>t.jsxs(Oe,{fullWidth:!0,disabled:p,children:[t.jsx($e,{children:"‡¶∞‡ßã‡¶≤"}),t.jsxs(Be,{...g,label:"‡¶∞‡ßã‡¶≤",children:[t.jsx(ae,{value:"ADMIN",children:"‡¶è‡¶°‡¶Æ‡¶ø‡¶® (Admin)"}),t.jsx(ae,{value:"SUPER_ADMIN",children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"}),t.jsx(ae,{value:"MASTER_ADMIN",children:"‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"})]})]})}),t.jsx(Rs,{control:t.jsx(le,{checked:y,onChange:g=>O(g.target.checked),disabled:p}),label:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"}),y&&t.jsx(Z,{name:"password",control:v,rules:{required:y?"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï":!1,minLength:{value:8,message:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ßÆ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá"}},render:({field:g})=>{var A;return t.jsx(xe,{...g,type:"password",label:"‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° *",placeholder:"‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!k.password,helperText:(A=k.password)==null?void 0:A.message,disabled:p,fullWidth:!0})}})]});case 1:return t.jsxs(W,{spacing:2,children:[t.jsx(Z,{name:"cityCorporationCode",control:v,rules:{required:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"},render:({field:g})=>t.jsxs(Oe,{fullWidth:!0,error:!!k.cityCorporationCode,disabled:p,children:[t.jsx($e,{children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® *"}),t.jsx(Be,{...g,label:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® *",children:S.map(A=>t.jsx(ae,{value:A.code,children:A.name},A.code))}),k.cityCorporationCode&&t.jsx(h,{variant:"caption",color:"error",sx:{mt:.5,ml:2},children:k.cityCorporationCode.message})]})}),t.jsx(Z,{name:"zoneIds",control:v,rules:{required:"‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ú‡ßã‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"},render:({field:g})=>{var A;return t.jsx(xs,{value:g.value,onChange:g.onChange,cityCorporationCode:R,label:"‡¶ú‡ßã‡¶® (‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá) *",error:!!k.zoneIds,helperText:(A=k.zoneIds)==null?void 0:A.message,disabled:!R||p})}}),t.jsxs(N,{sx:{bgcolor:"#fff3cd",p:2,borderRadius:1,border:"1px solid #ffc107"},children:[t.jsx(h,{variant:"body2",sx:{fontWeight:600,color:"#856404",mb:1},children:"‚ö†Ô∏è ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø:"}),t.jsxs(h,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ",t.jsx("strong",{children:"Zone"})," ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ø‡¶§‡ßç‡¶¨‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá"]}),t.jsxs(h,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ",t.jsx("strong",{children:"Ward"})," ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]}),t.jsxs(h,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ",t.jsx("strong",{children:"Admin"})," (Ward Inspector) ‡¶¶‡ßá‡¶∞ manage ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]}),t.jsxs(h,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ",t.jsx("strong",{children:"User"})," ‡¶è‡¶¨‡¶Ç ",t.jsx("strong",{children:"Complaint"})," ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]})]})]});case 2:return t.jsxs(W,{spacing:2.5,children:[t.jsx(h,{variant:"subtitle2",sx:{fontWeight:600,color:"#1e2939"},children:"‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏"}),t.jsx(N,{sx:{bgcolor:"#f0f9ff",p:2,borderRadius:1,border:"1px solid #3b82f6"},children:t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(N,{children:[t.jsx(h,{sx:{fontWeight:600,color:"#1e40af"},children:"View Only Mode"}),t.jsx(h,{variant:"body2",sx:{color:"#64748b",fontSize:12},children:"‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá, ‡¶ï‡ßã‡¶®‡ßã action ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ"})]}),t.jsx(Z,{name:"permissions.features.viewOnlyMode",control:v,render:({field:g})=>t.jsx(le,{checked:g.value,onChange:g.onChange,disabled:p,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3b82f6"}}})})]})}),T("permissions.features.viewOnlyMode")&&t.jsxs(N,{sx:{bgcolor:"#fef3c7",p:2,borderRadius:1,border:"1px solid #f59e0b"},children:[t.jsx(h,{variant:"body2",sx:{fontWeight:600,color:"#92400e",mb:1},children:"‚ÑπÔ∏è View Only Mode ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶Ü‡¶õ‡ßá"}),t.jsx(h,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ User List ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),t.jsx(h,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ Admin List ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),t.jsx(h,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ Complaint ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),t.jsx(h,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ ‡¶ï‡ßã‡¶®‡ßã action ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ (edit, delete, approve ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø)"})]}),!T("permissions.features.viewOnlyMode")&&t.jsxs(W,{spacing:2,children:[t.jsx(h,{variant:"body2",sx:{fontWeight:600,color:"#64748b"},children:"Advanced Permissions"}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞"}),t.jsx(Z,{name:"permissions.features.chat",control:v,render:({field:g})=>t.jsx(le,{checked:g.value,onChange:g.onChange,disabled:p,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"}),t.jsx(Z,{name:"permissions.features.customerProfile",control:v,render:({field:g})=>t.jsx(le,{checked:g.value,onChange:g.onChange,disabled:p,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®"}),t.jsx(Z,{name:"permissions.features.reviews",control:v,render:({field:g})=>t.jsx(le,{checked:g.value,onChange:g.onChange,disabled:p,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°"}),t.jsx(Z,{name:"permissions.features.messaging",control:v,render:({field:g})=>t.jsx(le,{checked:g.value,onChange:g.onChange,disabled:p,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),t.jsxs(W,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(h,{children:"‡¶è‡¶™‡ßç‡¶∞‡ßÅ‡¶≠‡¶æ‡¶≤ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏"}),t.jsx(Z,{name:"permissions.features.complaintApproval",control:v,render:({field:g})=>t.jsx(le,{checked:g.value,onChange:g.onChange,disabled:p,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]})]})]});default:return null}};return n?t.jsxs(Ct,{open:e,onClose:$,maxWidth:"sm",fullWidth:!0,children:[t.jsxs(wt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx(h,{sx:{fontWeight:700},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®"}),t.jsx(Re,{onClick:$,disabled:p,children:t.jsx(Vt,{})})]}),t.jsxs(At,{dividers:!0,children:[t.jsx(hs,{activeStep:a,sx:{mb:3},children:as.map(g=>t.jsx(fs,{children:t.jsx(Mt,{children:g})},g))}),F()]}),t.jsxs(_t,{children:[t.jsx(be,{onClick:$,disabled:p,children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),a>0&&t.jsx(be,{onClick:q,disabled:p,children:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}),a<as.length-1?t.jsx(be,{variant:"contained",onClick:L,sx:{bgcolor:"#3fa564"},children:"‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}):t.jsx(be,{variant:"contained",onClick:E(b),disabled:p,sx:{bgcolor:"#3fa564"},children:p?"‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]}):null},Kr=({open:e,onClose:r,superAdmin:s})=>{var O,v,E;const{user:n}=Ns(),[a,o]=_.useState(null),[c,u]=_.useState(!1),[p,I]=_.useState(null);_.useEffect(()=>{e&&(s!=null&&s.id)?S(s.id):(o(null),I(null))},[e,s]);const S=async T=>{try{u(!0),I(null);const D=await ve.getSuperAdminById(T);o(D)}catch(D){console.error("Error fetching super admin details:",D),I("Failed to load latest details"),o(s)}finally{u(!1)}};if(!s)return null;const f=a||s,y=T=>T?new Date(T).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A";return t.jsxs(Ct,{open:e,onClose:r,maxWidth:"md",fullWidth:!0,children:[t.jsxs(wt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx(h,{sx:{fontWeight:700},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§"}),t.jsx(Re,{onClick:r,children:t.jsx(Vt,{})})]}),t.jsxs(At,{dividers:!0,children:[c&&t.jsx(N,{sx:{display:"flex",justifyContent:"center",p:2},children:t.jsx(at,{size:24})}),p&&t.jsxs(Ws,{severity:"warning",sx:{mb:2},children:[p," - Showing cached data"]}),t.jsxs(W,{spacing:3,sx:{opacity:c?.6:1,transition:"opacity 0.2s"},children:[t.jsxs(N,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(kt,{sx:{width:80,height:80,bgcolor:"#2b7fff",fontSize:32,fontWeight:700},src:f.avatar||void 0,children:(O=f.firstName)==null?void 0:O.charAt(0).toUpperCase()}),t.jsxs(N,{sx:{flex:1},children:[t.jsxs(h,{variant:"h5",sx:{fontWeight:700,mb:.5},children:[f.firstName," ",f.lastName]}),t.jsxs(W,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Le,{label:f.role,size:"small",sx:{bgcolor:"#eff6ff",color:"#155dfc"}}),t.jsx(Le,{label:f.status==="ACTIVE"?"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º":"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",size:"small",sx:{bgcolor:f.status==="ACTIVE"?"#dcfce7":"#fee2e2",color:f.status==="ACTIVE"?"#008236":"#dc2626"}})]})]})]}),t.jsx(Ee,{}),t.jsxs(N,{children:[t.jsx(h,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø"}),t.jsxs(oe,{container:!0,spacing:2,children:[t.jsx(oe,{size:{xs:12,sm:6},children:t.jsxs(W,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(tr,{sx:{color:"#4a5565"}}),t.jsxs(N,{children:[t.jsx(h,{variant:"caption",color:"text.secondary",children:"‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"}),t.jsx(h,{variant:"body1",sx:{fontWeight:600},children:f.phone})]})]})}),f.email&&t.jsx(oe,{size:{xs:12,sm:6},children:t.jsxs(W,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Gs,{sx:{color:"#4a5565"}}),t.jsxs(N,{children:[t.jsx(h,{variant:"caption",color:"text.secondary",children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤"}),t.jsx(h,{variant:"body1",sx:{fontWeight:600},children:f.email})]})]})})]})]}),t.jsx(Ee,{}),t.jsxs(N,{children:[t.jsx(h,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø"}),t.jsx(oe,{container:!0,spacing:2,children:t.jsx(oe,{size:{xs:12,sm:6},children:t.jsxs(W,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ys,{sx:{color:"#4a5565"}}),t.jsxs(N,{children:[t.jsx(h,{variant:"caption",color:"text.secondary",children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶®"}),t.jsx(h,{variant:"body1",sx:{fontWeight:600},children:((v=f.cityCorporation)==null?void 0:v.name)||"N/A"})]})]})})}),f.assignedZones&&f.assignedZones.length>0&&t.jsxs(N,{sx:{mt:2},children:[t.jsx(h,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ú‡ßã‡¶® ‡¶∏‡¶Æ‡ßÇ‡¶π"}),t.jsx(W,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:f.assignedZones.map(T=>t.jsx(Le,{label:T.zone.name,size:"small",variant:"outlined",color:"primary",sx:{mb:.5}},T.zone.id))})]})]}),t.jsx(Ee,{}),f.statistics&&t.jsxs(N,{children:[t.jsx(h,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®"}),t.jsxs(oe,{container:!0,spacing:2,children:[t.jsx(oe,{size:{xs:6,sm:3},children:t.jsxs(N,{sx:{textAlign:"center",p:2,bgcolor:"#f9fafb",borderRadius:2},children:[t.jsx(h,{variant:"h4",sx:{fontWeight:700,color:"#155dfc"},children:f.statistics.totalComplaints||0}),t.jsx(h,{variant:"caption",color:"text.secondary",children:"‡¶Æ‡ßã‡¶ü ‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó"})]})}),t.jsx(oe,{size:{xs:6,sm:3},children:t.jsxs(N,{sx:{textAlign:"center",p:2,bgcolor:"#f0fdf4",borderRadius:2},children:[t.jsx(h,{variant:"h4",sx:{fontWeight:700,color:"#00a63e"},children:f.statistics.resolvedComplaints||0}),t.jsx(h,{variant:"caption",color:"text.secondary",children:"‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"})]})}),t.jsx(oe,{size:{xs:6,sm:3},children:t.jsxs(N,{sx:{textAlign:"center",p:2,bgcolor:"#fff7ed",borderRadius:2},children:[t.jsx(h,{variant:"h4",sx:{fontWeight:700,color:"#d08700"},children:f.statistics.pendingComplaints||0}),t.jsx(h,{variant:"caption",color:"text.secondary",children:"‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç"})]})}),t.jsx(oe,{size:{xs:6,sm:3},children:t.jsxs(N,{sx:{textAlign:"center",p:2,bgcolor:"#eff6ff",borderRadius:2},children:[t.jsx(h,{variant:"h4",sx:{fontWeight:700,color:"#155dfc"},children:f.statistics.inProgressComplaints||0}),t.jsx(h,{variant:"caption",color:"text.secondary",children:"‡¶ö‡¶≤‡¶Æ‡¶æ‡¶®"})]})})]})]}),t.jsx(Ee,{}),t.jsxs(N,{children:[t.jsx(h,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡¶•‡ßç‡¶Ø"}),t.jsxs(oe,{container:!0,spacing:2,children:[t.jsx(oe,{size:{xs:12,sm:6},children:t.jsxs(W,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ks,{sx:{color:"#4a5565"}}),t.jsxs(N,{children:[t.jsx(h,{variant:"caption",color:"text.secondary",children:"‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"}),t.jsx(h,{variant:"body1",sx:{fontWeight:600},children:y(f.createdAt)})]})]})}),(n==null?void 0:n.role)==="MASTER_ADMIN"&&t.jsxs(oe,{size:{xs:12},children:[t.jsx(Ee,{sx:{my:1}}),t.jsxs(W,{direction:"row",spacing:1,alignItems:"flex-start",sx:{mt:1},children:[t.jsx(Qs,{sx:{color:"#d32f2f",mt:.5}}),t.jsxs(N,{children:[t.jsx(h,{variant:"caption",color:"text.secondary",children:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° (Visible only to MASTER ADMIN)"}),t.jsx(h,{variant:"body1",sx:{fontFamily:"monospace"},children:f.visiblePassword?t.jsx("span",{style:{color:"#2e7d32",fontWeight:"bold"},children:f.visiblePassword}):t.jsxs("span",{style:{color:"#666"},children:["Hash: ",(E=f.passwordHash)==null?void 0:E.substring(0,20),"... (Reset to see actual)"]})})]})]})]})]})]})]})]}),t.jsx(_t,{children:t.jsx(be,{variant:"contained",onClick:r,sx:{bgcolor:"#3fa564"},children:"‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®"})})]})},Qr={locale:{1:"‡ßß",2:"‡ß®",3:"‡ß©",4:"‡ß™",5:"‡ß´",6:"‡ß¨",7:"‡ß≠",8:"‡ßÆ",9:"‡ßØ",0:"‡ß¶"}},Jr={narrow:["‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶É","‡¶ñ‡ßç‡¶∞‡¶ø‡¶É"],abbreviated:["‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶∞‡ßç‡¶¨","‡¶ñ‡ßç‡¶∞‡¶ø‡¶É"],wide:["‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶™‡ßÇ‡¶∞‡ßç‡¶¨","‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶"]},en={narrow:["‡ßß","‡ß®","‡ß©","‡ß™"],abbreviated:["‡ßß‡¶§‡ßç‡¶∞‡ßà","‡ß®‡¶§‡ßç‡¶∞‡ßà","‡ß©‡¶§‡ßç‡¶∞‡ßà","‡ß™‡¶§‡ßç‡¶∞‡ßà"],wide:["‡ßß‡¶Æ ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï","‡ß®‡ßü ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï","‡ß©‡ßü ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï","‡ß™‡¶∞‡ßç‡¶• ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï"]},tn={narrow:["‡¶ú‡¶æ‡¶®‡ßÅ","‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ","‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö","‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤","‡¶Æ‡ßá","‡¶ú‡ßÅ‡¶®","‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á","‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü","‡¶∏‡ßá‡¶™‡ßç‡¶ü","‡¶Ö‡¶ï‡ßç‡¶ü‡ßã","‡¶®‡¶≠‡ßá","‡¶°‡¶ø‡¶∏‡ßá"],abbreviated:["‡¶ú‡¶æ‡¶®‡ßÅ","‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ","‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö","‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤","‡¶Æ‡ßá","‡¶ú‡ßÅ‡¶®","‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á","‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü","‡¶∏‡ßá‡¶™‡ßç‡¶ü","‡¶Ö‡¶ï‡ßç‡¶ü‡ßã","‡¶®‡¶≠‡ßá","‡¶°‡¶ø‡¶∏‡ßá"],wide:["‡¶ú‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø","‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø","‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö","‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤","‡¶Æ‡ßá","‡¶ú‡ßÅ‡¶®","‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á","‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü","‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßá‡¶Æ‡ßç‡¶¨‡¶∞","‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞","‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞","‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞"]},sn={narrow:["‡¶∞","‡¶∏‡ßã","‡¶Æ","‡¶¨‡ßÅ","‡¶¨‡ßÉ","‡¶∂‡ßÅ","‡¶∂"],short:["‡¶∞‡¶¨‡¶ø","‡¶∏‡ßã‡¶Æ","‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤","‡¶¨‡ßÅ‡¶ß","‡¶¨‡ßÉ‡¶π","‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞","‡¶∂‡¶®‡¶ø"],abbreviated:["‡¶∞‡¶¨‡¶ø","‡¶∏‡ßã‡¶Æ","‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤","‡¶¨‡ßÅ‡¶ß","‡¶¨‡ßÉ‡¶π","‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞","‡¶∂‡¶®‡¶ø"],wide:["‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞","‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞","‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞","‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞","‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ ","‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞","‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞"]},rn={narrow:{am:"‡¶™‡ßÇ",pm:"‡¶Ö‡¶™",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"},abbreviated:{am:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®",pm:"‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"},wide:{am:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®",pm:"‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"}},nn={narrow:{am:"‡¶™‡ßÇ",pm:"‡¶Ö‡¶™",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"},abbreviated:{am:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®",pm:"‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"},wide:{am:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®",pm:"‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"}};function on(e,r){if(e>18&&e<=31)return r+"‡¶∂‡ßá";switch(e){case 1:return r+"‡¶≤‡¶æ";case 2:case 3:return r+"‡¶∞‡¶æ";case 4:return r+"‡¶†‡¶æ";default:return r+"‡¶á"}}const an=(e,r)=>{const s=Number(e),n=_s(s);if((r==null?void 0:r.unit)==="date")return on(s,n);if(s>10||s===0)return n+"‡¶§‡¶Æ";switch(s%10){case 2:case 3:return n+"‡ßü";case 4:return n+"‡¶∞‡ßç‡¶•";case 6:return n+"‡¶∑‡ßç‡¶†";default:return n+"‡¶Æ"}};function _s(e){return e.toString().replace(/\d/g,function(r){return Qr.locale[r]})}const ln={ordinalNumber:an,era:We({values:Jr,defaultWidth:"wide"}),quarter:We({values:en,defaultWidth:"wide",argumentCallback:e=>e-1}),month:We({values:tn,defaultWidth:"wide"}),day:We({values:sn,defaultWidth:"wide"}),dayPeriod:We({values:rn,defaultWidth:"wide",formattingValues:nn,defaultFormattingWidth:"wide"})},cn={lessThanXSeconds:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°"},xSeconds:{one:"‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°",other:"{{count}} ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°"},halfAMinute:"‡¶Ü‡¶ß ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü",lessThanXMinutes:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü"},xMinutes:{one:"‡ßß ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü",other:"{{count}} ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü"},aboutXHours:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶ò‡¶®‡ßç‡¶ü‡¶æ"},xHours:{one:"‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ",other:"{{count}} ‡¶ò‡¶®‡ßç‡¶ü‡¶æ"},xDays:{one:"‡ßß ‡¶¶‡¶ø‡¶®",other:"{{count}} ‡¶¶‡¶ø‡¶®"},aboutXWeeks:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π"},xWeeks:{one:"‡ßß ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π",other:"{{count}} ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π"},aboutXMonths:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶Æ‡¶æ‡¶∏",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶Æ‡¶æ‡¶∏"},xMonths:{one:"‡ßß ‡¶Æ‡¶æ‡¶∏",other:"{{count}} ‡¶Æ‡¶æ‡¶∏"},aboutXYears:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶¨‡¶õ‡¶∞",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶¨‡¶õ‡¶∞"},xYears:{one:"‡ßß ‡¶¨‡¶õ‡¶∞",other:"{{count}} ‡¶¨‡¶õ‡¶∞"},overXYears:{one:"‡ßß ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø",other:"{{count}} ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø"},almostXYears:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶¨‡¶õ‡¶∞",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶¨‡¶õ‡¶∞"}},dn=(e,r,s)=>{let n;const a=cn[e];return typeof a=="string"?n=a:r===1?n=a.one:n=a.other.replace("{{count}}",_s(r)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?n+" ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá":n+" ‡¶Ü‡¶ó‡ßá":n},un={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hn={full:"{{date}} {{time}} '‡¶∏‡¶Æ‡ßü'",long:"{{date}} {{time}} '‡¶∏‡¶Æ‡ßü'",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xn={date:mt({formats:un,defaultWidth:"full"}),time:mt({formats:fn,defaultWidth:"full"}),dateTime:mt({formats:hn,defaultWidth:"full"})},pn={lastWeek:"'‡¶ó‡¶§' eeee '‡¶∏‡¶Æ‡ßü' p",yesterday:"'‡¶ó‡¶§‡¶ï‡¶æ‡¶≤' '‡¶∏‡¶Æ‡ßü' p",today:"'‡¶Ü‡¶ú' '‡¶∏‡¶Æ‡ßü' p",tomorrow:"'‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ‡¶ï‡¶æ‡¶≤' '‡¶∏‡¶Æ‡ßü' p",nextWeek:"eeee '‡¶∏‡¶Æ‡ßü' p",other:"P"},mn=(e,r,s,n)=>pn[e],gn=/^(\d+)(‡¶Æ|‡ßü|‡¶∞‡ßç‡¶•|‡¶∑‡ßç‡¶†|‡¶∂‡ßá|‡¶á|‡¶§‡¶Æ)?/i,yn=/\d+/i,bn={narrow:/^(‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶É|‡¶ñ‡ßç‡¶∞‡¶ø‡¶É)/i,abbreviated:/^(‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶∞‡ßç‡¶¨|‡¶ñ‡ßç‡¶∞‡¶ø‡¶É)/i,wide:/^(‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶™‡ßÇ‡¶∞‡ßç‡¶¨|‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶)/i},vn={narrow:[/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶É/i,/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶É/i],abbreviated:[/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶∞‡ßç‡¶¨/i,/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶É/i],wide:[/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶™‡ßÇ‡¶∞‡ßç‡¶¨/i,/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶/i]},jn={narrow:/^[‡ßß‡ß®‡ß©‡ß™]/i,abbreviated:/^[‡ßß‡ß®‡ß©‡ß™]‡¶§‡ßç‡¶∞‡ßà/i,wide:/^[‡ßß‡ß®‡ß©‡ß™](‡¶Æ|‡ßü|‡¶∞‡ßç‡¶•)? ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï/i},Sn={any:[/‡ßß/i,/‡ß®/i,/‡ß©/i,/‡ß™/i]},Cn={narrow:/^(‡¶ú‡¶æ‡¶®‡ßÅ|‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ|‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö|‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤|‡¶Æ‡ßá|‡¶ú‡ßÅ‡¶®|‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á|‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü|‡¶∏‡ßá‡¶™‡ßç‡¶ü|‡¶Ö‡¶ï‡ßç‡¶ü‡ßã|‡¶®‡¶≠‡ßá|‡¶°‡¶ø‡¶∏‡ßá)/i,abbreviated:/^(‡¶ú‡¶æ‡¶®‡ßÅ|‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ|‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö|‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤|‡¶Æ‡ßá|‡¶ú‡ßÅ‡¶®|‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á|‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü|‡¶∏‡ßá‡¶™‡ßç‡¶ü|‡¶Ö‡¶ï‡ßç‡¶ü‡ßã|‡¶®‡¶≠‡ßá|‡¶°‡¶ø‡¶∏‡ßá)/i,wide:/^(‡¶ú‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø|‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø|‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö|‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤|‡¶Æ‡ßá|‡¶ú‡ßÅ‡¶®|‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á|‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü|‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßá‡¶Æ‡ßç‡¶¨‡¶∞|‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞|‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞|‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞)/i},wn={any:[/^‡¶ú‡¶æ‡¶®‡ßÅ/i,/^‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ/i,/^‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö/i,/^‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤/i,/^‡¶Æ‡ßá/i,/^‡¶ú‡ßÅ‡¶®/i,/^‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á/i,/^‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü/i,/^‡¶∏‡ßá‡¶™‡ßç‡¶ü/i,/^‡¶Ö‡¶ï‡ßç‡¶ü‡ßã/i,/^‡¶®‡¶≠‡ßá/i,/^‡¶°‡¶ø‡¶∏‡ßá/i]},Vn={narrow:/^(‡¶∞|‡¶∏‡ßã|‡¶Æ|‡¶¨‡ßÅ|‡¶¨‡ßÉ|‡¶∂‡ßÅ|‡¶∂)+/i,short:/^(‡¶∞‡¶¨‡¶ø|‡¶∏‡ßã‡¶Æ|‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤|‡¶¨‡ßÅ‡¶ß|‡¶¨‡ßÉ‡¶π|‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞|‡¶∂‡¶®‡¶ø)+/i,abbreviated:/^(‡¶∞‡¶¨‡¶ø|‡¶∏‡ßã‡¶Æ|‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤|‡¶¨‡ßÅ‡¶ß|‡¶¨‡ßÉ‡¶π|‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞|‡¶∂‡¶®‡¶ø)+/i,wide:/^(‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞|‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞|‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞|‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞|‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ |‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞|‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞)+/i},An={narrow:[/^‡¶∞/i,/^‡¶∏‡ßã/i,/^‡¶Æ/i,/^‡¶¨‡ßÅ/i,/^‡¶¨‡ßÉ/i,/^‡¶∂‡ßÅ/i,/^‡¶∂/i],short:[/^‡¶∞‡¶¨‡¶ø/i,/^‡¶∏‡ßã‡¶Æ/i,/^‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤/i,/^‡¶¨‡ßÅ‡¶ß/i,/^‡¶¨‡ßÉ‡¶π/i,/^‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞/i,/^‡¶∂‡¶®‡¶ø/i],abbreviated:[/^‡¶∞‡¶¨‡¶ø/i,/^‡¶∏‡ßã‡¶Æ/i,/^‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤/i,/^‡¶¨‡ßÅ‡¶ß/i,/^‡¶¨‡ßÉ‡¶π/i,/^‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞/i,/^‡¶∂‡¶®‡¶ø/i],wide:[/^‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞/i,/^‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞/i,/^‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞/i,/^‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞/i,/^‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ /i,/^‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞/i,/^‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞/i]},_n={narrow:/^(‡¶™‡ßÇ|‡¶Ö‡¶™|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®|‡¶∏‡¶ï‡¶æ‡¶≤|‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤|‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ|‡¶∞‡¶æ‡¶§)/i,abbreviated:/^(‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®|‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®|‡¶∏‡¶ï‡¶æ‡¶≤|‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤|‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ|‡¶∞‡¶æ‡¶§)/i,wide:/^(‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®|‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®|‡¶∏‡¶ï‡¶æ‡¶≤|‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤|‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ|‡¶∞‡¶æ‡¶§)/i},kn={any:{am:/^‡¶™‡ßÇ/i,pm:/^‡¶Ö‡¶™/i,midnight:/^‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§/i,noon:/^‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®/i,morning:/‡¶∏‡¶ï‡¶æ‡¶≤/i,afternoon:/‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤/i,evening:/‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ/i,night:/‡¶∞‡¶æ‡¶§/i}},En={ordinalNumber:Ps({matchPattern:gn,parsePattern:yn,valueCallback:e=>parseInt(e,10)}),era:Pe({matchPatterns:bn,defaultMatchWidth:"wide",parsePatterns:vn,defaultParseWidth:"wide"}),quarter:Pe({matchPatterns:jn,defaultMatchWidth:"wide",parsePatterns:Sn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pe({matchPatterns:Cn,defaultMatchWidth:"wide",parsePatterns:wn,defaultParseWidth:"any"}),day:Pe({matchPatterns:Vn,defaultMatchWidth:"wide",parsePatterns:An,defaultParseWidth:"wide"}),dayPeriod:Pe({matchPatterns:_n,defaultMatchWidth:"wide",parsePatterns:kn,defaultParseWidth:"any"})},Mn={code:"bn",formatDistance:dn,formatLong:xn,formatRelative:mn,localize:ln,match:En,options:{weekStartsOn:0,firstWeekContainsDate:1}},In={CREATE_USER:"‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®",UPDATE_USER:"‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®",DELETE_USER:"‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßá‡¶õ‡ßá‡¶®",UPDATE_USER_STATUS:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®",UPDATE_USER_PERMISSIONS:"‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®"},Fn={USER:"‡¶á‡¶â‡¶ú‡¶æ‡¶∞",COMPLAINT:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó",MESSAGE:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú",ZONE:"‡¶ú‡ßã‡¶®",WARD:"‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°"},Ln=e=>e.includes("CREATE")?"#00a63e":e.includes("UPDATE")?"#155dfc":e.includes("DELETE")?"#e7000b":"#4a5565",zn=e=>{const r=In[e.action]||e.action,s=Fn[e.entityType]||e.entityType;if(e.action==="CREATE_USER"&&e.newValue)return`${e.newValue.name} ‡¶®‡¶æ‡¶Æ‡ßá ‡¶®‡¶§‡ßÅ‡¶® ${s} ${r}`;if(e.action==="UPDATE_USER"&&e.oldValue&&e.newValue){const n=[];return e.oldValue.name!==e.newValue.name&&n.push(`‡¶®‡¶æ‡¶Æ: ${e.oldValue.name} ‚Üí ${e.newValue.name}`),e.oldValue.phone!==e.newValue.phone&&n.push(`‡¶´‡ßã‡¶®: ${e.oldValue.phone} ‚Üí ${e.newValue.phone}`),e.oldValue.status!==e.newValue.status&&n.push(`‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏: ${e.oldValue.status} ‚Üí ${e.newValue.status}`),n.length>0?`${e.newValue.name} ‡¶è‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ${r}: ${n.join(", ")}`:`${e.newValue.name} ‡¶è‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ${r}`}return e.action==="DELETE_USER"&&e.oldValue?`${e.oldValue.name} ‡¶®‡¶æ‡¶Æ‡ßá ${s} ${r}`:e.action==="UPDATE_USER_PERMISSIONS"&&e.newValue?`${s} ‡¶è‡¶∞ ‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ${r}`:`${s} ${r}`},Dn=e=>{try{const r=new Date(e),n=Math.floor((new Date().getTime()-r.getTime())/(1e3*60));return n<1?"‡¶è‡¶á‡¶Æ‡¶æ‡¶§‡ßç‡¶∞":n<60?`${n} ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá`:n<1440?`${Math.floor(n/60)} ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡¶Ü‡¶ó‡ßá`:rr(r,"dd MMM yyyy, hh:mm a",{locale:Mn})}catch{return e}},Tn=()=>{const[e,r]=_.useState([]),[s,n]=_.useState(!0),a=_.useCallback(async()=>{n(!0);try{const o=await sr.getActivityLogs({page:1,limit:10,entityType:"USER"});o&&o.logs&&r(o.logs)}catch(o){console.error("Error loading activities:",o),pe.error("‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶≤‡¶æ‡¶™ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{n(!1)}},[]);return _.useEffect(()=>{a()},[a]),t.jsx(Me,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:t.jsxs(Ie,{children:[t.jsx(h,{sx:{fontSize:20,fontWeight:700,color:"#1e2939",mb:2},children:"‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶≤‡¶æ‡¶™"}),s?t.jsx(N,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(at,{size:32})}):e.length===0?t.jsx(N,{sx:{textAlign:"center",py:4},children:t.jsx(h,{sx:{color:"#6a7282",fontSize:14},children:"‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶≤‡¶æ‡¶™ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø"})}):t.jsx(W,{spacing:2,children:e.map((o,c)=>t.jsxs(P.Fragment,{children:[t.jsxs(W,{direction:"row",spacing:2,alignItems:"flex-start",children:[t.jsx(kt,{sx:{bgcolor:Ln(o.action),width:40,height:40,fontSize:16},children:o.user.firstName.charAt(0).toUpperCase()}),t.jsxs(N,{sx:{flex:1,minWidth:0},children:[t.jsxs(W,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",children:[t.jsxs(h,{sx:{fontSize:14,fontWeight:600,color:"#1e2939"},children:[o.user.firstName," ",o.user.lastName]}),t.jsx(Le,{label:o.user.role,size:"small",sx:{height:20,fontSize:11,bgcolor:"#f3f4f6",color:"#4a5565"}})]}),t.jsx(h,{sx:{fontSize:14,color:"#4a5565",mt:.5,wordBreak:"break-word"},children:zn(o)}),t.jsx(h,{sx:{fontSize:12,color:"#9ca3af",mt:.5},children:Dn(o.timestamp)})]})]}),c<e.length-1&&t.jsx(Ee,{})]},o.id))})]})})},st=({title:e,value:r,bg:s,color:n})=>t.jsx(Me,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:t.jsx(Ie,{sx:{bgcolor:s,borderRadius:2},children:t.jsxs(W,{spacing:.5,children:[t.jsx(h,{sx:{color:"#4a5565",fontSize:14},children:e}),t.jsx(h,{sx:{fontSize:24,fontWeight:700,color:n},children:r})]})})}),rt=({bg:e})=>t.jsx(Me,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:t.jsx(Ie,{sx:{bgcolor:e,borderRadius:2},children:t.jsxs(W,{spacing:.5,children:[t.jsx(N,{sx:{width:"60%",height:14,bgcolor:"rgba(0,0,0,0.1)",borderRadius:1}}),t.jsx(N,{sx:{width:"40%",height:28,bgcolor:"rgba(0,0,0,0.15)",borderRadius:1,mt:.5}})]})})}),Kn=()=>{const[e,r]=_.useState(!1),[s,n]=_.useState(!1),[a,o]=_.useState(!1),[c,u]=_.useState([]),[p,I]=_.useState(he.ACTIVE),[S,f]=_.useState(null),[y,O]=_.useState([]),[v,E]=_.useState(null),[T,D]=_.useState(!0),[w,k]=_.useState(!0),[R,L]=_.useState(""),[q,$]=_.useState(1),[b,F]=_.useState(1),g=20,A=_.useCallback(async()=>{D(!0);try{const V=await ve.getSuperAdmins({page:q,limit:g,search:R||void 0,status:p==="ALL"?void 0:p});O(V.users),F(V.pagination.totalPages)}catch(V){console.error("Error loading super admins:",V),pe.error("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{D(!1)}},[q,R,p]),z=_.useCallback(async()=>{k(!0);try{const V=await ve.getSuperAdminStatistics();E(V)}catch(V){console.error("Error loading statistics:",V),pe.error("‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶® ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{k(!1)}},[]);_.useEffect(()=>{A()},[A]),_.useEffect(()=>{z()},[z]);const U=V=>{L(V),$(1)},X=async(V,Q)=>{var Y,we;if(window.confirm(`‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ${Q} ‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`))try{await ve.deleteSuperAdmin(V),pe.success("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"),A(),z()}catch(et){console.error("Error deleting super admin:",et),pe.error(((we=(Y=et.response)==null?void 0:Y.data)==null?void 0:we.message)||"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}},te=async()=>{var V,Q;if(c.length!==0&&window.confirm(`‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ${c.length} ‡¶ú‡¶® ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`))try{await ve.bulkDeleteSuperAdmins(c),pe.success("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"),u([]),A(),z()}catch(Y){console.error("Error deleting super admins:",Y),pe.error(((Q=(V=Y.response)==null?void 0:V.data)==null?void 0:Q.message)||"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}},re=V=>{if(V.target.checked){const Q=y.map(Y=>Y.id);u(Q);return}u([])},ue=V=>{const Q=c.indexOf(V);let Y=[];Q===-1?Y=Y.concat(c,V):Q===0?Y=Y.concat(c.slice(1)):Q===c.length-1?Y=Y.concat(c.slice(0,-1)):Q>0&&(Y=Y.concat(c.slice(0,Q),c.slice(Q+1))),u(Y)},_e=()=>{A(),z()},Ce=V=>{f(V),n(!0)},ze=()=>{A(),z()},Je=V=>{f(V),o(!0)};return t.jsx(Us,{title:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü",children:t.jsxs(N,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",lg:"1fr 400px"},gap:3},children:[t.jsxs(W,{spacing:3,children:[t.jsx(Me,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:t.jsxs(Ie,{children:[t.jsx(h,{sx:{fontSize:24,fontWeight:700,color:"#1e2939",mb:2},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü"}),t.jsx(N,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(4, 1fr)"},gap:2},children:w?t.jsxs(t.Fragment,{children:[t.jsx(rt,{bg:"#eff6ff"}),t.jsx(rt,{bg:"#f0fdf4"}),t.jsx(rt,{bg:"#fef2f2"}),t.jsx(rt,{bg:"#faf5ff"})]}):t.jsxs(t.Fragment,{children:[t.jsx(st,{title:"‡¶Æ‡ßã‡¶ü ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®",value:((v==null?void 0:v.statusBreakdown.active)??0)+((v==null?void 0:v.statusBreakdown.inactive)??0),bg:"#eff6ff",color:"#155dfc"}),t.jsx(st,{title:"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",value:(v==null?void 0:v.statusBreakdown.active)??0,bg:"#f0fdf4",color:"#00a63e"}),t.jsx(st,{title:"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",value:(v==null?void 0:v.statusBreakdown.inactive)??0,bg:"#fef2f2",color:"#e7000b"}),t.jsx(st,{title:"‡¶Ü‡¶ú ‡¶®‡¶§‡ßÅ‡¶®",value:`+${(v==null?void 0:v.newUsersThisMonth)||0}`,bg:"#faf5ff",color:"#9810fa"})]})})]})}),t.jsx(Me,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:t.jsxs(Ie,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,flexWrap:"wrap"},children:[t.jsx(xe,{value:R,onChange:V=>U(V.target.value),placeholder:"‡¶®‡¶æ‡¶Æ/‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",fullWidth:!0,slotProps:{input:{startAdornment:t.jsx(Os,{position:"start",children:t.jsx($s,{sx:{color:"#0a0a0a80"}})})}},sx:{maxWidth:700}}),t.jsxs(Oe,{size:"small",sx:{minWidth:150},children:[t.jsx($e,{children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),t.jsxs(Be,{value:p,label:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏",onChange:V=>{I(V.target.value),$(1)},children:[t.jsx(ae,{value:"ALL",children:"‡¶∏‡¶ï‡¶≤"}),t.jsx(ae,{value:he.ACTIVE,children:"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º"}),t.jsx(ae,{value:he.INACTIVE,children:"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º"}),t.jsx(ae,{value:he.PENDING,children:"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"}),t.jsx(ae,{value:he.SUSPENDED,children:"‡¶∏‡ßç‡¶•‡¶ó‡¶ø‡¶§"})]})]}),t.jsx(be,{variant:"contained",sx:{bgcolor:"#3fa564",whiteSpace:"nowrap"},startIcon:t.jsx(Xs,{}),onClick:()=>r(!0),children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"}),c.length>0&&t.jsxs(be,{variant:"outlined",color:"error",startIcon:t.jsx(Xt,{}),onClick:te,children:["‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶® (",c.length,")"]})]})}),t.jsx(h,{sx:{fontSize:20,color:"#000000"},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ"}),T?t.jsx(N,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(at,{})}):y.length===0?t.jsx(Me,{sx:{borderRadius:2},children:t.jsx(Ie,{children:t.jsx(h,{sx:{textAlign:"center",py:4,color:"#6a7282"},children:"‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø"})})}):t.jsxs(t.Fragment,{children:[t.jsxs(Me,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:[t.jsx(N,{sx:{bgcolor:"#f9fafb",borderBottom:"1px solid #e5e7eb",px:3,py:1.5},children:t.jsxs(N,{sx:{display:"grid",gridTemplateColumns:"50px 30% 20% 15% 15% 1fr",gap:2,alignItems:"center"},children:[t.jsx(Zt,{indeterminate:c.length>0&&c.length<y.length,checked:y.length>0&&c.length===y.length,onChange:re}),t.jsx(h,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"}),t.jsx(h,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶è‡¶≤‡¶æ‡¶ï‡¶æ ‡¶ì ‡¶ú‡ßã‡¶®"}),t.jsx(h,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£"}),t.jsx(h,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),t.jsx(h,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®"})]})}),t.jsx(Ie,{sx:{px:0},children:t.jsxs(Bs,{children:[t.jsx(Zs,{children:y.map(V=>{var Y;const Q=c.indexOf(V.id)!==-1;return t.jsxs(qt,{hover:!0,selected:Q,children:[t.jsx(ke,{padding:"checkbox",sx:{width:"50px"},children:t.jsx(Zt,{checked:Q,onChange:()=>ue(V.id)})}),t.jsx(ke,{sx:{width:"30%"},children:t.jsxs(W,{direction:"row",spacing:1.5,alignItems:"center",children:[t.jsx(kt,{src:V.avatar||void 0,alt:`${V.firstName} ${V.lastName}`,sx:{bgcolor:"#2b7fff"},children:V.firstName.charAt(0).toUpperCase()}),t.jsxs(N,{children:[t.jsxs(h,{sx:{fontSize:16,fontWeight:700},children:[V.firstName," ",V.lastName]}),t.jsx(h,{sx:{fontSize:14,color:"#4a5565"},children:V.phone})]})]})}),t.jsxs(ke,{sx:{width:"20%"},children:[t.jsx(h,{sx:{fontSize:14,color:"#1e2939",fontWeight:600},children:((Y=V.cityCorporation)==null?void 0:Y.name)||"N/A"}),V.assignedZones&&V.assignedZones.length>0?t.jsx(N,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:V.assignedZones.map(we=>t.jsx(Le,{label:we.zone.name,size:"small",sx:{fontSize:"0.7rem",height:20}},we.zone.id))}):t.jsxs(N,{children:[t.jsx(h,{sx:{fontSize:13,color:"#4a5565",fontWeight:600},children:V.zone?`üè¢ ${V.zone.name}`:"‚ö†Ô∏è ‡¶ú‡ßã‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶ø‡¶§ ‡¶®‡ßá‡¶á"}),V.zone&&t.jsxs(h,{sx:{fontSize:12,color:"#6b7280"},children:["‡¶ú‡ßã‡¶® ‡¶®‡¶Ç: ",V.zone.zoneNumber||"N/A"]})]})]}),t.jsx(ke,{sx:{width:"15%"},children:t.jsx(W,{spacing:.5,children:V.zone||V.assignedZones&&V.assignedZones.length>0?t.jsxs(t.Fragment,{children:[t.jsx(h,{sx:{fontSize:13,color:"#059669",fontWeight:600},children:"‚úì ‡¶ú‡ßã‡¶® ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞"}),t.jsx(h,{sx:{fontSize:12,color:"#4a5565"},children:"üë• ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡ßá"}),t.jsx(h,{sx:{fontSize:12,color:"#4a5565"},children:"üìç ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá"})]}):t.jsx(h,{sx:{fontSize:13,color:"#dc2626"},children:"‚ö†Ô∏è ‡¶ú‡ßã‡¶® assign ‡¶ï‡¶∞‡ßÅ‡¶®"})})}),t.jsx(ke,{sx:{width:"15%"},children:t.jsx(W,{direction:"row",spacing:1,alignItems:"center",children:t.jsx(Le,{label:V.status===he.ACTIVE?"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º":"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",size:"small",sx:{bgcolor:V.status===he.ACTIVE?"#dcfce7":"#fef2f2",color:V.status===he.ACTIVE?"#008236":"#e7000b"}})})}),t.jsx(ke,{sx:{width:"20%"},children:t.jsxs(W,{direction:"row",spacing:2,alignItems:"center",children:[t.jsxs(W,{children:[t.jsxs(h,{sx:{fontSize:14,color:"#1e2939",fontWeight:700},children:["‡¶Æ‡ßã‡¶ü: ",V.statistics.totalComplaints]}),t.jsxs(W,{direction:"row",spacing:2,children:[t.jsxs(h,{sx:{fontSize:12,color:"#00a63e"},children:["‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®: ",V.statistics.resolvedComplaints]}),t.jsxs(h,{sx:{fontSize:12,color:"#d08700"},children:["‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç: ",V.statistics.pendingComplaints]})]})]}),t.jsx(Ee,{orientation:"vertical",flexItem:!0}),t.jsxs(W,{direction:"row",spacing:1,children:[t.jsx(Re,{size:"small",onClick:()=>Je(V),sx:{color:"#155dfc"},children:t.jsx(Js,{})}),t.jsx(Re,{size:"small",onClick:()=>Ce(V),children:t.jsx(er,{})}),t.jsx(Re,{size:"small",color:"error",onClick:()=>X(V.id,`${V.firstName} ${V.lastName}`),children:t.jsx(Xt,{})})]})]})})]},V.id)})}),t.jsx(qs,{sx:{display:"none"},children:t.jsx(qt,{children:t.jsx(ke,{})})})]})})]}),b>1&&t.jsx(N,{sx:{display:"flex",justifyContent:"center",mt:2},children:t.jsx(nr,{count:b,page:q,onChange:(V,Q)=>$(Q),color:"primary"})})]}),t.jsx(Gr,{open:e,onClose:()=>r(!1),onSuccess:_e}),t.jsx(Yr,{open:s,onClose:()=>{n(!1),f(null)},onSuccess:ze,superAdmin:S}),t.jsx(Kr,{open:a,onClose:()=>{o(!1),f(null)},superAdmin:S})]}),t.jsx(N,{sx:{display:{xs:"none",lg:"block"}},children:t.jsx(Tn,{})})]})})};export{Kn as default};
