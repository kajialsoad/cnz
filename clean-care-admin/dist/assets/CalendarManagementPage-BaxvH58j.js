import{j as e,s as be,t as fe,B as m,T as g,i as G,v as We,w as Se,A as ge,az as u,g as F,_ as b,av as f,$ as S,a1 as x,b as L,aX as Te,bn as Ie,e as ne,f as se,a$ as we,x as Ae,C as ze,P as Fe,N as ve,aF as $e,p as Oe,bh as me,bx as Ze,q as pe,l as Ne,V as ke,y as Le,cL as Ue}from"./mui-vendor-Brc-2iiC.js";import{r as i}from"./react-vendor-D7yrL1sD.js";import{A as Ce,d as Ee,k as Me,w as De,M as Pe,f as ye,a as q,V as Re,s as qe}from"./index-DBuvollO.js";import{a as Ye}from"./query-vendor-CZVuOxbJ.js";import"./chart-vendor-CrjdDA16.js";const E=Ye.create({baseURL:Ce.BASE_URL,timeout:Ce.TIMEOUT,withCredentials:!0,headers:{"Content-Type":"application/json"}});E.interceptors.request.use(n=>{const s=localStorage.getItem("accessToken");return s&&(n.headers.Authorization=`Bearer ${s}`),n});const X={async getCalendars(n){const s=new URLSearchParams;n!=null&&n.month&&s.append("month",n.month.toString()),n!=null&&n.year&&s.append("year",n.year.toString()),n!=null&&n.cityCorporationId&&s.append("cityCorporationId",n.cityCorporationId.toString()),n!=null&&n.zoneId&&s.append("zoneId",n.zoneId.toString()),n!=null&&n.wardId&&s.append("wardId",n.wardId.toString()),(n==null?void 0:n.isActive)!==void 0&&s.append("isActive",n.isActive.toString());const c=s.toString(),l=c?`/api/calendars?${c}`:"/api/calendars",h=await E.get(l);return h.data.data||h.data},async getCalendarById(n){const s=await E.get(`/api/calendars/${n}`);return s.data.data||s.data},async createCalendar(n,s){const c=new FormData;c.append("title",n.title),n.titleBn&&c.append("titleBn",n.titleBn),c.append("month",n.month.toString()),c.append("year",n.year.toString()),n.cityCorporationId&&c.append("cityCorporationId",n.cityCorporationId.toString()),n.zoneId&&c.append("zoneId",n.zoneId.toString()),n.wardId&&c.append("wardId",n.wardId.toString()),n.events&&n.events.length>0&&c.append("events",JSON.stringify(n.events)),c.append("image",s);const l=await E.post("/api/calendars",c,{headers:{"Content-Type":"multipart/form-data"}});return l.data.data||l.data},async updateCalendar(n,s,c){console.log("ðŸ” [calendarService] updateCalendar called"),console.log("ðŸ“ [calendarService] Calendar ID:",n),console.log("ðŸ“ [calendarService] Data received:",s),console.log("ðŸ–¼ï¸ [calendarService] Image file:",c?"Present":"None");const l=new FormData;if(s.title&&l.append("title",s.title),s.titleBn&&l.append("titleBn",s.titleBn),s.month&&l.append("month",s.month.toString()),s.year&&l.append("year",s.year.toString()),s.isActive!==void 0&&l.append("isActive",s.isActive.toString()),s.cityCorporationId!==void 0&&l.append("cityCorporationId",s.cityCorporationId?s.cityCorporationId.toString():""),s.zoneId!==void 0&&l.append("zoneId",s.zoneId?s.zoneId.toString():""),s.wardId!==void 0&&l.append("wardId",s.wardId?s.wardId.toString():""),s.events!==void 0){const h=JSON.stringify(s.events);console.log("ðŸ“‹ [calendarService] Events to send:",s.events),console.log("ðŸ“‹ [calendarService] Events JSON:",h),l.append("events",h)}c&&(console.log("ðŸ–¼ï¸ [calendarService] Adding image file to FormData"),l.append("image",c)),console.log("ðŸ“¦ [calendarService] FormData contents:");for(const[h,C]of l.entries())console.log(`  ${h}:`,C);console.log("ðŸš€ [calendarService] Sending PUT request to:",`/api/calendars/${n}`);try{const h=await E.put(`/api/calendars/${n}`,l,{headers:{"Content-Type":"multipart/form-data"}});return console.log("âœ… [calendarService] Response received:",h.data),h.data.data||h.data}catch(h){throw console.error("âŒ [calendarService] Request failed:",h),console.error("âŒ [calendarService] Error response:",h.response),console.error("âŒ [calendarService] Error message:",h.message),h}},async deleteCalendar(n){await E.delete(`/api/calendars/${n}`)},async addEvent(n,s){const c=await E.post(`/api/calendars/${n}/events`,s);return c.data.data||c.data},async updateEvent(n,s,c){const l=await E.put(`/api/calendars/${n}/events/${s}`,c);return l.data.data||l.data},async deleteEvent(n,s){await E.delete(`/api/calendars/${n}/events/${s}`)}},Je=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],He=[{value:"wasteCollection",label:"Waste Collection"},{value:"publicHoliday",label:"Public Holiday"},{value:"communityEvent",label:"Community Event"}],Ve=({open:n,onClose:s,onSuccess:c,calendar:l})=>{const[h,C]=i.useState(!1),[Y,v]=i.useState(null),[y,J]=i.useState(""),[$,H]=i.useState(""),[M,V]=i.useState(new Date().getMonth()+1),[D,U]=i.useState(new Date().getFullYear()),[B,O]=i.useState(""),[I,Z]=i.useState(""),[K,w]=i.useState(""),[A,P]=i.useState(null),[Q,W]=i.useState(null),[j,T]=i.useState([]),[le,_]=i.useState([]),[re,N]=i.useState([]),[oe,z]=i.useState([]);i.useEffect(()=>{if(n)if(ie(),l){J(l.title),H(l.titleBn||""),V(l.month),U(l.year),O(l.cityCorporationId||""),Z(l.zoneId||""),w(l.wardId||""),W(l.imageUrl);const a=(l.events||[]).map(o=>{const r=o.category;let p=r;return r==="WASTE_COLLECTION"?p="wasteCollection":r==="PUBLIC_HOLIDAY"?p="publicHoliday":r==="COMMUNITY_EVENT"&&(p="communityEvent"),{...o,eventDate:new Date(o.eventDate).toISOString().split("T")[0],category:p}});T(a),l.cityCorporationId&&ee(l.cityCorporationId),l.zoneId&&te(l.zoneId)}else R()},[n,l]);const R=()=>{J(""),H(""),V(new Date().getMonth()+1),U(new Date().getFullYear()),O(""),Z(""),w(""),P(null),W(null),T([]),v(null)},ie=async()=>{try{const a=await Ee.getCityCorporations();_(a.cityCorporations||[])}catch(a){console.error("Failed to load city corporations:",a),_([])}},ee=async a=>{try{const o=await Me.getZonesByCityCorporation(a);N(Array.isArray(o)?o:[])}catch(o){console.error("Failed to load zones:",o),N([])}},te=async a=>{try{const o=await De.getWardsByZone(a);z(Array.isArray(o)?o:[])}catch(o){console.error("Failed to load wards:",o),z([])}},de=a=>{O(a),Z(""),w(""),N([]),z([]),a&&ee(a)},ce=a=>{Z(a),w(""),z([]),a&&te(a)},ue=a=>{var r;const o=(r=a.target.files)==null?void 0:r[0];if(o){P(o);const p=new FileReader;p.onloadend=()=>{W(p.result)},p.readAsDataURL(o)}},he=()=>{T([...j,{title:"",titleBn:"",description:"",descriptionBn:"",eventDate:new Date().toISOString().split("T")[0],eventType:"Event",category:"communityEvent"}])},k=(a,o,r)=>{const p=[...j];p[a][o]=r,T(p)},xe=a=>{T(j.filter((o,r)=>r!==a))},ae=async()=>{var a,o;try{if(C(!0),v(null),console.log("ðŸ” [CalendarModal] handleSubmit started"),console.log("ðŸ“ [CalendarModal] Mode:",l?"UPDATE":"CREATE"),console.log("ðŸ“ [CalendarModal] Title:",y),console.log("ðŸ“ [CalendarModal] Events count:",j.length),console.log("ðŸ“ [CalendarModal] Events data:",j),!y.trim()){v("Title is required");return}if(!l&&!A){v("Calendar image is required");return}const r=j.filter(t=>t.title.trim());console.log("âœ… [CalendarModal] Valid events after filter:",r.length),console.log("ðŸ“‹ [CalendarModal] Valid events:",r);const p={title:y.trim(),titleBn:$.trim()||void 0,month:M,year:D,cityCorporationId:B||void 0,zoneId:I||void 0,wardId:K||void 0,events:r};if(console.log("ðŸ“¦ [CalendarModal] Calendar data prepared:",p),console.log("ðŸ–¼ï¸ [CalendarModal] Image file:",A?"Present":"None"),l){console.log("ðŸ”„ [CalendarModal] Calling updateCalendar with ID:",l.id);const t=await X.updateCalendar(l.id,p,A||void 0);console.log("âœ… [CalendarModal] Update successful:",t)}else{if(!A){v("Image is required");return}console.log("âž• [CalendarModal] Calling createCalendar");const t=await X.createCalendar(p,A);console.log("âœ… [CalendarModal] Create successful:",t)}console.log("ðŸŽ‰ [CalendarModal] Operation completed successfully"),c()}catch(r){console.error("âŒ [CalendarModal] Error in handleSubmit:",r),console.error("âŒ [CalendarModal] Error message:",r.message),console.error("âŒ [CalendarModal] Error response:",r.response),v(((o=(a=r.response)==null?void 0:a.data)==null?void 0:o.error)||r.message||"Failed to save calendar")}finally{C(!1)}};return e.jsxs(be,{open:n,onClose:s,maxWidth:"md",fullWidth:!0,children:[e.jsx(fe,{children:e.jsxs(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(g,{variant:"h6",children:l?"Edit Calendar":"Add New Calendar"}),e.jsx(G,{onClick:s,size:"small",children:e.jsx(We,{})})]})}),e.jsxs(Se,{dividers:!0,children:[Y&&e.jsx(ge,{severity:"error",onClose:()=>v(null),sx:{mb:2},children:Y}),e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{size:{xs:12},children:e.jsx(F,{fullWidth:!0,label:"Title (English)",value:y,onChange:a=>J(a.target.value),required:!0})}),e.jsx(u,{size:{xs:12},children:e.jsx(F,{fullWidth:!0,label:"Title (Bangla)",value:$,onChange:a=>H(a.target.value)})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsxs(b,{fullWidth:!0,required:!0,children:[e.jsx(f,{children:"Month"}),e.jsx(S,{value:M,label:"Month",onChange:a=>V(a.target.value),children:Je.map(a=>e.jsx(x,{value:a.value,children:a.label},a.value))})]})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsx(F,{fullWidth:!0,label:"Year",type:"number",value:D,onChange:a=>U(parseInt(a.target.value)),required:!0})}),e.jsx(u,{size:{xs:12},children:e.jsx(g,{variant:"subtitle2",sx:{mb:1,color:"text.secondary"},children:"Geographical Targeting (Optional)"})}),e.jsx(u,{size:{xs:12,sm:4},children:e.jsxs(b,{fullWidth:!0,children:[e.jsx(f,{children:"City Corporation"}),e.jsxs(S,{value:B,label:"City Corporation",onChange:a=>de(a.target.value),children:[e.jsx(x,{value:"",children:"All"}),le.map(a=>e.jsx(x,{value:a.id,children:a.name},a.id))]})]})}),e.jsx(u,{size:{xs:12,sm:4},children:e.jsxs(b,{fullWidth:!0,disabled:!B,children:[e.jsx(f,{children:"Zone"}),e.jsxs(S,{value:I,label:"Zone",onChange:a=>ce(a.target.value),children:[e.jsx(x,{value:"",children:"All"}),re.map(a=>e.jsxs(x,{value:a.id,children:["Zone ",a.number]},a.id))]})]})}),e.jsx(u,{size:{xs:12,sm:4},children:e.jsxs(b,{fullWidth:!0,disabled:!I,children:[e.jsx(f,{children:"Ward"}),e.jsxs(S,{value:K,label:"Ward",onChange:a=>w(a.target.value),children:[e.jsx(x,{value:"",children:"All"}),oe.map(a=>e.jsxs(x,{value:a.id,children:["Ward ",a.number]},a.id))]})]})}),e.jsx(u,{size:{xs:12},children:e.jsxs(m,{children:[e.jsxs(g,{variant:"subtitle2",sx:{mb:1},children:["Calendar Image ",!l&&e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs(L,{variant:"outlined",component:"label",startIcon:e.jsx(Te,{}),fullWidth:!0,sx:{mb:2},children:[A?"Change Image":l?"Upload New Image":"Upload Image",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:ue})]}),Q&&e.jsx(m,{component:"img",src:Q,alt:"Preview",sx:{width:"100%",maxHeight:300,objectFit:"contain",border:"1px solid #ddd",borderRadius:1}})]})}),e.jsxs(u,{size:{xs:12},children:[e.jsxs(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(g,{variant:"subtitle2",children:"Events (Optional)"}),e.jsx(L,{startIcon:e.jsx(Ie,{}),onClick:he,size:"small",children:"Add Event"})]}),j.map((a,o)=>e.jsx(ne,{sx:{mb:2},children:e.jsxs(se,{children:[e.jsxs(m,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsxs(g,{variant:"subtitle2",children:["Event ",o+1]}),e.jsx(G,{size:"small",onClick:()=>xe(o),color:"error",children:e.jsx(we,{})})]}),e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{size:{xs:12,sm:6},children:e.jsx(F,{fullWidth:!0,size:"small",label:"Title (English)",value:a.title,onChange:r=>k(o,"title",r.target.value)})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsx(F,{fullWidth:!0,size:"small",label:"Title (Bangla)",value:a.titleBn,onChange:r=>k(o,"titleBn",r.target.value)})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsx(F,{fullWidth:!0,size:"small",label:"Event Date",type:"date",value:a.eventDate,onChange:r=>k(o,"eventDate",r.target.value),InputLabelProps:{shrink:!0}})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsxs(b,{fullWidth:!0,size:"small",children:[e.jsx(f,{children:"Category"}),e.jsx(S,{value:a.category,label:"Category",onChange:r=>k(o,"category",r.target.value),children:He.map(r=>e.jsx(x,{value:r.value,children:r.label},r.value))})]})}),e.jsx(u,{size:{xs:12},children:e.jsx(F,{fullWidth:!0,size:"small",label:"Description (English)",multiline:!0,rows:2,value:a.description,onChange:r=>k(o,"description",r.target.value)})})]})]})},o))]})]})]}),e.jsxs(Ae,{children:[e.jsx(L,{onClick:s,disabled:h,children:"Cancel"}),e.jsx(L,{onClick:ae,variant:"contained",disabled:h,sx:{bgcolor:"#4CAF50","&:hover":{bgcolor:"#45a049"}},children:h?e.jsx(ze,{size:24}):l?"Update":"Create"})]})]})},je=[{value:1,label:"January",labelBn:"à¦œà¦¾à¦¨à§à¦¯à¦¼à¦¾à¦°à¦¿"},{value:2,label:"February",labelBn:"à¦«à§‡à¦¬à§à¦°à§à¦¯à¦¼à¦¾à¦°à¦¿"},{value:3,label:"March",labelBn:"à¦®à¦¾à¦°à§à¦š"},{value:4,label:"April",labelBn:"à¦à¦ªà§à¦°à¦¿à¦²"},{value:5,label:"May",labelBn:"à¦®à§‡"},{value:6,label:"June",labelBn:"à¦œà§à¦¨"},{value:7,label:"July",labelBn:"à¦œà§à¦²à¦¾à¦‡"},{value:8,label:"August",labelBn:"à¦†à¦—à¦¸à§à¦Ÿ"},{value:9,label:"September",labelBn:"à¦¸à§‡à¦ªà§à¦Ÿà§‡à¦®à§à¦¬à¦°"},{value:10,label:"October",labelBn:"à¦…à¦•à§à¦Ÿà§‹à¦¬à¦°"},{value:11,label:"November",labelBn:"à¦¨à¦­à§‡à¦®à§à¦¬à¦°"},{value:12,label:"December",labelBn:"à¦¡à¦¿à¦¸à§‡à¦®à§à¦¬à¦°"}],et=()=>{const[n,s]=i.useState([]),[c,l]=i.useState(!0),[h,C]=i.useState(null),[Y,v]=i.useState(null),[y,J]=i.useState(""),[$,H]=i.useState(new Date().getFullYear()),[M,V]=i.useState(""),[D,U]=i.useState(""),[B,O]=i.useState(""),[I,Z]=i.useState(""),[K,w]=i.useState(!1),[A,P]=i.useState(null),[Q,W]=i.useState(!1),[j,T]=i.useState(null),[le,_]=i.useState([]),[re,N]=i.useState([]),[oe,z]=i.useState([]);i.useEffect(()=>{R(),ie()},[y,$,M,D,B,I]);const R=async()=>{try{l(!0),C(null);const t={};y&&(t.month=y),$&&(t.year=$),M&&(t.cityCorporationId=M),D&&(t.zoneId=D),B&&(t.wardId=B),I!==""&&(t.isActive=I);const d=await X.getCalendars(t);s(d)}catch(t){C(t.message||"Failed to load calendars")}finally{l(!1)}},ie=async()=>{try{console.log("ðŸ” [Calendar] Loading city corporations...");const t=await Ee.getCityCorporations();console.log("âœ… [Calendar] City Corporations response:",t),console.log("âœ… [Calendar] Extracted array:",t.cityCorporations),_(t.cityCorporations||[]),console.log("âœ… [Calendar] State updated with",(t.cityCorporations||[]).length,"city corporations")}catch(t){console.error("âŒ [Calendar] Failed to load city corporations:",t),_([])}},ee=async t=>{try{console.log("ðŸ” [Calendar] Loading zones for city corporation:",t);const d=await Me.getZonesByCityCorporation(t);console.log("âœ… [Calendar] Zones response:",d),N(Array.isArray(d)?d:[]),console.log("âœ… [Calendar] State updated with",(Array.isArray(d)?d:[]).length,"zones")}catch(d){console.error("âŒ [Calendar] Failed to load zones:",d),N([])}},te=async t=>{try{const d=await De.getWardsByZone(t);z(Array.isArray(d)?d:[])}catch(d){console.error("Failed to load wards:",d),z([])}},de=t=>{V(t),U(""),O(""),N([]),z([]),t&&ee(t)},ce=t=>{U(t),O(""),z([]),t&&te(t)},ue=()=>{P(null),w(!0)},he=t=>{P(t),w(!0)},k=t=>{T(t),W(!0)},xe=async()=>{if(j)try{await X.deleteCalendar(j.id),v("Calendar deleted successfully"),W(!1),T(null),R()}catch(t){C(t.message||"Failed to delete calendar")}},ae=()=>{w(!1),P(null)},a=()=>{v(A?"Calendar updated successfully":"Calendar created successfully"),ae(),R()},o=async t=>{try{await X.updateCalendar(t.id,{isActive:!t.isActive}),v(`Calendar ${t.isActive?"deactivated":"activated"} successfully`),R()}catch(d){C(d.message||"Failed to update calendar status")}},r=t=>{const d=je.find(Be=>Be.value===t);return d?d.label:t.toString()},p=t=>t.ward?`Ward ${t.ward.number}`:t.zone?`Zone ${t.zone.number}`:t.cityCorporation?t.cityCorporation.name:"All Areas";return e.jsx(Pe,{title:"Calendar Management",children:e.jsxs(m,{sx:{p:{xs:2,md:3}},children:[e.jsx(Fe,{sx:{p:{xs:2,md:3},mb:3,borderRadius:3,background:"linear-gradient(135deg, #0f766e 0%, #22c55e 100%)",color:"white",animation:`${ye} ${q.normal.duration} ${q.smooth.timing}`,animationFillMode:"both"},children:e.jsxs(m,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",gap:2},children:[e.jsxs(m,{children:[e.jsx(g,{variant:"h4",fontWeight:"bold",sx:{mb:.5},children:"Calendar Management"}),e.jsx(g,{variant:"body2",sx:{opacity:.9},children:"Create, manage, and analyze government calendars with better clarity"})]}),e.jsx(L,{variant:"contained",startIcon:e.jsx(Ie,{}),onClick:ue,sx:{bgcolor:"white",color:"#0f766e",width:{xs:"100%",sm:"auto"},"&:hover":{bgcolor:"#f0fdf4"},...Re},children:"Add Calendar"})]})}),h&&e.jsx(ge,{severity:"error",onClose:()=>C(null),sx:{mb:2},children:h}),Y&&e.jsx(ge,{severity:"success",onClose:()=>v(null),sx:{mb:2},children:Y}),e.jsx(ne,{sx:{mb:3,borderRadius:3,boxShadow:"0 4px 18px rgba(0,0,0,0.06)",border:"1px solid",borderColor:"divider",animation:`${ye} ${q.normal.duration} ${q.smooth.timing}`,animationFillMode:"both",animationDelay:"40ms"},children:e.jsxs(se,{children:[e.jsx(g,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Filters"}),e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{size:{xs:12,sm:6,md:2},children:e.jsxs(b,{fullWidth:!0,size:"small",children:[e.jsx(f,{children:"Month"}),e.jsxs(S,{value:y===""?"":y,label:"Month",onChange:t=>{const d=t.target.value;J(d===""?"":Number(d))},children:[e.jsx(x,{value:"",children:"All Months"}),je.map(t=>e.jsx(x,{value:t.value,children:t.label},t.value))]})]})}),e.jsx(u,{size:{xs:12,sm:6,md:2},children:e.jsx(F,{fullWidth:!0,size:"small",label:"Year",type:"number",value:$,onChange:t=>H(t.target.value?parseInt(t.target.value):"")})}),e.jsx(u,{size:{xs:12,sm:6,md:2},children:e.jsxs(b,{fullWidth:!0,size:"small",children:[e.jsx(f,{children:"City Corporation"}),e.jsxs(S,{value:M,label:"City Corporation",onChange:t=>de(t.target.value),children:[e.jsx(x,{value:"",children:"All"}),le.map(t=>e.jsx(x,{value:t.id,children:t.name},t.id))]})]})}),e.jsx(u,{size:{xs:12,sm:6,md:2},children:e.jsxs(b,{fullWidth:!0,size:"small",disabled:!M,children:[e.jsx(f,{children:"Zone"}),e.jsxs(S,{value:D,label:"Zone",onChange:t=>ce(t.target.value),children:[e.jsx(x,{value:"",children:"All"}),re.map(t=>e.jsxs(x,{value:t.id,children:["Zone ",t.number]},t.id))]})]})}),e.jsx(u,{size:{xs:12,sm:6,md:2},children:e.jsxs(b,{fullWidth:!0,size:"small",disabled:!D,children:[e.jsx(f,{children:"Ward"}),e.jsxs(S,{value:B,label:"Ward",onChange:t=>O(t.target.value),children:[e.jsx(x,{value:"",children:"All"}),oe.map(t=>e.jsxs(x,{value:t.id,children:["Ward ",t.number]},t.id))]})]})}),e.jsx(u,{size:{xs:12,sm:6,md:2},children:e.jsxs(b,{fullWidth:!0,size:"small",children:[e.jsx(f,{children:"Status"}),e.jsxs(S,{value:I===""?"":I?"true":"false",label:"Status",onChange:t=>{const d=t.target.value;Z(d===""?"":d==="true")},children:[e.jsx(x,{value:"",children:"All"}),e.jsx(x,{value:"true",children:"Active"}),e.jsx(x,{value:"false",children:"Inactive"})]})]})})]})]})}),c?e.jsx(m,{sx:{display:"flex",justifyContent:"center",py:8},children:e.jsx(ze,{})}):n.length===0?e.jsx(ne,{sx:{borderRadius:3,boxShadow:"0 4px 18px rgba(0,0,0,0.06)",border:"1px solid",borderColor:"divider"},children:e.jsx(se,{children:e.jsxs(m,{sx:{textAlign:"center",py:8},children:[e.jsx(ve,{sx:{fontSize:64,color:"text.secondary",mb:2}}),e.jsx(g,{variant:"h6",color:"text.secondary",children:"No calendars found"}),e.jsx(g,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Create your first calendar to get started"})]})})}):e.jsx(u,{container:!0,spacing:3,children:n.map((t,d)=>e.jsx(u,{size:{xs:12,sm:6},size:{md:4,lg:3},children:e.jsxs(ne,{sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",opacity:t.isActive?1:.6,borderRadius:3,boxShadow:"0 4px 18px rgba(0,0,0,0.06)",border:"1px solid",borderColor:"divider",transition:"all 0.3s ease",animation:`${qe} ${q.normal.duration} ${q.smooth.timing}`,animationFillMode:"both",animationDelay:`${d*40}ms`,"&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 28px rgba(0,0,0,0.12)"}},children:[e.jsx($e,{component:"img",height:"300",image:t.imageUrl,alt:t.title,sx:{objectFit:"cover"}}),e.jsx(Oe,{label:t.isActive?"Active":"Inactive",size:"small",color:t.isActive?"success":"default",sx:{position:"absolute",top:8,right:8}}),e.jsxs(se,{sx:{flexGrow:1},children:[e.jsx(g,{variant:"h6",sx:{mb:1,fontWeight:600},children:t.title}),t.titleBn&&e.jsx(g,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.titleBn}),e.jsxs(me,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[e.jsx(ve,{sx:{fontSize:16,color:"text.secondary"}}),e.jsxs(g,{variant:"body2",color:"text.secondary",children:[r(t.month)," ",t.year]})]}),e.jsxs(g,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["ðŸ“ ",p(t)]}),t.events&&t.events.length>0&&e.jsxs(me,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Ze,{sx:{fontSize:16,color:"text.secondary"}}),e.jsxs(g,{variant:"body2",color:"text.secondary",children:[t.events.length," event",t.events.length!==1?"s":""]})]})]}),e.jsxs(m,{sx:{p:2,pt:0,display:"flex",gap:1},children:[e.jsx(pe,{title:t.isActive?"Deactivate":"Activate",children:e.jsx(G,{size:"small",onClick:()=>o(t),sx:{color:t.isActive?"success.main":"text.secondary"},children:t.isActive?e.jsx(Ne,{}):e.jsx(ke,{})})}),e.jsx(pe,{title:"Edit",children:e.jsx(G,{size:"small",onClick:()=>he(t),sx:{color:"primary.main"},children:e.jsx(Le,{})})}),e.jsx(pe,{title:"Delete",children:e.jsx(G,{size:"small",onClick:()=>k(t),sx:{color:"error.main"},children:e.jsx(we,{})})})]})]})},t.id))}),e.jsx(Ve,{open:K,onClose:ae,onSuccess:a,calendar:A}),e.jsxs(be,{open:Q,onClose:()=>W(!1),children:[e.jsx(fe,{children:"Delete Calendar"}),e.jsx(Se,{children:e.jsx(Ue,{children:"Are you sure you want to delete this calendar? This action cannot be undone."})}),e.jsxs(Ae,{children:[e.jsx(L,{onClick:()=>W(!1),children:"Cancel"}),e.jsx(L,{onClick:xe,color:"error",variant:"contained",children:"Delete"})]})]})]})})};export{et as default};
