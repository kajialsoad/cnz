import{j as e,b6 as jt,g as de,C as Je,q as Ie,t as us,v as fs,T as f,i as Te,w as hs,x as xs,bi as Hs,bj as Gs,bk as Ys,y as gs,b as be,B as M,b8 as D,$ as Pe,aw as Oe,a0 as Le,a2 as oe,b7 as le,F as vt,m as wt,J as ms,D as _e,aN as ie,b9 as St,ba as Ct,bb as Is,bc as Vt,bd as At,e as ke,f as Ee,I as _t,_ as kt,be as Et,bf as Ms,n as Ds,ar as Ft,av as It,at as zs,au as Ae,bg as Mt,bh as Dt,as as zt,aR as Tt}from"./mui-vendor-BGNnUP5W.js";import{r as z,a as T}from"./react-vendor-D7yrL1sD.js";import{k as Wt,d as Qs,e as je,n as ge,U as xe,u as Nt,o as We,p as as,q as Ne,r as Rt,M as Pt}from"./index-BayLrfHP.js";import{A as Ks}from"./AvatarUpload-BvrH--DP.js";import{a as Ot}from"./activityLogService-CwKbs2cu.js";import{f as Lt}from"./format-BLLrCH_a.js";import"./query-vendor-7qIgur5f.js";import"./chart-vendor-DaOx9iI7.js";const Js=({value:s,onChange:r,cityCorporationCode:t,label:n="Assigned Zones",error:l,helperText:a,disabled:d})=>{const[u,w]=z.useState([]),[R,_]=z.useState(!1),[x,S]=z.useState(!1);z.useEffect(()=>{t?(async()=>{try{_(!0);const F=await Wt.getZones({cityCorporationCode:t,status:"ACTIVE"});F.zones&&w(F.zones)}catch(F){console.error("Failed to fetch zones:",F)}finally{_(!1)}})():w([])},[t]);const q=u.filter(j=>s.includes(j.id));return e.jsx(jt,{multiple:!0,open:x,onOpen:()=>S(!0),onClose:()=>S(!1),options:u,getOptionLabel:j=>j.name||`Zone ${j.id}`,value:q,onChange:(j,F)=>{const P=F.map(W=>W.id);r(P)},isOptionEqualToValue:(j,F)=>j.id===F.id,loading:R,disabled:d,renderTags:(j,F)=>j.map((P,W)=>z.createElement(Ie,{label:P.name||`Zone ${P.id}`,...F({index:W}),size:"small",key:P.id})),renderInput:j=>e.jsx(de,{...j,label:n,error:l,helperText:a,InputProps:{...j.InputProps,endAdornment:e.jsxs(T.Fragment,{children:[R?e.jsx(Je,{color:"inherit",size:20}):null,j.InputProps.endAdornment]})}}),noOptionsText:"No zones found"})};var Be=s=>s.type==="checkbox",Fe=s=>s instanceof Date,ae=s=>s==null;const et=s=>typeof s=="object";var ee=s=>!ae(s)&&!Array.isArray(s)&&et(s)&&!Fe(s),st=s=>ee(s)&&s.target?Be(s.target)?s.target.checked:s.target.value:s,Ut=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,tt=(s,r)=>s.has(Ut(r)),$t=s=>{const r=s.constructor&&s.constructor.prototype;return ee(r)&&r.hasOwnProperty("isPrototypeOf")},ys=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function se(s){let r;const t=Array.isArray(s),n=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)r=new Date(s);else if(!(ys&&(s instanceof Blob||n))&&(t||ee(s)))if(r=t?[]:Object.create(Object.getPrototypeOf(s)),!t&&!$t(s))r=s;else for(const l in s)s.hasOwnProperty(l)&&(r[l]=se(s[l]));else return s;return r}var es=s=>/^\w*$/.test(s),G=s=>s===void 0,ps=s=>Array.isArray(s)?s.filter(Boolean):[],bs=s=>ps(s.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(s,r,t)=>{if(!r||!ee(s))return t;const n=(es(r)?[r]:bs(r)).reduce((l,a)=>ae(l)?l:l[a],s);return G(n)||n===s?G(s[r])?t:s[r]:n},ce=s=>typeof s=="boolean",Z=(s,r,t)=>{let n=-1;const l=es(r)?[r]:bs(r),a=l.length,d=a-1;for(;++n<a;){const u=l[n];let w=t;if(n!==d){const R=s[u];w=ee(R)||Array.isArray(R)?R:isNaN(+l[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;s[u]=w,s=s[u]}};const Ye={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},me={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ve={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rt=T.createContext(null);rt.displayName="HookFormContext";const js=()=>T.useContext(rt);var nt=(s,r,t,n=!0)=>{const l={defaultValues:r._defaultValues};for(const a in s)Object.defineProperty(l,a,{get:()=>{const d=a;return r._proxyFormState[d]!==me.all&&(r._proxyFormState[d]=!n||me.all),t&&(t[d]=!0),s[d]}});return l};const vs=typeof window<"u"?T.useLayoutEffect:T.useEffect;function Bt(s){const r=js(),{control:t=r.control,disabled:n,name:l,exact:a}=s||{},[d,u]=T.useState(t._formState),w=T.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vs(()=>t._subscribe({name:l,formState:w.current,exact:a,callback:R=>{!n&&u({...t._formState,...R})}}),[l,n,a]),T.useEffect(()=>{w.current.isValid&&t._setValid(!0)},[t]),T.useMemo(()=>nt(d,t,w.current,!1),[d,t])}var ue=s=>typeof s=="string",ls=(s,r,t,n,l)=>ue(s)?(n&&r.watch.add(s),y(t,s,l)):Array.isArray(s)?s.map(a=>(n&&r.watch.add(a),y(t,a))):(n&&(r.watchAll=!0),t),cs=s=>ae(s)||!et(s);function ye(s,r,t=new WeakSet){if(cs(s)||cs(r))return s===r;if(Fe(s)&&Fe(r))return s.getTime()===r.getTime();const n=Object.keys(s),l=Object.keys(r);if(n.length!==l.length)return!1;if(t.has(s)||t.has(r))return!0;t.add(s),t.add(r);for(const a of n){const d=s[a];if(!l.includes(a))return!1;if(a!=="ref"){const u=r[a];if(Fe(d)&&Fe(u)||ee(d)&&ee(u)||Array.isArray(d)&&Array.isArray(u)?!ye(d,u,t):d!==u)return!1}}return!0}function Zt(s){const r=js(),{control:t=r.control,name:n,defaultValue:l,disabled:a,exact:d,compute:u}=s||{},w=T.useRef(l),R=T.useRef(u),_=T.useRef(void 0),x=T.useRef(t),S=T.useRef(n);R.current=u;const[q,j]=T.useState(()=>{const O=t._getWatch(n,w.current);return R.current?R.current(O):O}),F=T.useCallback(O=>{const N=ls(n,t._names,O||t._formValues,!1,w.current);return R.current?R.current(N):N},[t._formValues,t._names,n]),P=T.useCallback(O=>{if(!a){const N=ls(n,t._names,O||t._formValues,!1,w.current);if(R.current){const Y=R.current(N);ye(Y,_.current)||(j(Y),_.current=Y)}else j(N)}},[t._formValues,t._names,a,n]);vs(()=>((x.current!==t||!ye(S.current,n))&&(x.current=t,S.current=n,P()),t._subscribe({name:n,formState:{values:!0},exact:d,callback:O=>{P(O.values)}})),[t,d,n,P]),T.useEffect(()=>t._removeUnmounted());const W=x.current!==t,C=S.current,k=T.useMemo(()=>{if(a)return null;const O=!W&&!ye(C,n);return W||O?F():null},[a,W,n,C,F]);return k!==null?k:q}function qt(s){const r=js(),{name:t,disabled:n,control:l=r.control,shouldUnregister:a,defaultValue:d}=s,u=tt(l._names.array,t),w=T.useMemo(()=>y(l._formValues,t,y(l._defaultValues,t,d)),[l,t,d]),R=Zt({control:l,name:t,defaultValue:w,exact:!0}),_=Bt({control:l,name:t,exact:!0}),x=T.useRef(s),S=T.useRef(void 0),q=T.useRef(l.register(t,{...s.rules,value:R,...ce(s.disabled)?{disabled:s.disabled}:{}}));x.current=s;const j=T.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(_.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(_.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(_.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(_.validatingFields,t)},error:{enumerable:!0,get:()=>y(_.errors,t)}}),[_,t]),F=T.useCallback(k=>q.current.onChange({target:{value:st(k),name:t},type:Ye.CHANGE}),[t]),P=T.useCallback(()=>q.current.onBlur({target:{value:y(l._formValues,t),name:t},type:Ye.BLUR}),[t,l._formValues]),W=T.useCallback(k=>{const O=y(l._fields,t);O&&k&&(O._f.ref={focus:()=>k.focus&&k.focus(),select:()=>k.select&&k.select(),setCustomValidity:N=>k.setCustomValidity(N),reportValidity:()=>k.reportValidity()})},[l._fields,t]),C=T.useMemo(()=>({name:t,value:R,...ce(n)||_.disabled?{disabled:_.disabled||n}:{},onChange:F,onBlur:P,ref:W}),[t,n,_.disabled,F,P,W,R]);return T.useEffect(()=>{const k=l._options.shouldUnregister||a,O=S.current;O&&O!==t&&!u&&l.unregister(O),l.register(t,{...x.current.rules,...ce(x.current.disabled)?{disabled:x.current.disabled}:{}});const N=(Y,Q)=>{const b=y(l._fields,Y);b&&b._f&&(b._f.mount=Q)};if(N(t,!0),k){const Y=se(y(l._options.defaultValues,t,x.current.defaultValue));Z(l._defaultValues,t,Y),G(y(l._formValues,t))&&Z(l._formValues,t,Y)}return!u&&l.register(t),S.current=t,()=>{(u?k&&!l._state.action:k)?l.unregister(t):N(t,!1)}},[t,l,u,a]),T.useEffect(()=>{l._setDisabledField({disabled:n,name:t})},[n,t,l]),T.useMemo(()=>({field:C,formState:_,fieldState:j}),[C,_,j])}const $=s=>s.render(qt(s));var Xt=(s,r,t,n,l)=>r?{...t[s],types:{...t[s]&&t[s].types?t[s].types:{},[n]:l||!0}}:{},Ue=s=>Array.isArray(s)?s:[s],Ts=()=>{let s=[];return{get observers(){return s},next:l=>{for(const a of s)a.next&&a.next(l)},subscribe:l=>(s.push(l),{unsubscribe:()=>{s=s.filter(a=>a!==l)}}),unsubscribe:()=>{s=[]}}};function it(s,r){const t={};for(const n in s)if(s.hasOwnProperty(n)){const l=s[n],a=r[n];if(l&&ee(l)&&a){const d=it(l,a);ee(d)&&(t[n]=d)}else s[n]&&(t[n]=a)}return t}var ne=s=>ee(s)&&!Object.keys(s).length,ws=s=>s.type==="file",pe=s=>typeof s=="function",Qe=s=>{if(!ys)return!1;const r=s?s.ownerDocument:0;return s instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},at=s=>s.type==="select-multiple",Ss=s=>s.type==="radio",Ht=s=>Ss(s)||Be(s),os=s=>Qe(s)&&s.isConnected;function Gt(s,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)s=G(s)?n++:s[r[n++]];return s}function Yt(s){for(const r in s)if(s.hasOwnProperty(r)&&!G(s[r]))return!1;return!0}function J(s,r){const t=Array.isArray(r)?r:es(r)?[r]:bs(r),n=t.length===1?s:Gt(s,t),l=t.length-1,a=t[l];return n&&delete n[a],l!==0&&(ee(n)&&ne(n)||Array.isArray(n)&&Yt(n))&&J(s,t.slice(0,-1)),s}var Qt=s=>{for(const r in s)if(pe(s[r]))return!0;return!1};function ot(s){return Array.isArray(s)||ee(s)&&!Qt(s)}function ds(s,r={}){for(const t in s)ot(s[t])?(r[t]=Array.isArray(s[t])?[]:{},ds(s[t],r[t])):G(s[t])||(r[t]=!0);return r}function ze(s,r,t){t||(t=ds(r));for(const n in s)ot(s[n])?G(r)||cs(t[n])?t[n]=ds(s[n],Array.isArray(s[n])?[]:{}):ze(s[n],ae(r)?{}:r[n],t[n]):t[n]=!ye(s[n],r[n]);return t}const Ws={value:!1,isValid:!1},Ns={value:!0,isValid:!0};var lt=s=>{if(Array.isArray(s)){if(s.length>1){const r=s.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!G(s[0].attributes.value)?G(s[0].value)||s[0].value===""?Ns:{value:s[0].value,isValid:!0}:Ns:Ws}return Ws},ct=(s,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>G(s)?s:r?s===""?NaN:s&&+s:t&&ue(s)?new Date(s):n?n(s):s;const Rs={isValid:!1,value:null};var dt=s=>Array.isArray(s)?s.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Rs):Rs;function Ps(s){const r=s.ref;return ws(r)?r.files:Ss(r)?dt(s.refs).value:at(r)?[...r.selectedOptions].map(({value:t})=>t):Be(r)?lt(s.refs).value:ct(G(r.value)?s.ref.value:r.value,s)}var Kt=(s,r,t,n)=>{const l={};for(const a of s){const d=y(r,a);d&&Z(l,a,d._f)}return{criteriaMode:t,names:[...s],fields:l,shouldUseNativeValidation:n}},Ke=s=>s instanceof RegExp,Re=s=>G(s)?s:Ke(s)?s.source:ee(s)?Ke(s.value)?s.value.source:s.value:s,Os=s=>({isOnSubmit:!s||s===me.onSubmit,isOnBlur:s===me.onBlur,isOnChange:s===me.onChange,isOnAll:s===me.all,isOnTouch:s===me.onTouched});const Ls="AsyncFunction";var Jt=s=>!!s&&!!s.validate&&!!(pe(s.validate)&&s.validate.constructor.name===Ls||ee(s.validate)&&Object.values(s.validate).find(r=>r.constructor.name===Ls)),er=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),Us=(s,r,t)=>!t&&(r.watchAll||r.watch.has(s)||[...r.watch].some(n=>s.startsWith(n)&&/^\.\w+/.test(s.slice(n.length))));const $e=(s,r,t,n)=>{for(const l of t||Object.keys(s)){const a=y(s,l);if(a){const{_f:d,...u}=a;if(d){if(d.refs&&d.refs[0]&&r(d.refs[0],l)&&!n)return!0;if(d.ref&&r(d.ref,d.name)&&!n)return!0;if($e(u,r))break}else if(ee(u)&&$e(u,r))break}}};function $s(s,r,t){const n=y(s,t);if(n||es(t))return{error:n,name:t};const l=t.split(".");for(;l.length;){const a=l.join("."),d=y(r,a),u=y(s,a);if(d&&!Array.isArray(d)&&t!==a)return{name:t};if(u&&u.type)return{name:a,error:u};if(u&&u.root&&u.root.type)return{name:`${a}.root`,error:u.root};l.pop()}return{name:t}}var sr=(s,r,t,n)=>{t(s);const{name:l,...a}=s;return ne(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(d=>r[d]===(!n||me.all))},tr=(s,r,t)=>!s||!r||s===r||Ue(s).some(n=>n&&(t?n===r:n.startsWith(r)||r.startsWith(n))),rr=(s,r,t,n,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||s):(t?n.isOnBlur:l.isOnBlur)?!s:(t?n.isOnChange:l.isOnChange)?s:!0,nr=(s,r)=>!ps(y(s,r)).length&&J(s,r),ir=(s,r,t)=>{const n=Ue(y(s,t));return Z(n,"root",r[t]),Z(s,t,n),s};function Bs(s,r,t="validate"){if(ue(s)||Array.isArray(s)&&s.every(ue)||ce(s)&&!s)return{type:t,message:ue(s)?s:"",ref:r}}var De=s=>ee(s)&&!Ke(s)?s:{value:s,message:""},Zs=async(s,r,t,n,l,a)=>{const{ref:d,refs:u,required:w,maxLength:R,minLength:_,min:x,max:S,pattern:q,validate:j,name:F,valueAsNumber:P,mount:W}=s._f,C=y(t,F);if(!W||r.has(F))return{};const k=u?u[0]:d,O=E=>{l&&k.reportValidity&&(k.setCustomValidity(ce(E)?"":E||""),k.reportValidity())},N={},Y=Ss(d),Q=Be(d),b=Y||Q,I=(P||ws(d))&&G(d.value)&&G(C)||Qe(d)&&d.value===""||C===""||Array.isArray(C)&&!C.length,m=Xt.bind(null,F,n,N),V=(E,L,X,te=ve.maxLength,re=ve.minLength)=>{const fe=E?L:X;N[F]={type:E?te:re,message:fe,ref:d,...m(E?te:re,fe)}};if(a?!Array.isArray(C)||!C.length:w&&(!b&&(I||ae(C))||ce(C)&&!C||Q&&!lt(u).isValid||Y&&!dt(u).isValid)){const{value:E,message:L}=ue(w)?{value:!!w,message:w}:De(w);if(E&&(N[F]={type:ve.required,message:L,ref:k,...m(ve.required,L)},!n))return O(L),N}if(!I&&(!ae(x)||!ae(S))){let E,L;const X=De(S),te=De(x);if(!ae(C)&&!isNaN(C)){const re=d.valueAsNumber||C&&+C;ae(X.value)||(E=re>X.value),ae(te.value)||(L=re<te.value)}else{const re=d.valueAsDate||new Date(C),fe=Me=>new Date(new Date().toDateString()+" "+Me),Ve=d.type=="time",we=d.type=="week";ue(X.value)&&C&&(E=Ve?fe(C)>fe(X.value):we?C>X.value:re>new Date(X.value)),ue(te.value)&&C&&(L=Ve?fe(C)<fe(te.value):we?C<te.value:re<new Date(te.value))}if((E||L)&&(V(!!E,X.message,te.message,ve.max,ve.min),!n))return O(N[F].message),N}if((R||_)&&!I&&(ue(C)||a&&Array.isArray(C))){const E=De(R),L=De(_),X=!ae(E.value)&&C.length>+E.value,te=!ae(L.value)&&C.length<+L.value;if((X||te)&&(V(X,E.message,L.message),!n))return O(N[F].message),N}if(q&&!I&&ue(C)){const{value:E,message:L}=De(q);if(Ke(E)&&!C.match(E)&&(N[F]={type:ve.pattern,message:L,ref:d,...m(ve.pattern,L)},!n))return O(L),N}if(j){if(pe(j)){const E=await j(C,t),L=Bs(E,k);if(L&&(N[F]={...L,...m(ve.validate,L.message)},!n))return O(L.message),N}else if(ee(j)){let E={};for(const L in j){if(!ne(E)&&!n)break;const X=Bs(await j[L](C,t),k,L);X&&(E={...X,...m(L,X.message)},O(X.message),n&&(N[F]=E))}if(!ne(E)&&(N[F]={ref:k,...E},!n))return N}}return O(!0),N};const ar={mode:me.onSubmit,reValidateMode:me.onChange,shouldFocusError:!0};function or(s={}){let r={...ar,...s},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:pe(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},l=ee(r.defaultValues)||ee(r.values)?se(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:se(l),d={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},w,R=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={..._};const S={array:Ts(),state:Ts()},q=r.criteriaMode===me.all,j=i=>o=>{clearTimeout(R),R=setTimeout(i,o)},F=async i=>{if(!r.disabled&&(_.isValid||x.isValid||i)){const o=r.resolver?ne((await Q()).errors):await I(n,!0);o!==t.isValid&&S.state.next({isValid:o})}},P=(i,o)=>{!r.disabled&&(_.isValidating||_.validatingFields||x.isValidating||x.validatingFields)&&((i||Array.from(u.mount)).forEach(c=>{c&&(o?Z(t.validatingFields,c,o):J(t.validatingFields,c))}),S.state.next({validatingFields:t.validatingFields,isValidating:!ne(t.validatingFields)}))},W=(i,o=[],c,p,g=!0,h=!0)=>{if(p&&c&&!r.disabled){if(d.action=!0,h&&Array.isArray(y(n,i))){const A=c(y(n,i),p.argA,p.argB);g&&Z(n,i,A)}if(h&&Array.isArray(y(t.errors,i))){const A=c(y(t.errors,i),p.argA,p.argB);g&&Z(t.errors,i,A),nr(t.errors,i)}if((_.touchedFields||x.touchedFields)&&h&&Array.isArray(y(t.touchedFields,i))){const A=c(y(t.touchedFields,i),p.argA,p.argB);g&&Z(t.touchedFields,i,A)}(_.dirtyFields||x.dirtyFields)&&(t.dirtyFields=ze(l,a)),S.state.next({name:i,isDirty:V(i,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Z(a,i,o)},C=(i,o)=>{Z(t.errors,i,o),S.state.next({errors:t.errors})},k=i=>{t.errors=i,S.state.next({errors:t.errors,isValid:!1})},O=(i,o,c,p)=>{const g=y(n,i);if(g){const h=y(a,i,G(c)?y(l,i):c);G(h)||p&&p.defaultChecked||o?Z(a,i,o?h:Ps(g._f)):X(i,h),d.mount&&F()}},N=(i,o,c,p,g)=>{let h=!1,A=!1;const U={name:i};if(!r.disabled){if(!c||p){(_.isDirty||x.isDirty)&&(A=t.isDirty,t.isDirty=U.isDirty=V(),h=A!==U.isDirty);const B=ye(y(l,i),o);A=!!y(t.dirtyFields,i),B?J(t.dirtyFields,i):Z(t.dirtyFields,i,!0),U.dirtyFields=t.dirtyFields,h=h||(_.dirtyFields||x.dirtyFields)&&A!==!B}if(c){const B=y(t.touchedFields,i);B||(Z(t.touchedFields,i,c),U.touchedFields=t.touchedFields,h=h||(_.touchedFields||x.touchedFields)&&B!==c)}h&&g&&S.state.next(U)}return h?U:{}},Y=(i,o,c,p)=>{const g=y(t.errors,i),h=(_.isValid||x.isValid)&&ce(o)&&t.isValid!==o;if(r.delayError&&c?(w=j(()=>C(i,c)),w(r.delayError)):(clearTimeout(R),w=null,c?Z(t.errors,i,c):J(t.errors,i)),(c?!ye(g,c):g)||!ne(p)||h){const A={...p,...h&&ce(o)?{isValid:o}:{},errors:t.errors,name:i};t={...t,...A},S.state.next(A)}},Q=async i=>{P(i,!0);const o=await r.resolver(a,r.context,Kt(i||u.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return P(i),o},b=async i=>{const{errors:o}=await Q(i);if(i)for(const c of i){const p=y(o,c);p?Z(t.errors,c,p):J(t.errors,c)}else t.errors=o;return o},I=async(i,o,c={valid:!0})=>{for(const p in i){const g=i[p];if(g){const{_f:h,...A}=g;if(h){const U=u.array.has(h.name),B=g._f&&Jt(g._f);B&&_.validatingFields&&P([h.name],!0);const he=await Zs(g,u.disabled,a,q,r.shouldUseNativeValidation&&!o,U);if(B&&_.validatingFields&&P([h.name]),he[h.name]&&(c.valid=!1,o))break;!o&&(y(he,h.name)?U?ir(t.errors,he,h.name):Z(t.errors,h.name,he[h.name]):J(t.errors,h.name))}!ne(A)&&await I(A,o,c)}}return c.valid},m=()=>{for(const i of u.unMount){const o=y(n,i);o&&(o._f.refs?o._f.refs.every(c=>!os(c)):!os(o._f.ref))&&ss(i)}u.unMount=new Set},V=(i,o)=>!r.disabled&&(i&&o&&Z(a,i,o),!ye(Me(),l)),E=(i,o,c)=>ls(i,u,{...d.mount?a:G(o)?l:ue(i)?{[i]:o}:o},c,o),L=i=>ps(y(d.mount?a:l,i,r.shouldUnregister?y(l,i,[]):[])),X=(i,o,c={})=>{const p=y(n,i);let g=o;if(p){const h=p._f;h&&(!h.disabled&&Z(a,i,ct(o,h)),g=Qe(h.ref)&&ae(o)?"":o,at(h.ref)?[...h.ref.options].forEach(A=>A.selected=g.includes(A.value)):h.refs?Be(h.ref)?h.refs.forEach(A=>{(!A.defaultChecked||!A.disabled)&&(Array.isArray(g)?A.checked=!!g.find(U=>U===A.value):A.checked=g===A.value||!!g)}):h.refs.forEach(A=>A.checked=A.value===g):ws(h.ref)?h.ref.value="":(h.ref.value=g,h.ref.type||S.state.next({name:i,values:se(a)})))}(c.shouldDirty||c.shouldTouch)&&N(i,g,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&we(i)},te=(i,o,c)=>{for(const p in o){if(!o.hasOwnProperty(p))return;const g=o[p],h=i+"."+p,A=y(n,h);(u.array.has(i)||ee(g)||A&&!A._f)&&!Fe(g)?te(h,g,c):X(h,g,c)}},re=(i,o,c={})=>{const p=y(n,i),g=u.array.has(i),h=se(o);Z(a,i,h),g?(S.array.next({name:i,values:se(a)}),(_.isDirty||_.dirtyFields||x.isDirty||x.dirtyFields)&&c.shouldDirty&&S.state.next({name:i,dirtyFields:ze(l,a),isDirty:V(i,h)})):p&&!p._f&&!ae(h)?te(i,h,c):X(i,h,c),Us(i,u)&&S.state.next({...t,name:i}),S.state.next({name:d.mount?i:void 0,values:se(a)})},fe=async i=>{d.mount=!0;const o=i.target;let c=o.name,p=!0;const g=y(n,c),h=B=>{p=Number.isNaN(B)||Fe(B)&&isNaN(B.getTime())||ye(B,y(a,c,B))},A=Os(r.mode),U=Os(r.reValidateMode);if(g){let B,he;const Xe=o.type?Ps(g._f):st(i),Ce=i.type===Ye.BLUR||i.type===Ye.FOCUS_OUT,yt=!er(g._f)&&!r.resolver&&!y(t.errors,c)&&!g._f.deps||rr(Ce,y(t.touchedFields,c),t.isSubmitted,U,A),ns=Us(c,u,Ce);Z(a,c,Xe),Ce?(!o||!o.readOnly)&&(g._f.onBlur&&g._f.onBlur(i),w&&w(0)):g._f.onChange&&g._f.onChange(i);const is=N(c,Xe,Ce),pt=!ne(is)||ns;if(!Ce&&S.state.next({name:c,type:i.type,values:se(a)}),yt)return(_.isValid||x.isValid)&&(r.mode==="onBlur"?Ce&&F():Ce||F()),pt&&S.state.next({name:c,...ns?{}:is});if(!Ce&&ns&&S.state.next({...t}),r.resolver){const{errors:Es}=await Q([c]);if(h(Xe),p){const bt=$s(t.errors,n,c),Fs=$s(Es,n,bt.name||c);B=Fs.error,c=Fs.name,he=ne(Es)}}else P([c],!0),B=(await Zs(g,u.disabled,a,q,r.shouldUseNativeValidation))[c],P([c]),h(Xe),p&&(B?he=!1:(_.isValid||x.isValid)&&(he=await I(n,!0)));p&&(g._f.deps&&(!Array.isArray(g._f.deps)||g._f.deps.length>0)&&we(g._f.deps),Y(c,he,B,is))}},Ve=(i,o)=>{if(y(t.errors,o)&&i.focus)return i.focus(),1},we=async(i,o={})=>{let c,p;const g=Ue(i);if(r.resolver){const h=await b(G(i)?i:g);c=ne(h),p=i?!g.some(A=>y(h,A)):c}else i?(p=(await Promise.all(g.map(async h=>{const A=y(n,h);return await I(A&&A._f?{[h]:A}:A)}))).every(Boolean),!(!p&&!t.isValid)&&F()):p=c=await I(n);return S.state.next({...!ue(i)||(_.isValid||x.isValid)&&c!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:c}:{},errors:t.errors}),o.shouldFocus&&!p&&$e(n,Ve,i?g:u.mount),p},Me=(i,o)=>{let c={...d.mount?a:l};return o&&(c=it(o.dirtyFields?t.dirtyFields:t.touchedFields,c)),G(i)?c:ue(i)?y(c,i):i.map(p=>y(c,p))},Ze=(i,o)=>({invalid:!!y((o||t).errors,i),isDirty:!!y((o||t).dirtyFields,i),error:y((o||t).errors,i),isValidating:!!y(t.validatingFields,i),isTouched:!!y((o||t).touchedFields,i)}),v=i=>{i&&Ue(i).forEach(o=>J(t.errors,o)),S.state.next({errors:i?t.errors:{}})},K=(i,o,c)=>{const p=(y(n,i,{_f:{}})._f||{}).ref,g=y(t.errors,i)||{},{ref:h,message:A,type:U,...B}=g;Z(t.errors,i,{...B,...o,ref:p}),S.state.next({name:i,errors:t.errors,isValid:!1}),c&&c.shouldFocus&&p&&p.focus&&p.focus()},H=(i,o)=>pe(i)?S.state.subscribe({next:c=>"values"in c&&i(E(void 0,o),c)}):E(i,o,!0),Se=i=>S.state.subscribe({next:o=>{tr(i.name,o.name,i.exact)&&sr(o,i.formState||_,mt,i.reRenderRoot)&&i.callback({values:{...a},...t,...o,defaultValues:l})}}).unsubscribe,qe=i=>(d.mount=!0,x={...x,...i.formState},Se({...i,formState:x})),ss=(i,o={})=>{for(const c of i?Ue(i):u.mount)u.mount.delete(c),u.array.delete(c),o.keepValue||(J(n,c),J(a,c)),!o.keepError&&J(t.errors,c),!o.keepDirty&&J(t.dirtyFields,c),!o.keepTouched&&J(t.touchedFields,c),!o.keepIsValidating&&J(t.validatingFields,c),!r.shouldUnregister&&!o.keepDefaultValue&&J(l,c);S.state.next({values:se(a)}),S.state.next({...t,...o.keepDirty?{isDirty:V()}:{}}),!o.keepIsValid&&F()},Cs=({disabled:i,name:o})=>{(ce(i)&&d.mount||i||u.disabled.has(o))&&(i?u.disabled.add(o):u.disabled.delete(o))},ts=(i,o={})=>{let c=y(n,i);const p=ce(o.disabled)||ce(r.disabled);return Z(n,i,{...c||{},_f:{...c&&c._f?c._f:{ref:{name:i}},name:i,mount:!0,...o}}),u.mount.add(i),c?Cs({disabled:ce(o.disabled)?o.disabled:r.disabled,name:i}):O(i,!0,o.value),{...p?{disabled:o.disabled||r.disabled}:{},...r.progressive?{required:!!o.required,min:Re(o.min),max:Re(o.max),minLength:Re(o.minLength),maxLength:Re(o.maxLength),pattern:Re(o.pattern)}:{},name:i,onChange:fe,onBlur:fe,ref:g=>{if(g){ts(i,o),c=y(n,i);const h=G(g.value)&&g.querySelectorAll&&g.querySelectorAll("input,select,textarea")[0]||g,A=Ht(h),U=c._f.refs||[];if(A?U.find(B=>B===h):h===c._f.ref)return;Z(n,i,{_f:{...c._f,...A?{refs:[...U.filter(os),h,...Array.isArray(y(l,i))?[{}]:[]],ref:{type:h.type,name:i}}:{ref:h}}}),O(i,!1,void 0,h)}else c=y(n,i,{}),c._f&&(c._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(tt(u.array,i)&&d.action)&&u.unMount.add(i)}}},rs=()=>r.shouldFocusError&&$e(n,Ve,u.mount),ht=i=>{ce(i)&&(S.state.next({disabled:i}),$e(n,(o,c)=>{const p=y(n,c);p&&(o.disabled=p._f.disabled||i,Array.isArray(p._f.refs)&&p._f.refs.forEach(g=>{g.disabled=p._f.disabled||i}))},0,!1))},Vs=(i,o)=>async c=>{let p;c&&(c.preventDefault&&c.preventDefault(),c.persist&&c.persist());let g=se(a);if(S.state.next({isSubmitting:!0}),r.resolver){const{errors:h,values:A}=await Q();t.errors=h,g=se(A)}else await I(n);if(u.disabled.size)for(const h of u.disabled)J(g,h);if(J(t.errors,"root"),ne(t.errors)){S.state.next({errors:{}});try{await i(g,c)}catch(h){p=h}}else o&&await o({...t.errors},c),rs(),setTimeout(rs);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ne(t.errors)&&!p,submitCount:t.submitCount+1,errors:t.errors}),p)throw p},xt=(i,o={})=>{y(n,i)&&(G(o.defaultValue)?re(i,se(y(l,i))):(re(i,o.defaultValue),Z(l,i,se(o.defaultValue))),o.keepTouched||J(t.touchedFields,i),o.keepDirty||(J(t.dirtyFields,i),t.isDirty=o.defaultValue?V(i,se(y(l,i))):V()),o.keepError||(J(t.errors,i),_.isValid&&F()),S.state.next({...t}))},As=(i,o={})=>{const c=i?se(i):l,p=se(c),g=ne(i),h=g?l:p;if(o.keepDefaultValues||(l=c),!o.keepValues){if(o.keepDirtyValues){const A=new Set([...u.mount,...Object.keys(ze(l,a))]);for(const U of Array.from(A))y(t.dirtyFields,U)?Z(h,U,y(a,U)):re(U,y(h,U))}else{if(ys&&G(i))for(const A of u.mount){const U=y(n,A);if(U&&U._f){const B=Array.isArray(U._f.refs)?U._f.refs[0]:U._f.ref;if(Qe(B)){const he=B.closest("form");if(he){he.reset();break}}}}if(o.keepFieldsRef)for(const A of u.mount)re(A,y(h,A));else n={}}a=r.shouldUnregister?o.keepDefaultValues?se(l):{}:se(h),S.array.next({values:{...h}}),S.state.next({values:{...h}})}u={mount:o.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!_.isValid||!!o.keepIsValid||!!o.keepDirtyValues||!r.shouldUnregister&&!ne(h),d.watch=!!r.shouldUnregister,S.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:g?!1:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!ye(i,l)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:g?{}:o.keepDirtyValues?o.keepDefaultValues&&a?ze(l,a):t.dirtyFields:o.keepDefaultValues&&i?ze(l,i):o.keepDirty?t.dirtyFields:{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},_s=(i,o)=>As(pe(i)?i(a):i,o),gt=(i,o={})=>{const c=y(n,i),p=c&&c._f;if(p){const g=p.refs?p.refs[0]:p.ref;g.focus&&(g.focus(),o.shouldSelect&&pe(g.select)&&g.select())}},mt=i=>{t={...t,...i}},ks={control:{register:ts,unregister:ss,getFieldState:Ze,handleSubmit:Vs,setError:K,_subscribe:Se,_runSchema:Q,_focusError:rs,_getWatch:E,_getDirty:V,_setValid:F,_setFieldArray:W,_setDisabledField:Cs,_setErrors:k,_getFieldArray:L,_reset:As,_resetDefaultValues:()=>pe(r.defaultValues)&&r.defaultValues().then(i=>{_s(i,r.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:m,_disableForm:ht,_subjects:S,_proxyFormState:_,get _fields(){return n},get _formValues(){return a},get _state(){return d},set _state(i){d=i},get _defaultValues(){return l},get _names(){return u},set _names(i){u=i},get _formState(){return t},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:qe,trigger:we,register:ts,handleSubmit:Vs,watch:H,setValue:re,getValues:Me,reset:_s,resetField:xt,clearErrors:v,unregister:ss,setError:K,setFocus:gt,getFieldState:Ze};return{...ks,formControl:ks}}function ut(s={}){const r=T.useRef(void 0),t=T.useRef(void 0),[n,l]=T.useState({isDirty:!1,isValidating:!1,isLoading:pe(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:pe(s.defaultValues)?void 0:s.defaultValues});if(!r.current)if(s.formControl)r.current={...s.formControl,formState:n},s.defaultValues&&!pe(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:d,...u}=or(s);r.current={...u,formState:n}}const a=r.current.control;return a._options=s,vs(()=>{const d=a._subscribe({formState:a._proxyFormState,callback:()=>l({...a._formState}),reRenderRoot:!0});return l(u=>({...u,isReady:!0})),a._formState.isReady=!0,d},[a]),T.useEffect(()=>a._disableForm(s.disabled),[a,s.disabled]),T.useEffect(()=>{s.mode&&(a._options.mode=s.mode),s.reValidateMode&&(a._options.reValidateMode=s.reValidateMode)},[a,s.mode,s.reValidateMode]),T.useEffect(()=>{s.errors&&(a._setErrors(s.errors),a._focusError())},[a,s.errors]),T.useEffect(()=>{s.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,s.shouldUnregister]),T.useEffect(()=>{if(a._proxyFormState.isDirty){const d=a._getDirty();d!==n.isDirty&&a._subjects.state.next({isDirty:d})}},[a,n.isDirty]),T.useEffect(()=>{s.values&&!ye(s.values,t.current)?(a._reset(s.values,{keepFieldsRef:!0,...a._options.resetOptions}),t.current=s.values,l(d=>({...d}))):a._resetDefaultValues()},[a,s.values]),T.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),r.current.formState=nt(n,a),r.current}const qs=["‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø","‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤","‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶®"],lr=({open:s,onClose:r,onSuccess:t})=>{const[n,l]=z.useState(0),[a,d]=z.useState(void 0),[u,w]=z.useState(!1),[R,_]=z.useState([]),{control:x,handleSubmit:S,watch:q,reset:j,setValue:F,getValues:P,formState:{errors:W}}=ut({defaultValues:{firstName:"",lastName:"",phone:"",email:"",password:"",cityCorporationCode:"",zoneIds:[],permissions:{zones:[],categories:[],features:{viewOnlyMode:!1,chat:!0,customerProfile:!0,reviews:!0,messaging:!0,complaintManagement:!0,complaintApproval:!0,adminManagement:!0,reports:"download"}}},shouldUnregister:!1}),C=q("cityCorporationCode");z.useEffect(()=>{s&&(async()=>{try{const I=await Qs.getCityCorporations();_(I.cityCorporations||[])}catch(I){console.error("Error loading city corporations:",I)}})()},[s]);const k=()=>{l(b=>b+1)},O=()=>{l(b=>b-1)},N=()=>{l(0),j(),d(void 0),r()},Y=async b=>{var I,m;console.log("üöÄ Final Form Data (onSubmit arg):",b),console.log("üßê getValues() result:",P()),console.log("‚ùå Form Errors:",W),b.firstName||console.error("CRITICAL: firstName is missing in data object!"),w(!0);try{const V={firstName:b.firstName,lastName:b.lastName,phone:b.phone,email:b.email||void 0,password:b.password,cityCorporationCode:b.cityCorporationCode||void 0,zoneId:void 0,permissions:b.permissions},E=await je.createSuperAdmin(V);b.zoneIds&&b.zoneIds.length>0&&await je.assignZones(E.id,b.zoneIds),ge.success("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"),N(),t()}catch(V){console.error("Error creating super admin:",V),ge.error(((m=(I=V.response)==null?void 0:I.data)==null?void 0:m.message)||"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{w(!1)}},Q=()=>e.jsxs(e.Fragment,{children:[e.jsx(M,{sx:{display:n===0?"block":"none"},children:e.jsxs(D,{spacing:2,children:[e.jsx(D,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:e.jsx(Ks,{currentAvatar:a,onUpload:async b=>d(b),size:80,initials:"?"})}),e.jsx($,{name:"firstName",control:x,rules:{required:"‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï"},render:({field:b})=>{var I;return e.jsx(de,{...b,label:"‡¶®‡¶æ‡¶Æ *",placeholder:"‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!W.firstName,helperText:(I=W.firstName)==null?void 0:I.message,fullWidth:!0})}}),e.jsx($,{name:"lastName",control:x,rules:{required:"‡¶™‡¶¶‡¶¨‡ßÄ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï"},render:({field:b})=>{var I;return e.jsx(de,{...b,label:"‡¶™‡¶¶‡¶¨‡ßÄ *",placeholder:"‡¶™‡¶¶‡¶¨‡ßÄ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!W.lastName,helperText:(I=W.lastName)==null?void 0:I.message,fullWidth:!0})}}),e.jsx($,{name:"phone",control:x,rules:{required:"‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï",pattern:{value:/^01[0-9]{9}$/,message:"‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶® (‡ßß‡ßß ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü)"}},render:({field:b})=>{var I;return e.jsx(de,{...b,label:"‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ *",placeholder:"01XXXXXXXXX",error:!!W.phone,helperText:(I=W.phone)==null?void 0:I.message,fullWidth:!0})}}),e.jsx($,{name:"email",control:x,rules:{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¶‡¶ø‡¶®"}},render:({field:b})=>{var I;return e.jsx(de,{...b,label:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤",placeholder:"email@example.com",error:!!W.email,helperText:(I=W.email)==null?void 0:I.message,fullWidth:!0})}}),e.jsx($,{name:"password",control:x,rules:{required:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï",minLength:{value:8,message:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ßÆ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá"}},render:({field:b})=>{var I;return e.jsx(de,{...b,type:"password",label:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° *",placeholder:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!W.password,helperText:(I=W.password)==null?void 0:I.message,fullWidth:!0})}})]})}),e.jsx(M,{sx:{display:n===1?"block":"none"},children:e.jsxs(D,{spacing:2,children:[e.jsx($,{name:"cityCorporationCode",control:x,rules:{required:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"},render:({field:b})=>e.jsxs(Pe,{fullWidth:!0,error:!!W.cityCorporationCode,children:[e.jsx(Oe,{children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® *"}),e.jsx(Le,{...b,label:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® *",children:R.map(I=>e.jsx(oe,{value:I.code,children:I.name},I.code))}),W.cityCorporationCode&&e.jsx(f,{variant:"caption",color:"error",sx:{mt:.5,ml:2},children:W.cityCorporationCode.message})]})}),e.jsx($,{name:"zoneIds",control:x,rules:{required:"‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ú‡ßã‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"},render:({field:b})=>{var I;return e.jsx(Js,{value:b.value,onChange:b.onChange,cityCorporationCode:C,label:"‡¶ú‡ßã‡¶® (‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá) *",error:!!W.zoneIds,helperText:(I=W.zoneIds)==null?void 0:I.message,disabled:!C||u})}}),e.jsxs(M,{sx:{bgcolor:"#fff3cd",p:2,borderRadius:1,border:"1px solid #ffc107"},children:[e.jsx(f,{variant:"body2",sx:{fontWeight:600,color:"#856404",mb:1},children:"‚ö†Ô∏è ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø:"}),e.jsxs(f,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ",e.jsx("strong",{children:"Zone"})," ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ø‡¶§‡ßç‡¶¨‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá"]}),e.jsxs(f,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ",e.jsx("strong",{children:"Ward"})," ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]}),e.jsxs(f,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ",e.jsx("strong",{children:"Admin"})," (Ward Inspector) ‡¶¶‡ßá‡¶∞ manage ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]}),e.jsxs(f,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ",e.jsx("strong",{children:"User"})," ‡¶è‡¶¨‡¶Ç ",e.jsx("strong",{children:"Complaint"})," ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]})]})]})}),e.jsx(M,{sx:{display:n===2?"block":"none"},children:e.jsxs(D,{spacing:2.5,children:[e.jsx(f,{variant:"subtitle2",sx:{fontWeight:600,color:"#1e2939"},children:"‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏"}),e.jsx(M,{sx:{bgcolor:"#f0f9ff",p:2,borderRadius:1,border:"1px solid #3b82f6"},children:e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(M,{children:[e.jsx(f,{sx:{fontWeight:600,color:"#1e40af"},children:"View Only Mode"}),e.jsx(f,{variant:"body2",sx:{color:"#64748b",fontSize:12},children:"‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá, ‡¶ï‡ßã‡¶®‡ßã action ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ"})]}),e.jsx($,{name:"permissions.features.viewOnlyMode",control:x,render:({field:b})=>e.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3b82f6"}}})})]})}),q("permissions.features.viewOnlyMode")&&e.jsxs(M,{sx:{bgcolor:"#fef3c7",p:2,borderRadius:1,border:"1px solid #f59e0b"},children:[e.jsx(f,{variant:"body2",sx:{fontWeight:600,color:"#92400e",mb:1},children:"‚ÑπÔ∏è View Only Mode ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶Ü‡¶õ‡ßá"}),e.jsx(f,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ User List ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),e.jsx(f,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ Admin List ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),e.jsx(f,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ Complaint ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),e.jsx(f,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ ‡¶ï‡ßã‡¶®‡ßã action ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ (edit, delete, approve ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø)"})]}),!q("permissions.features.viewOnlyMode")&&e.jsxs(D,{spacing:2,children:[e.jsx(f,{variant:"body2",sx:{fontWeight:600,color:"#64748b"},children:"Advanced Permissions"}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞"}),e.jsx($,{name:"permissions.features.chat",control:x,render:({field:b})=>e.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"}),e.jsx($,{name:"permissions.features.customerProfile",control:x,render:({field:b})=>e.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®"}),e.jsx($,{name:"permissions.features.reviews",control:x,render:({field:b})=>e.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°"}),e.jsx($,{name:"permissions.features.messaging",control:x,render:({field:b})=>e.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶è‡¶™‡ßç‡¶∞‡ßÅ‡¶≠‡¶æ‡¶≤ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏"}),e.jsx($,{name:"permissions.features.complaintApproval",control:x,render:({field:b})=>e.jsx(le,{checked:b.value,onChange:b.onChange,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]})]})]})})]});return e.jsxs(us,{open:s,onClose:N,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(fs,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(f,{sx:{fontWeight:700},children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx(Te,{onClick:N,disabled:u,children:e.jsx(hs,{})})]}),e.jsxs(xs,{dividers:!0,children:[e.jsx(Hs,{activeStep:n,sx:{mb:3},children:qs.map(b=>e.jsx(Gs,{children:e.jsx(Ys,{children:b})},b))}),Q()]}),e.jsxs(gs,{children:[e.jsx(be,{onClick:N,disabled:u,children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),n>0&&e.jsx(be,{onClick:O,disabled:u,children:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}),n<qs.length-1?e.jsx(be,{variant:"contained",onClick:k,sx:{bgcolor:"#3fa564"},children:"‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}):e.jsx(be,{variant:"contained",onClick:S(Y),disabled:u,sx:{bgcolor:"#3fa564"},children:u?"‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})},Xs=["‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø","‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤","‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶®"],cr=({open:s,onClose:r,onSuccess:t,superAdmin:n})=>{const[l,a]=z.useState(0),[d,u]=z.useState(void 0),[w,R]=z.useState(!1),[_,x]=z.useState([]),[S,q]=z.useState(!1),{control:j,handleSubmit:F,watch:P,reset:W,setValue:C,formState:{errors:k}}=ut({defaultValues:{firstName:"",lastName:"",phone:"",email:"",address:"",password:"",cityCorporationCode:"",zoneIds:[],status:xe.ACTIVE,role:"SUPER_ADMIN",permissions:{zones:[],categories:[],features:{viewOnlyMode:!1,chat:!0,customerProfile:!0,reviews:!0,messaging:!0,complaintManagement:!0,complaintApproval:!0,adminManagement:!0,reports:"download"}}}}),O=P("cityCorporationCode");z.useEffect(()=>{(async()=>{if(s&&n){C("firstName",n.firstName),C("lastName",n.lastName),C("phone",n.phone),C("email",n.email||""),C("address",n.address||""),C("cityCorporationCode",n.cityCorporationCode||""),C("status",n.status),C("role",n.role),u(n.avatar||void 0),n.permissions&&C("permissions",n.permissions);try{const V=await je.getAssignedZones(n.id);V&&V.length>0?C("zoneIds",V.map(E=>E.zoneId)):n.zoneId?C("zoneIds",[n.zoneId]):C("zoneIds",[])}catch(V){console.error("Error loading assigned zones:",V),n.zoneId&&C("zoneIds",[n.zoneId])}}})()},[s,n,C]),z.useEffect(()=>{s&&(async()=>{try{const V=await Qs.getCityCorporations();x(V.cityCorporations||[])}catch(V){console.error("Error loading city corporations:",V)}})()},[s]);const N=()=>{a(m=>m+1)},Y=()=>{a(m=>m-1)},Q=()=>{w||(a(0),q(!1),W(),u(void 0),r())},b=async m=>{var V,E;if(n){R(!0);try{const L={firstName:m.firstName,lastName:m.lastName,phone:m.phone,email:m.email||void 0,address:m.address||void 0,cityCorporationCode:m.cityCorporationCode||void 0,zoneId:void 0,status:m.status,permissions:m.permissions,avatar:d||void 0};S&&m.password&&(L.password=m.password),await je.updateSuperAdmin(n.id,L),m.zoneIds&&await je.updateZones(n.id,m.zoneIds),ge.success("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"),Q(),t()}catch(L){console.error("Error updating super admin:",L),ge.error(((E=(V=L.response)==null?void 0:V.data)==null?void 0:E.message)||"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{R(!1)}}},I=()=>{switch(l){case 0:return e.jsxs(D,{spacing:2,children:[e.jsx(D,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:e.jsx(Ks,{currentAvatar:d,onUpload:async m=>u(m),size:80,initials:n?`${n.firstName.charAt(0)}${n.lastName.charAt(0)}`:"?"})}),e.jsx($,{name:"firstName",control:j,rules:{required:"‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï"},render:({field:m})=>{var V;return e.jsx(de,{...m,label:"‡¶®‡¶æ‡¶Æ *",placeholder:"‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!k.firstName,helperText:(V=k.firstName)==null?void 0:V.message,disabled:w,fullWidth:!0})}}),e.jsx($,{name:"lastName",control:j,rules:{required:"‡¶™‡¶¶‡¶¨‡ßÄ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï"},render:({field:m})=>{var V;return e.jsx(de,{...m,label:"‡¶™‡¶¶‡¶¨‡ßÄ *",placeholder:"‡¶™‡¶¶‡¶¨‡ßÄ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!k.lastName,helperText:(V=k.lastName)==null?void 0:V.message,disabled:w,fullWidth:!0})}}),e.jsx($,{name:"phone",control:j,rules:{required:"‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï",pattern:{value:/^01[0-9]{9}$/,message:"‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶® (‡ßß‡ßß ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü)"}},render:({field:m})=>{var V;return e.jsx(de,{...m,label:"‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ *",placeholder:"01XXXXXXXXX",error:!!k.phone,helperText:(V=k.phone)==null?void 0:V.message,disabled:w,fullWidth:!0})}}),e.jsx($,{name:"email",control:j,rules:{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"‡¶∏‡¶†‡¶ø‡¶ï ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¶‡¶ø‡¶®"}},render:({field:m})=>{var V;return e.jsx(de,{...m,label:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤ (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)",placeholder:"email@example.com",error:!!k.email,helperText:(V=k.email)==null?void 0:V.message,disabled:w,fullWidth:!0})}}),e.jsx($,{name:"address",control:j,render:({field:m})=>e.jsx(de,{...m,label:"‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)",placeholder:"‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",disabled:w,fullWidth:!0,multiline:!0,rows:2})}),e.jsx($,{name:"status",control:j,render:({field:m})=>e.jsxs(Pe,{fullWidth:!0,disabled:w,children:[e.jsx(Oe,{children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ *"}),e.jsxs(Le,{...m,label:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ *",children:[e.jsx(oe,{value:xe.ACTIVE,children:"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º"}),e.jsx(oe,{value:xe.INACTIVE,children:"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º"}),e.jsx(oe,{value:xe.SUSPENDED,children:"‡¶∏‡ßç‡¶•‡¶ó‡¶ø‡¶§"})]})]})}),e.jsx($,{name:"role",control:j,render:({field:m})=>e.jsxs(Pe,{fullWidth:!0,disabled:w,children:[e.jsx(Oe,{children:"‡¶∞‡ßã‡¶≤"}),e.jsxs(Le,{...m,label:"‡¶∞‡ßã‡¶≤",children:[e.jsx(oe,{value:"ADMIN",children:"‡¶è‡¶°‡¶Æ‡¶ø‡¶® (Admin)"}),e.jsx(oe,{value:"SUPER_ADMIN",children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"}),e.jsx(oe,{value:"MASTER_ADMIN",children:"‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"})]})]})}),e.jsx(vt,{control:e.jsx(le,{checked:S,onChange:m=>q(m.target.checked),disabled:w}),label:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"}),S&&e.jsx($,{name:"password",control:j,rules:{required:S?"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï":!1,minLength:{value:8,message:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ßÆ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá"}},render:({field:m})=>{var V;return e.jsx(de,{...m,type:"password",label:"‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° *",placeholder:"‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...",error:!!k.password,helperText:(V=k.password)==null?void 0:V.message,disabled:w,fullWidth:!0})}})]});case 1:return e.jsxs(D,{spacing:2,children:[e.jsx($,{name:"cityCorporationCode",control:j,rules:{required:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"},render:({field:m})=>e.jsxs(Pe,{fullWidth:!0,error:!!k.cityCorporationCode,disabled:w,children:[e.jsx(Oe,{children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® *"}),e.jsx(Le,{...m,label:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶® *",children:_.map(V=>e.jsx(oe,{value:V.code,children:V.name},V.code))}),k.cityCorporationCode&&e.jsx(f,{variant:"caption",color:"error",sx:{mt:.5,ml:2},children:k.cityCorporationCode.message})]})}),e.jsx($,{name:"zoneIds",control:j,rules:{required:"‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ú‡ßã‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"},render:({field:m})=>{var V;return e.jsx(Js,{value:m.value,onChange:m.onChange,cityCorporationCode:O,label:"‡¶ú‡ßã‡¶® (‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá) *",error:!!k.zoneIds,helperText:(V=k.zoneIds)==null?void 0:V.message,disabled:!O||w})}}),e.jsxs(M,{sx:{bgcolor:"#fff3cd",p:2,borderRadius:1,border:"1px solid #ffc107"},children:[e.jsx(f,{variant:"body2",sx:{fontWeight:600,color:"#856404",mb:1},children:"‚ö†Ô∏è ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø:"}),e.jsxs(f,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ",e.jsx("strong",{children:"Zone"})," ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ø‡¶§‡ßç‡¶¨‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá"]}),e.jsxs(f,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ",e.jsx("strong",{children:"Ward"})," ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]}),e.jsxs(f,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ",e.jsx("strong",{children:"Admin"})," (Ward Inspector) ‡¶¶‡ßá‡¶∞ manage ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]}),e.jsxs(f,{variant:"body2",color:"text.secondary",sx:{fontSize:13},children:["‚Ä¢ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ Zone ‡¶∏‡¶Æ‡ßÇ‡¶π‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ",e.jsx("strong",{children:"User"})," ‡¶è‡¶¨‡¶Ç ",e.jsx("strong",{children:"Complaint"})," ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"]})]})]});case 2:return e.jsxs(D,{spacing:2.5,children:[e.jsx(f,{variant:"subtitle2",sx:{fontWeight:600,color:"#1e2939"},children:"‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏"}),e.jsx(M,{sx:{bgcolor:"#f0f9ff",p:2,borderRadius:1,border:"1px solid #3b82f6"},children:e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(M,{children:[e.jsx(f,{sx:{fontWeight:600,color:"#1e40af"},children:"View Only Mode"}),e.jsx(f,{variant:"body2",sx:{color:"#64748b",fontSize:12},children:"‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá, ‡¶ï‡ßã‡¶®‡ßã action ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ"})]}),e.jsx($,{name:"permissions.features.viewOnlyMode",control:j,render:({field:m})=>e.jsx(le,{checked:m.value,onChange:m.onChange,disabled:w,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3b82f6"}}})})]})}),P("permissions.features.viewOnlyMode")&&e.jsxs(M,{sx:{bgcolor:"#fef3c7",p:2,borderRadius:1,border:"1px solid #f59e0b"},children:[e.jsx(f,{variant:"body2",sx:{fontWeight:600,color:"#92400e",mb:1},children:"‚ÑπÔ∏è View Only Mode ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶Ü‡¶õ‡ßá"}),e.jsx(f,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ User List ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),e.jsx(f,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ Admin List ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),e.jsx(f,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ Complaint ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá"}),e.jsx(f,{variant:"body2",sx:{color:"#78350f",fontSize:13},children:"‚Ä¢ ‡¶ï‡ßã‡¶®‡ßã action ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ (edit, delete, approve ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø)"})]}),!P("permissions.features.viewOnlyMode")&&e.jsxs(D,{spacing:2,children:[e.jsx(f,{variant:"body2",sx:{fontWeight:600,color:"#64748b"},children:"Advanced Permissions"}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞"}),e.jsx($,{name:"permissions.features.chat",control:j,render:({field:m})=>e.jsx(le,{checked:m.value,onChange:m.onChange,disabled:w,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ü‡ßÅ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"}),e.jsx($,{name:"permissions.features.customerProfile",control:j,render:({field:m})=>e.jsx(le,{checked:m.value,onChange:m.onChange,disabled:w,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®"}),e.jsx($,{name:"permissions.features.reviews",control:j,render:({field:m})=>e.jsx(le,{checked:m.value,onChange:m.onChange,disabled:w,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°"}),e.jsx($,{name:"permissions.features.messaging",control:j,render:({field:m})=>e.jsx(le,{checked:m.value,onChange:m.onChange,disabled:w,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]}),e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(f,{children:"‡¶è‡¶™‡ßç‡¶∞‡ßÅ‡¶≠‡¶æ‡¶≤ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏"}),e.jsx($,{name:"permissions.features.complaintApproval",control:j,render:({field:m})=>e.jsx(le,{checked:m.value,onChange:m.onChange,disabled:w,sx:{"& .Mui-checked+.MuiSwitch-track":{bgcolor:"#3fa564"}}})})]})]})]});default:return null}};return n?e.jsxs(us,{open:s,onClose:Q,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(fs,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(f,{sx:{fontWeight:700},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx(Te,{onClick:Q,disabled:w,children:e.jsx(hs,{})})]}),e.jsxs(xs,{dividers:!0,children:[e.jsx(Hs,{activeStep:l,sx:{mb:3},children:Xs.map(m=>e.jsx(Gs,{children:e.jsx(Ys,{children:m})},m))}),I()]}),e.jsxs(gs,{children:[e.jsx(be,{onClick:Q,disabled:w,children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),l>0&&e.jsx(be,{onClick:Y,disabled:w,children:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}),l<Xs.length-1?e.jsx(be,{variant:"contained",onClick:N,sx:{bgcolor:"#3fa564"},children:"‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}):e.jsx(be,{variant:"contained",onClick:F(b),disabled:w,sx:{bgcolor:"#3fa564"},children:w?"‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]}):null},dr=({open:s,onClose:r,superAdmin:t})=>{var q,j,F;const{user:n}=Nt(),[l,a]=z.useState(null),[d,u]=z.useState(!1),[w,R]=z.useState(null);z.useEffect(()=>{s&&(t!=null&&t.id)?_(t.id):(a(null),R(null))},[s,t]);const _=async P=>{try{u(!0),R(null);const W=await je.getSuperAdminById(P);a(W)}catch(W){console.error("Error fetching super admin details:",W),R("Failed to load latest details"),a(t)}finally{u(!1)}};if(!t)return null;const x=l||t,S=P=>P?new Date(P).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"}):"N/A";return e.jsxs(us,{open:s,onClose:r,maxWidth:"md",fullWidth:!0,children:[e.jsxs(fs,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(f,{sx:{fontWeight:700},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§"}),e.jsx(Te,{onClick:r,children:e.jsx(hs,{})})]}),e.jsxs(xs,{dividers:!0,children:[d&&e.jsx(M,{sx:{display:"flex",justifyContent:"center",p:2},children:e.jsx(Je,{size:24})}),w&&e.jsxs(wt,{severity:"warning",sx:{mb:2},children:[w," - Showing cached data"]}),e.jsxs(D,{spacing:3,sx:{opacity:d?.6:1,transition:"opacity 0.2s"},children:[e.jsxs(M,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(ms,{sx:{width:80,height:80,bgcolor:"#2b7fff",fontSize:32,fontWeight:700},src:x.avatar||void 0,children:(q=x.firstName)==null?void 0:q.charAt(0).toUpperCase()}),e.jsxs(M,{sx:{flex:1},children:[e.jsxs(f,{variant:"h5",sx:{fontWeight:700,mb:.5},children:[x.firstName," ",x.lastName]}),e.jsxs(D,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Ie,{label:x.role,size:"small",sx:{bgcolor:"#eff6ff",color:"#155dfc"}}),e.jsx(Ie,{label:x.status==="ACTIVE"?"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º":"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",size:"small",sx:{bgcolor:x.status==="ACTIVE"?"#dcfce7":"#fee2e2",color:x.status==="ACTIVE"?"#008236":"#dc2626"}})]})]})]}),e.jsx(_e,{}),e.jsxs(M,{children:[e.jsx(f,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø"}),e.jsxs(ie,{container:!0,spacing:2,children:[e.jsx(ie,{size:{xs:12,sm:6},children:e.jsxs(D,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(St,{sx:{color:"#4a5565"}}),e.jsxs(M,{children:[e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"}),e.jsx(f,{variant:"body1",sx:{fontWeight:600},children:x.phone})]})]})}),x.email&&e.jsx(ie,{size:{xs:12,sm:6},children:e.jsxs(D,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Ct,{sx:{color:"#4a5565"}}),e.jsxs(M,{children:[e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤"}),e.jsx(f,{variant:"body1",sx:{fontWeight:600},children:x.email})]})]})}),x.address&&e.jsx(ie,{size:{xs:12},children:e.jsxs(D,{direction:"row",spacing:1,alignItems:"flex-start",children:[e.jsx(Is,{sx:{color:"#4a5565",mt:.5}}),e.jsxs(M,{children:[e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ"}),e.jsx(f,{variant:"body1",sx:{fontWeight:600},children:x.address})]})]})})]})]}),e.jsx(_e,{}),e.jsxs(M,{children:[e.jsx(f,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø"}),e.jsx(ie,{container:!0,spacing:2,children:e.jsx(ie,{size:{xs:12,sm:6},children:e.jsxs(D,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Is,{sx:{color:"#4a5565"}}),e.jsxs(M,{children:[e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶∏‡¶ø‡¶ü‡¶ø ‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶∂‡¶®"}),e.jsx(f,{variant:"body1",sx:{fontWeight:600},children:((j=x.cityCorporation)==null?void 0:j.name)||"N/A"})]})]})})}),x.assignedZones&&x.assignedZones.length>0&&e.jsxs(M,{sx:{mt:2},children:[e.jsx(f,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:"‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ú‡ßã‡¶® ‡¶∏‡¶Æ‡ßÇ‡¶π"}),e.jsx(D,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:x.assignedZones.map(P=>e.jsx(Ie,{label:P.zone.name,size:"small",variant:"outlined",color:"primary",sx:{mb:.5}},P.zone.id))})]})]}),e.jsx(_e,{}),x.statistics&&e.jsxs(M,{children:[e.jsx(f,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®"}),e.jsxs(ie,{container:!0,spacing:2,children:[e.jsx(ie,{size:{xs:6,sm:3},children:e.jsxs(M,{sx:{textAlign:"center",p:2,bgcolor:"#f9fafb",borderRadius:2},children:[e.jsx(f,{variant:"h4",sx:{fontWeight:700,color:"#155dfc"},children:x.statistics.totalComplaints||0}),e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶Æ‡ßã‡¶ü ‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó"})]})}),e.jsx(ie,{size:{xs:6,sm:3},children:e.jsxs(M,{sx:{textAlign:"center",p:2,bgcolor:"#f0fdf4",borderRadius:2},children:[e.jsx(f,{variant:"h4",sx:{fontWeight:700,color:"#00a63e"},children:x.statistics.resolvedComplaints||0}),e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"})]})}),e.jsx(ie,{size:{xs:6,sm:3},children:e.jsxs(M,{sx:{textAlign:"center",p:2,bgcolor:"#fff7ed",borderRadius:2},children:[e.jsx(f,{variant:"h4",sx:{fontWeight:700,color:"#d08700"},children:x.statistics.pendingComplaints||0}),e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç"})]})}),e.jsx(ie,{size:{xs:6,sm:3},children:e.jsxs(M,{sx:{textAlign:"center",p:2,bgcolor:"#eff6ff",borderRadius:2},children:[e.jsx(f,{variant:"h4",sx:{fontWeight:700,color:"#155dfc"},children:x.statistics.inProgressComplaints||0}),e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶ö‡¶≤‡¶Æ‡¶æ‡¶®"})]})})]})]}),e.jsx(_e,{}),e.jsxs(M,{children:[e.jsx(f,{variant:"h6",sx:{fontWeight:700,mb:2},children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡¶•‡ßç‡¶Ø"}),e.jsxs(ie,{container:!0,spacing:2,children:[e.jsx(ie,{size:{xs:12,sm:6},children:e.jsxs(D,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Vt,{sx:{color:"#4a5565"}}),e.jsxs(M,{children:[e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"}),e.jsx(f,{variant:"body1",sx:{fontWeight:600},children:S(x.createdAt)})]})]})}),(n==null?void 0:n.role)==="MASTER_ADMIN"&&e.jsxs(ie,{size:{xs:12},children:[e.jsx(_e,{sx:{my:1}}),e.jsxs(D,{direction:"row",spacing:1,alignItems:"flex-start",sx:{mt:1},children:[e.jsx(At,{sx:{color:"#d32f2f",mt:.5}}),e.jsxs(M,{children:[e.jsx(f,{variant:"caption",color:"text.secondary",children:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° (Visible only to MASTER ADMIN)"}),e.jsx(f,{variant:"body1",sx:{fontFamily:"monospace"},children:x.visiblePassword?e.jsx("span",{style:{color:"#2e7d32",fontWeight:"bold"},children:x.visiblePassword}):e.jsxs("span",{style:{color:"#666"},children:["Hash: ",(F=x.passwordHash)==null?void 0:F.substring(0,20),"... (Reset to see actual)"]})})]})]})]})]})]})]})]}),e.jsx(gs,{children:e.jsx(be,{variant:"contained",onClick:r,sx:{bgcolor:"#3fa564"},children:"‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®"})})]})},ur={locale:{1:"‡ßß",2:"‡ß®",3:"‡ß©",4:"‡ß™",5:"‡ß´",6:"‡ß¨",7:"‡ß≠",8:"‡ßÆ",9:"‡ßØ",0:"‡ß¶"}},fr={narrow:["‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶É","‡¶ñ‡ßç‡¶∞‡¶ø‡¶É"],abbreviated:["‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶∞‡ßç‡¶¨","‡¶ñ‡ßç‡¶∞‡¶ø‡¶É"],wide:["‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶™‡ßÇ‡¶∞‡ßç‡¶¨","‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶"]},hr={narrow:["‡ßß","‡ß®","‡ß©","‡ß™"],abbreviated:["‡ßß‡¶§‡ßç‡¶∞‡ßà","‡ß®‡¶§‡ßç‡¶∞‡ßà","‡ß©‡¶§‡ßç‡¶∞‡ßà","‡ß™‡¶§‡ßç‡¶∞‡ßà"],wide:["‡ßß‡¶Æ ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï","‡ß®‡ßü ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï","‡ß©‡ßü ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï","‡ß™‡¶∞‡ßç‡¶• ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï"]},xr={narrow:["‡¶ú‡¶æ‡¶®‡ßÅ","‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ","‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö","‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤","‡¶Æ‡ßá","‡¶ú‡ßÅ‡¶®","‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á","‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü","‡¶∏‡ßá‡¶™‡ßç‡¶ü","‡¶Ö‡¶ï‡ßç‡¶ü‡ßã","‡¶®‡¶≠‡ßá","‡¶°‡¶ø‡¶∏‡ßá"],abbreviated:["‡¶ú‡¶æ‡¶®‡ßÅ","‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ","‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö","‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤","‡¶Æ‡ßá","‡¶ú‡ßÅ‡¶®","‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á","‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü","‡¶∏‡ßá‡¶™‡ßç‡¶ü","‡¶Ö‡¶ï‡ßç‡¶ü‡ßã","‡¶®‡¶≠‡ßá","‡¶°‡¶ø‡¶∏‡ßá"],wide:["‡¶ú‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø","‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø","‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö","‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤","‡¶Æ‡ßá","‡¶ú‡ßÅ‡¶®","‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á","‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü","‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßá‡¶Æ‡ßç‡¶¨‡¶∞","‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞","‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞","‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞"]},gr={narrow:["‡¶∞","‡¶∏‡ßã","‡¶Æ","‡¶¨‡ßÅ","‡¶¨‡ßÉ","‡¶∂‡ßÅ","‡¶∂"],short:["‡¶∞‡¶¨‡¶ø","‡¶∏‡ßã‡¶Æ","‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤","‡¶¨‡ßÅ‡¶ß","‡¶¨‡ßÉ‡¶π","‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞","‡¶∂‡¶®‡¶ø"],abbreviated:["‡¶∞‡¶¨‡¶ø","‡¶∏‡ßã‡¶Æ","‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤","‡¶¨‡ßÅ‡¶ß","‡¶¨‡ßÉ‡¶π","‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞","‡¶∂‡¶®‡¶ø"],wide:["‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞","‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞","‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞","‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞","‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ ","‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞","‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞"]},mr={narrow:{am:"‡¶™‡ßÇ",pm:"‡¶Ö‡¶™",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"},abbreviated:{am:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®",pm:"‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"},wide:{am:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®",pm:"‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"}},yr={narrow:{am:"‡¶™‡ßÇ",pm:"‡¶Ö‡¶™",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"},abbreviated:{am:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®",pm:"‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"},wide:{am:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®",pm:"‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®",midnight:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§",noon:"‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®",morning:"‡¶∏‡¶ï‡¶æ‡¶≤",afternoon:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤",evening:"‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ",night:"‡¶∞‡¶æ‡¶§"}};function pr(s,r){if(s>18&&s<=31)return r+"‡¶∂‡ßá";switch(s){case 1:return r+"‡¶≤‡¶æ";case 2:case 3:return r+"‡¶∞‡¶æ";case 4:return r+"‡¶†‡¶æ";default:return r+"‡¶á"}}const br=(s,r)=>{const t=Number(s),n=ft(t);if((r==null?void 0:r.unit)==="date")return pr(t,n);if(t>10||t===0)return n+"‡¶§‡¶Æ";switch(t%10){case 2:case 3:return n+"‡ßü";case 4:return n+"‡¶∞‡ßç‡¶•";case 6:return n+"‡¶∑‡ßç‡¶†";default:return n+"‡¶Æ"}};function ft(s){return s.toString().replace(/\d/g,function(r){return ur.locale[r]})}const jr={ordinalNumber:br,era:We({values:fr,defaultWidth:"wide"}),quarter:We({values:hr,defaultWidth:"wide",argumentCallback:s=>s-1}),month:We({values:xr,defaultWidth:"wide"}),day:We({values:gr,defaultWidth:"wide"}),dayPeriod:We({values:mr,defaultWidth:"wide",formattingValues:yr,defaultFormattingWidth:"wide"})},vr={lessThanXSeconds:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°"},xSeconds:{one:"‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°",other:"{{count}} ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°"},halfAMinute:"‡¶Ü‡¶ß ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü",lessThanXMinutes:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü"},xMinutes:{one:"‡ßß ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü",other:"{{count}} ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü"},aboutXHours:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶ò‡¶®‡ßç‡¶ü‡¶æ"},xHours:{one:"‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ",other:"{{count}} ‡¶ò‡¶®‡ßç‡¶ü‡¶æ"},xDays:{one:"‡ßß ‡¶¶‡¶ø‡¶®",other:"{{count}} ‡¶¶‡¶ø‡¶®"},aboutXWeeks:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π"},xWeeks:{one:"‡ßß ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π",other:"{{count}} ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π"},aboutXMonths:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶Æ‡¶æ‡¶∏",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶Æ‡¶æ‡¶∏"},xMonths:{one:"‡ßß ‡¶Æ‡¶æ‡¶∏",other:"{{count}} ‡¶Æ‡¶æ‡¶∏"},aboutXYears:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶¨‡¶õ‡¶∞",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶¨‡¶õ‡¶∞"},xYears:{one:"‡ßß ‡¶¨‡¶õ‡¶∞",other:"{{count}} ‡¶¨‡¶õ‡¶∞"},overXYears:{one:"‡ßß ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø",other:"{{count}} ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø"},almostXYears:{one:"‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡ßß ‡¶¨‡¶õ‡¶∞",other:"‡¶™‡ßç‡¶∞‡¶æ‡ßü {{count}} ‡¶¨‡¶õ‡¶∞"}},wr=(s,r,t)=>{let n;const l=vr[s];return typeof l=="string"?n=l:r===1?n=l.one:n=l.other.replace("{{count}}",ft(r)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?n+" ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá":n+" ‡¶Ü‡¶ó‡ßá":n},Sr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vr={full:"{{date}} {{time}} '‡¶∏‡¶Æ‡ßü'",long:"{{date}} {{time}} '‡¶∏‡¶Æ‡ßü'",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ar={date:as({formats:Sr,defaultWidth:"full"}),time:as({formats:Cr,defaultWidth:"full"}),dateTime:as({formats:Vr,defaultWidth:"full"})},_r={lastWeek:"'‡¶ó‡¶§' eeee '‡¶∏‡¶Æ‡ßü' p",yesterday:"'‡¶ó‡¶§‡¶ï‡¶æ‡¶≤' '‡¶∏‡¶Æ‡ßü' p",today:"'‡¶Ü‡¶ú' '‡¶∏‡¶Æ‡ßü' p",tomorrow:"'‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ‡¶ï‡¶æ‡¶≤' '‡¶∏‡¶Æ‡ßü' p",nextWeek:"eeee '‡¶∏‡¶Æ‡ßü' p",other:"P"},kr=(s,r,t,n)=>_r[s],Er=/^(\d+)(‡¶Æ|‡ßü|‡¶∞‡ßç‡¶•|‡¶∑‡ßç‡¶†|‡¶∂‡ßá|‡¶á|‡¶§‡¶Æ)?/i,Fr=/\d+/i,Ir={narrow:/^(‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶É|‡¶ñ‡ßç‡¶∞‡¶ø‡¶É)/i,abbreviated:/^(‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶∞‡ßç‡¶¨|‡¶ñ‡ßç‡¶∞‡¶ø‡¶É)/i,wide:/^(‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶™‡ßÇ‡¶∞‡ßç‡¶¨|‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶)/i},Mr={narrow:[/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶É/i,/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶É/i],abbreviated:[/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶É‡¶™‡ßÇ‡¶∞‡ßç‡¶¨/i,/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶É/i],wide:[/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶™‡ßÇ‡¶∞‡ßç‡¶¨/i,/^‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶/i]},Dr={narrow:/^[‡ßß‡ß®‡ß©‡ß™]/i,abbreviated:/^[‡ßß‡ß®‡ß©‡ß™]‡¶§‡ßç‡¶∞‡ßà/i,wide:/^[‡ßß‡ß®‡ß©‡ß™](‡¶Æ|‡ßü|‡¶∞‡ßç‡¶•)? ‡¶§‡ßç‡¶∞‡ßà‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï/i},zr={any:[/‡ßß/i,/‡ß®/i,/‡ß©/i,/‡ß™/i]},Tr={narrow:/^(‡¶ú‡¶æ‡¶®‡ßÅ|‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ|‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö|‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤|‡¶Æ‡ßá|‡¶ú‡ßÅ‡¶®|‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á|‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü|‡¶∏‡ßá‡¶™‡ßç‡¶ü|‡¶Ö‡¶ï‡ßç‡¶ü‡ßã|‡¶®‡¶≠‡ßá|‡¶°‡¶ø‡¶∏‡ßá)/i,abbreviated:/^(‡¶ú‡¶æ‡¶®‡ßÅ|‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ|‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö|‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤|‡¶Æ‡ßá|‡¶ú‡ßÅ‡¶®|‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á|‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü|‡¶∏‡ßá‡¶™‡ßç‡¶ü|‡¶Ö‡¶ï‡ßç‡¶ü‡ßã|‡¶®‡¶≠‡ßá|‡¶°‡¶ø‡¶∏‡ßá)/i,wide:/^(‡¶ú‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø|‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø|‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö|‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤|‡¶Æ‡ßá|‡¶ú‡ßÅ‡¶®|‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á|‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü|‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßá‡¶Æ‡ßç‡¶¨‡¶∞|‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞|‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞|‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞)/i},Wr={any:[/^‡¶ú‡¶æ‡¶®‡ßÅ/i,/^‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ/i,/^‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö/i,/^‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤/i,/^‡¶Æ‡ßá/i,/^‡¶ú‡ßÅ‡¶®/i,/^‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á/i,/^‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü/i,/^‡¶∏‡ßá‡¶™‡ßç‡¶ü/i,/^‡¶Ö‡¶ï‡ßç‡¶ü‡ßã/i,/^‡¶®‡¶≠‡ßá/i,/^‡¶°‡¶ø‡¶∏‡ßá/i]},Nr={narrow:/^(‡¶∞|‡¶∏‡ßã|‡¶Æ|‡¶¨‡ßÅ|‡¶¨‡ßÉ|‡¶∂‡ßÅ|‡¶∂)+/i,short:/^(‡¶∞‡¶¨‡¶ø|‡¶∏‡ßã‡¶Æ|‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤|‡¶¨‡ßÅ‡¶ß|‡¶¨‡ßÉ‡¶π|‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞|‡¶∂‡¶®‡¶ø)+/i,abbreviated:/^(‡¶∞‡¶¨‡¶ø|‡¶∏‡ßã‡¶Æ|‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤|‡¶¨‡ßÅ‡¶ß|‡¶¨‡ßÉ‡¶π|‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞|‡¶∂‡¶®‡¶ø)+/i,wide:/^(‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞|‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞|‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞|‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞|‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ |‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞|‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞)+/i},Rr={narrow:[/^‡¶∞/i,/^‡¶∏‡ßã/i,/^‡¶Æ/i,/^‡¶¨‡ßÅ/i,/^‡¶¨‡ßÉ/i,/^‡¶∂‡ßÅ/i,/^‡¶∂/i],short:[/^‡¶∞‡¶¨‡¶ø/i,/^‡¶∏‡ßã‡¶Æ/i,/^‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤/i,/^‡¶¨‡ßÅ‡¶ß/i,/^‡¶¨‡ßÉ‡¶π/i,/^‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞/i,/^‡¶∂‡¶®‡¶ø/i],abbreviated:[/^‡¶∞‡¶¨‡¶ø/i,/^‡¶∏‡ßã‡¶Æ/i,/^‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤/i,/^‡¶¨‡ßÅ‡¶ß/i,/^‡¶¨‡ßÉ‡¶π/i,/^‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞/i,/^‡¶∂‡¶®‡¶ø/i],wide:[/^‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞/i,/^‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞/i,/^‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞/i,/^‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞/i,/^‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ /i,/^‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞/i,/^‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞/i]},Pr={narrow:/^(‡¶™‡ßÇ|‡¶Ö‡¶™|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®|‡¶∏‡¶ï‡¶æ‡¶≤|‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤|‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ|‡¶∞‡¶æ‡¶§)/i,abbreviated:/^(‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®|‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®|‡¶∏‡¶ï‡¶æ‡¶≤|‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤|‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ|‡¶∞‡¶æ‡¶§)/i,wide:/^(‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßç‡¶®|‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§|‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®|‡¶∏‡¶ï‡¶æ‡¶≤|‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤|‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ|‡¶∞‡¶æ‡¶§)/i},Or={any:{am:/^‡¶™‡ßÇ/i,pm:/^‡¶Ö‡¶™/i,midnight:/^‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§/i,noon:/^‡¶Æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶π‡ßç‡¶®/i,morning:/‡¶∏‡¶ï‡¶æ‡¶≤/i,afternoon:/‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤/i,evening:/‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ/i,night:/‡¶∞‡¶æ‡¶§/i}},Lr={ordinalNumber:Rt({matchPattern:Er,parsePattern:Fr,valueCallback:s=>parseInt(s,10)}),era:Ne({matchPatterns:Ir,defaultMatchWidth:"wide",parsePatterns:Mr,defaultParseWidth:"wide"}),quarter:Ne({matchPatterns:Dr,defaultMatchWidth:"wide",parsePatterns:zr,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ne({matchPatterns:Tr,defaultMatchWidth:"wide",parsePatterns:Wr,defaultParseWidth:"any"}),day:Ne({matchPatterns:Nr,defaultMatchWidth:"wide",parsePatterns:Rr,defaultParseWidth:"wide"}),dayPeriod:Ne({matchPatterns:Pr,defaultMatchWidth:"wide",parsePatterns:Or,defaultParseWidth:"any"})},Ur={code:"bn",formatDistance:wr,formatLong:Ar,formatRelative:kr,localize:jr,match:Lr,options:{weekStartsOn:0,firstWeekContainsDate:1}},$r={CREATE_USER:"‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®",UPDATE_USER:"‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®",DELETE_USER:"‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßá‡¶õ‡ßá‡¶®",UPDATE_USER_STATUS:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®",UPDATE_USER_PERMISSIONS:"‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®"},Br={USER:"‡¶á‡¶â‡¶ú‡¶æ‡¶∞",COMPLAINT:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó",MESSAGE:"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú",ZONE:"‡¶ú‡ßã‡¶®",WARD:"‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°"},Zr=s=>s.includes("CREATE")?"#00a63e":s.includes("UPDATE")?"#155dfc":s.includes("DELETE")?"#e7000b":"#4a5565",qr=s=>{const r=$r[s.action]||s.action,t=Br[s.entityType]||s.entityType;if(s.action==="CREATE_USER"&&s.newValue)return`${s.newValue.name} ‡¶®‡¶æ‡¶Æ‡ßá ‡¶®‡¶§‡ßÅ‡¶® ${t} ${r}`;if(s.action==="UPDATE_USER"&&s.oldValue&&s.newValue){const n=[];return s.oldValue.name!==s.newValue.name&&n.push(`‡¶®‡¶æ‡¶Æ: ${s.oldValue.name} ‚Üí ${s.newValue.name}`),s.oldValue.phone!==s.newValue.phone&&n.push(`‡¶´‡ßã‡¶®: ${s.oldValue.phone} ‚Üí ${s.newValue.phone}`),s.oldValue.status!==s.newValue.status&&n.push(`‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏: ${s.oldValue.status} ‚Üí ${s.newValue.status}`),n.length>0?`${s.newValue.name} ‡¶è‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ${r}: ${n.join(", ")}`:`${s.newValue.name} ‡¶è‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ${r}`}return s.action==="DELETE_USER"&&s.oldValue?`${s.oldValue.name} ‡¶®‡¶æ‡¶Æ‡ßá ${t} ${r}`:s.action==="UPDATE_USER_PERMISSIONS"&&s.newValue?`${t} ‡¶è‡¶∞ ‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ${r}`:`${t} ${r}`},Xr=s=>{try{const r=new Date(s),n=Math.floor((new Date().getTime()-r.getTime())/(1e3*60));return n<1?"‡¶è‡¶á‡¶Æ‡¶æ‡¶§‡ßç‡¶∞":n<60?`${n} ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶Ü‡¶ó‡ßá`:n<1440?`${Math.floor(n/60)} ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡¶Ü‡¶ó‡ßá`:Lt(r,"dd MMM yyyy, hh:mm a",{locale:Ur})}catch{return s}},Hr=()=>{const[s,r]=z.useState([]),[t,n]=z.useState(!0),l=z.useCallback(async()=>{n(!0);try{const a=await Ot.getActivityLogs({page:1,limit:10,entityType:"USER"});a&&a.logs&&r(a.logs)}catch(a){console.error("Error loading activities:",a),ge.error("‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶≤‡¶æ‡¶™ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{n(!1)}},[]);return z.useEffect(()=>{l()},[l]),e.jsx(ke,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:e.jsxs(Ee,{children:[e.jsx(f,{sx:{fontSize:20,fontWeight:700,color:"#1e2939",mb:2},children:"‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶≤‡¶æ‡¶™"}),t?e.jsx(M,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(Je,{size:32})}):s.length===0?e.jsx(M,{sx:{textAlign:"center",py:4},children:e.jsx(f,{sx:{color:"#6a7282",fontSize:14},children:"‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶≤‡¶æ‡¶™ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø"})}):e.jsx(D,{spacing:2,children:s.map((a,d)=>e.jsxs(T.Fragment,{children:[e.jsxs(D,{direction:"row",spacing:2,alignItems:"flex-start",children:[e.jsx(ms,{sx:{bgcolor:Zr(a.action),width:40,height:40,fontSize:16},children:a.user.firstName.charAt(0).toUpperCase()}),e.jsxs(M,{sx:{flex:1,minWidth:0},children:[e.jsxs(D,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",children:[e.jsxs(f,{sx:{fontSize:14,fontWeight:600,color:"#1e2939"},children:[a.user.firstName," ",a.user.lastName]}),e.jsx(Ie,{label:a.user.role,size:"small",sx:{height:20,fontSize:11,bgcolor:"#f3f4f6",color:"#4a5565"}})]}),e.jsx(f,{sx:{fontSize:14,color:"#4a5565",mt:.5,wordBreak:"break-word"},children:qr(a)}),e.jsx(f,{sx:{fontSize:12,color:"#9ca3af",mt:.5},children:Xr(a.timestamp)})]})]}),d<s.length-1&&e.jsx(_e,{})]},a.id))})]})})},He=({title:s,value:r,bg:t,color:n})=>e.jsx(ke,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:e.jsx(Ee,{sx:{bgcolor:t,borderRadius:2},children:e.jsxs(D,{spacing:.5,children:[e.jsx(f,{sx:{color:"#4a5565",fontSize:14},children:s}),e.jsx(f,{sx:{fontSize:24,fontWeight:700,color:n},children:r})]})})}),Ge=({bg:s})=>e.jsx(ke,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:e.jsx(Ee,{sx:{bgcolor:s,borderRadius:2},children:e.jsxs(D,{spacing:.5,children:[e.jsx(M,{sx:{width:"60%",height:14,bgcolor:"rgba(0,0,0,0.1)",borderRadius:1}}),e.jsx(M,{sx:{width:"40%",height:28,bgcolor:"rgba(0,0,0,0.15)",borderRadius:1,mt:.5}})]})})}),nn=()=>{const[s,r]=z.useState(!1),[t,n]=z.useState(!1),[l,a]=z.useState(!1),[d,u]=z.useState([]),[w,R]=z.useState(xe.ACTIVE),[_,x]=z.useState(null),[S,q]=z.useState([]),[j,F]=z.useState(null),[P,W]=z.useState(!0),[C,k]=z.useState(!0),[O,N]=z.useState(""),[Y,Q]=z.useState(1),[b,I]=z.useState(1),m=20,V=z.useCallback(async()=>{W(!0);try{const v=await je.getSuperAdmins({page:Y,limit:m,search:O||void 0,status:w==="ALL"?void 0:w});q(v.users),I(v.pagination.totalPages)}catch(v){console.error("Error loading super admins:",v),ge.error("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{W(!1)}},[Y,O,w]),E=z.useCallback(async()=>{k(!0);try{const v=await je.getSuperAdminStatistics();F(v)}catch(v){console.error("Error loading statistics:",v),ge.error("‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶® ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}finally{k(!1)}},[]);z.useEffect(()=>{V()},[V]),z.useEffect(()=>{E()},[E]);const L=v=>{N(v),Q(1)},X=async(v,K)=>{var H,Se;if(window.confirm(`‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ${K} ‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`))try{await je.deleteSuperAdmin(v),ge.success("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"),V(),E()}catch(qe){console.error("Error deleting super admin:",qe),ge.error(((Se=(H=qe.response)==null?void 0:H.data)==null?void 0:Se.message)||"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}},te=async()=>{var v,K;if(d.length!==0&&window.confirm(`‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ${d.length} ‡¶ú‡¶® ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`))try{await je.bulkDeleteSuperAdmins(d),ge.success("‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá"),u([]),V(),E()}catch(H){console.error("Error deleting super admins:",H),ge.error(((K=(v=H.response)==null?void 0:v.data)==null?void 0:K.message)||"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•")}},re=v=>{if(v.target.checked){const K=S.map(H=>H.id);u(K);return}u([])},fe=v=>{const K=d.indexOf(v);let H=[];K===-1?H=H.concat(d,v):K===0?H=H.concat(d.slice(1)):K===d.length-1?H=H.concat(d.slice(0,-1)):K>0&&(H=H.concat(d.slice(0,K),d.slice(K+1))),u(H)},Ve=()=>{V(),E()},we=v=>{x(v),n(!0)},Me=()=>{V(),E()},Ze=v=>{x(v),a(!0)};return e.jsx(Pt,{title:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü",children:e.jsxs(M,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",lg:"1fr 400px"},gap:3},children:[e.jsxs(D,{spacing:3,children:[e.jsx(ke,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:e.jsxs(Ee,{children:[e.jsx(f,{sx:{fontSize:24,fontWeight:700,color:"#1e2939",mb:2},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü"}),e.jsx(M,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(4, 1fr)"},gap:2},children:C?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{bg:"#eff6ff"}),e.jsx(Ge,{bg:"#f0fdf4"}),e.jsx(Ge,{bg:"#fef2f2"}),e.jsx(Ge,{bg:"#faf5ff"})]}):e.jsxs(e.Fragment,{children:[e.jsx(He,{title:"‡¶Æ‡ßã‡¶ü ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®",value:((j==null?void 0:j.statusBreakdown.active)??0)+((j==null?void 0:j.statusBreakdown.inactive)??0),bg:"#eff6ff",color:"#155dfc"}),e.jsx(He,{title:"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",value:(j==null?void 0:j.statusBreakdown.active)??0,bg:"#f0fdf4",color:"#00a63e"}),e.jsx(He,{title:"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",value:(j==null?void 0:j.statusBreakdown.inactive)??0,bg:"#fef2f2",color:"#e7000b"}),e.jsx(He,{title:"‡¶Ü‡¶ú ‡¶®‡¶§‡ßÅ‡¶®",value:`+${(j==null?void 0:j.newUsersThisMonth)||0}`,bg:"#faf5ff",color:"#9810fa"})]})})]})}),e.jsx(ke,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:e.jsxs(Ee,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,flexWrap:"wrap"},children:[e.jsx(de,{value:O,onChange:v=>L(v.target.value),placeholder:"‡¶®‡¶æ‡¶Æ/‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",fullWidth:!0,slotProps:{input:{startAdornment:e.jsx(_t,{position:"start",children:e.jsx(kt,{sx:{color:"#0a0a0a80"}})})}},sx:{maxWidth:700}}),e.jsxs(Pe,{size:"small",sx:{minWidth:150},children:[e.jsx(Oe,{children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),e.jsxs(Le,{value:w,label:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏",onChange:v=>{R(v.target.value),Q(1)},children:[e.jsx(oe,{value:"ALL",children:"‡¶∏‡¶ï‡¶≤"}),e.jsx(oe,{value:xe.ACTIVE,children:"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º"}),e.jsx(oe,{value:xe.INACTIVE,children:"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º"}),e.jsx(oe,{value:xe.PENDING,children:"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"}),e.jsx(oe,{value:xe.SUSPENDED,children:"‡¶∏‡ßç‡¶•‡¶ó‡¶ø‡¶§"})]})]}),e.jsx(be,{variant:"contained",sx:{bgcolor:"#3fa564",whiteSpace:"nowrap"},startIcon:e.jsx(Et,{}),onClick:()=>r(!0),children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"}),d.length>0&&e.jsxs(be,{variant:"outlined",color:"error",startIcon:e.jsx(Ms,{}),onClick:te,children:["‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶® (",d.length,")"]})]})}),e.jsx(f,{sx:{fontSize:20,color:"#000000"},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ"}),P?e.jsx(M,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(Je,{})}):S.length===0?e.jsx(ke,{sx:{borderRadius:2},children:e.jsx(Ee,{children:e.jsx(f,{sx:{textAlign:"center",py:4,color:"#6a7282"},children:"‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø"})})}):e.jsxs(e.Fragment,{children:[e.jsxs(ke,{sx:{borderRadius:2,boxShadow:"0px 1px 3px 0px #0000001a, 0px 1px 2px -1px #0000001a"},children:[e.jsx(M,{sx:{bgcolor:"#f9fafb",borderBottom:"1px solid #e5e7eb",px:3,py:1.5},children:e.jsxs(M,{sx:{display:"grid",gridTemplateColumns:"50px 25% 20% 15% 12% 1fr",gap:2,alignItems:"center"},children:[e.jsx(Ds,{indeterminate:d.length>0&&d.length<S.length,checked:S.length>0&&d.length===S.length,onChange:re}),e.jsx(f,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®"}),e.jsx(f,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶è‡¶≤‡¶æ‡¶ï‡¶æ ‡¶ì ‡¶ú‡ßã‡¶®"}),e.jsx(f,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£"}),e.jsx(f,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),e.jsx(f,{sx:{color:"#364153",fontWeight:700,fontSize:14},children:"‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®"})]})}),e.jsx(Ee,{sx:{px:0},children:e.jsxs(Ft,{children:[e.jsx(It,{children:S.map(v=>{var H;const K=d.indexOf(v.id)!==-1;return e.jsxs(zs,{hover:!0,selected:K,children:[e.jsx(Ae,{padding:"checkbox",sx:{width:"50px"},children:e.jsx(Ds,{checked:K,onChange:()=>fe(v.id)})}),e.jsx(Ae,{sx:{width:"25%"},children:e.jsxs(D,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(ms,{src:v.avatar||void 0,alt:`${v.firstName} ${v.lastName}`,sx:{bgcolor:"#2b7fff"},children:v.firstName.charAt(0).toUpperCase()}),e.jsxs(M,{children:[e.jsxs(f,{sx:{fontSize:16,fontWeight:700},children:[v.firstName," ",v.lastName]}),e.jsx(f,{sx:{fontSize:14,color:"#4a5565"},children:v.phone})]})]})}),e.jsxs(Ae,{sx:{width:"20%"},children:[e.jsx(f,{sx:{fontSize:14,color:"#1e2939",fontWeight:600},children:((H=v.cityCorporation)==null?void 0:H.name)||"N/A"}),v.assignedZones&&v.assignedZones.length>0?e.jsx(M,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:v.assignedZones.map(Se=>e.jsx(Ie,{label:Se.zone.name,size:"small",sx:{fontSize:"0.7rem",height:20}},Se.zone.id))}):e.jsxs(M,{children:[e.jsx(f,{sx:{fontSize:13,color:"#4a5565",fontWeight:600},children:v.zone?`üè¢ ${v.zone.name}`:"‚ö†Ô∏è ‡¶ú‡ßã‡¶® ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶ø‡¶§ ‡¶®‡ßá‡¶á"}),v.zone&&e.jsxs(f,{sx:{fontSize:12,color:"#6b7280"},children:["‡¶ú‡ßã‡¶® ‡¶®‡¶Ç: ",v.zone.zoneNumber||"N/A"]})]}),v.address&&e.jsxs(f,{sx:{fontSize:12,color:"#6b7280",mt:.5},children:["üìç ",v.address]})]}),e.jsx(Ae,{sx:{width:"15%"},children:e.jsx(D,{spacing:.5,children:v.zone||v.assignedZones&&v.assignedZones.length>0?e.jsxs(e.Fragment,{children:[e.jsx(f,{sx:{fontSize:13,color:"#059669",fontWeight:600},children:"‚úì ‡¶ú‡ßã‡¶® ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞"}),e.jsx(f,{sx:{fontSize:12,color:"#4a5565"},children:"üë• ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡ßá"}),e.jsx(f,{sx:{fontSize:12,color:"#4a5565"},children:"üìç ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá"})]}):e.jsx(f,{sx:{fontSize:13,color:"#dc2626"},children:"‚ö†Ô∏è ‡¶ú‡ßã‡¶® assign ‡¶ï‡¶∞‡ßÅ‡¶®"})})}),e.jsx(Ae,{sx:{width:"12%"},children:e.jsx(D,{direction:"row",spacing:1,alignItems:"center",children:e.jsx(Ie,{label:v.status===xe.ACTIVE?"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º":"‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º",size:"small",sx:{bgcolor:v.status===xe.ACTIVE?"#dcfce7":"#fef2f2",color:v.status===xe.ACTIVE?"#008236":"#e7000b"}})})}),e.jsx(Ae,{sx:{width:"20%"},children:e.jsxs(D,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(D,{children:[e.jsxs(f,{sx:{fontSize:14,color:"#1e2939",fontWeight:700},children:["‡¶Æ‡ßã‡¶ü: ",v.statistics.totalComplaints]}),e.jsxs(D,{direction:"row",spacing:2,children:[e.jsxs(f,{sx:{fontSize:12,color:"#00a63e"},children:["‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®: ",v.statistics.resolvedComplaints]}),e.jsxs(f,{sx:{fontSize:12,color:"#d08700"},children:["‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç: ",v.statistics.pendingComplaints]})]})]}),e.jsx(_e,{orientation:"vertical",flexItem:!0}),e.jsxs(D,{direction:"row",spacing:1,children:[e.jsx(Te,{size:"small",onClick:()=>Ze(v),sx:{color:"#155dfc"},children:e.jsx(Mt,{})}),e.jsx(Te,{size:"small",onClick:()=>we(v),children:e.jsx(Dt,{})}),e.jsx(Te,{size:"small",color:"error",onClick:()=>X(v.id,`${v.firstName} ${v.lastName}`),children:e.jsx(Ms,{})})]})]})})]},v.id)})}),e.jsx(zt,{sx:{display:"none"},children:e.jsx(zs,{children:e.jsx(Ae,{})})})]})})]}),b>1&&e.jsx(M,{sx:{display:"flex",justifyContent:"center",mt:2},children:e.jsx(Tt,{count:b,page:Y,onChange:(v,K)=>Q(K),color:"primary"})})]}),e.jsx(lr,{open:s,onClose:()=>r(!1),onSuccess:Ve}),e.jsx(cr,{open:t,onClose:()=>{n(!1),x(null)},onSuccess:Me,superAdmin:_}),e.jsx(dr,{open:l,onClose:()=>{a(!1),x(null)},superAdmin:_})]}),e.jsx(M,{sx:{display:{xs:"none",lg:"block"}},children:e.jsx(Hr,{})})]})})};export{nn as default};
