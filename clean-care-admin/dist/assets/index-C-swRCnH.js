var Ys=Object.defineProperty;var et=(a,t,o)=>t in a?Ys(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;var Re=(a,t,o)=>et(a,typeof t!="symbol"?t+"":t,o);import{u as ds,p as hs,j as e,t as us,v as xs,B as d,J as st,az as tt,T as l,i as Oe,w as Xe,x as gs,C as le,m as rt,A as ot,g as ze,I as he,aA as nt,b as J,aB as at,$ as ce,a0 as de,a2 as m,aC as it,aD as lt,aE as ct,D as ae,aF as Ke,aG as qe,N as dt,Q as ht,ab as ut,aH as xt,aI as gt,aJ as ne,aK as Te,aL as pt,aM as ft,P as Qe,R as mt,aN as B,aw as Ye,_ as Ct,aO as jt,aP as yt,aq as bt,ar as St,as as Et,at as Ne,au as w,av as At,q as es,s as ss,ap as It,aQ as wt,aR as vt,y as Rt}from"./mui-vendor-Dt-wTuK2.js";import{r,d as Ot,h as Tt}from"./react-vendor-D7yrL1sD.js";import{c as Y,h as ie,f as ts,a as V,s as Nt,b as Lt,z as ee,A as pe,u as zt,w as rs,l as os,E as ns,M as kt,P as Dt,Z as Mt,d as Pt,e as Wt}from"./index-CEqbPxQ7.js";import{s as Le,a as as,b as Ft}from"./toastUtils-DGnQ5cwE.js";import{u as _t,C as Ht}from"./useDebounce-DxQ4_slY.js";import"./userManagementService-Dd2o4VSb.js";import{c as ps,a as is}from"./categoryService-B3DaKUia.js";import{a as fe}from"./query-vendor-CyFhwaPb.js";import"./chart-vendor-TjDrWffg.js";const $t=({complaintId:a,open:t,onClose:o,citizenName:g="Citizen",complaintTitle:n="Complaint"})=>{const f=ds(),p=hs(f.breakpoints.down("sm")),y=r.useRef(null),v=r.useRef(null),[S,E]=r.useState([]),[R,i]=r.useState(!1),[P,A]=r.useState(null),[Z,K]=r.useState(""),[L,se]=r.useState(!1),[k,F]=r.useState(null),[q,U]=r.useState(!1),z=r.useCallback(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth"})},[]);r.useEffect(()=>{t&&a&&(te(),me())},[t,a]),r.useEffect(()=>{z()},[S,z]),r.useEffect(()=>{if(t&&a)return Y.startPolling(a,h=>{E(h)}),()=>{Y.stopPolling(a)}},[t,a]);const te=async()=>{if(a)try{i(!0),A(null);const{messages:h}=await Y.getChatMessages(a);E(h)}catch(h){const u=ie(h);A(u.userMessage)}finally{i(!1)}},me=async()=>{if(a)try{await Y.markAsRead(a)}catch(h){console.error("Error marking messages as read:",h)}},ue=async()=>{if(!(!a||!Z.trim()&&!k))try{se(!0);let h;k?h=await Y.sendMessageWithFile(a,Z.trim()||"Image",k.file):h=await Y.sendMessage(a,{message:Z.trim()}),E(u=>[...u,h]),K(""),F(null),z(),ee.success("Message sent successfully",{icon:"âœ…"})}catch(h){const u=ie(h);ee.error(u.userMessage,{duration:5e3,icon:"âŒ"})}finally{se(!1)}},_=async h=>{var H;const u=(H=h.target.files)==null?void 0:H[0];if(u){if(!u.type.startsWith("image/")){ee.error("Please select an image file",{icon:"âŒ"});return}if(u.size>5*1024*1024){ee.error("Image size must be less than 5MB",{icon:"âŒ"});return}try{U(!0);const T=new FileReader;T.onloadend=()=>{F({file:u,preview:T.result})},T.readAsDataURL(u),ee.success("Image ready to send",{icon:"âœ…"})}catch(T){const $=ie(T);ee.error($.userMessage,{icon:"âŒ"}),F(null)}finally{U(!1)}}},Q=()=>{F(null)},Ce=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),ue())},je=h=>{const u=new Date(h),H=new Date,T=H.getTime()-u.getTime(),$=Math.floor(T/(1e3*60)),re=Math.floor(T/(1e3*60*60)),G=Math.floor(T/(1e3*60*60*24));return $<1?"Just now":$<60?`${$}m ago`:re<24?`${re}h ago`:G<7?`${G}d ago`:u.toLocaleDateString("en-US",{month:"short",day:"numeric",year:u.getFullYear()!==H.getFullYear()?"numeric":void 0})},ye=()=>{E([]),K(""),F(null),A(null),o()};return e.jsxs(us,{open:t,onClose:ye,maxWidth:"sm",fullWidth:!0,fullScreen:p,slotProps:{paper:{sx:{borderRadius:p?0:2,height:p?"100vh":"80vh",maxHeight:p?"100vh":"80vh",display:"flex",flexDirection:"column",animation:p?`${Nt} ${V.normal.duration} ${V.smooth.timing}`:`${Lt} ${V.normal.duration} ${V.smooth.timing}`,animationFillMode:"both"}},backdrop:{sx:{animation:`${ts} ${V.fast.duration} ${V.fast.timing}`}}},children:[e.jsxs(xs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:2,borderBottom:"1px solid #e0e0e0",flexShrink:0},children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(st,{sx:{width:40,height:40,backgroundColor:"#4CAF50"},children:e.jsx(tt,{})}),e.jsxs(d,{children:[e.jsx(l,{variant:"subtitle1",sx:{fontWeight:600,lineHeight:1.2},children:g}),e.jsx(l,{variant:"caption",color:"text.secondary",children:n})]})]}),e.jsx(Oe,{onClick:ye,size:"small",sx:{color:"text.secondary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:e.jsx(Xe,{})})]}),e.jsxs(gs,{ref:v,sx:{flex:1,overflowY:"auto",p:2,display:"flex",flexDirection:"column",gap:2,backgroundColor:"#f8f9fa"},children:[R&&e.jsx(d,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:e.jsx(le,{})}),P&&!R&&e.jsx(rt,{severity:"error",sx:{mb:2},children:P}),!R&&!P&&S.length===0&&e.jsxs(d,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:200,textAlign:"center"},children:[e.jsx(l,{variant:"body1",color:"text.secondary",sx:{mb:1},children:"No messages yet"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:"Start the conversation by sending a message"})]}),!R&&!P&&S.map(h=>{const u=h.senderType==="ADMIN";return e.jsx(d,{sx:{display:"flex",justifyContent:u?"flex-end":"flex-start",animation:`${ts} ${V.fast.duration} ${V.fast.timing}`},children:e.jsxs(d,{sx:{maxWidth:"70%",display:"flex",flexDirection:"column",gap:.5},children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:.5,px:1,justifyContent:u?"flex-end":"flex-start"},children:[u&&e.jsx(ot,{sx:{fontSize:14,color:"#4CAF50"}}),e.jsx(l,{variant:"caption",sx:{fontWeight:600,color:u?"#4CAF50":"#1976d2"},children:h.senderName||(u?"Admin":g)})]}),e.jsxs(d,{sx:{backgroundColor:u?"#4CAF50":"white",color:u?"white":"text.primary",borderRadius:2,p:1.5,boxShadow:1},children:[h.imageUrl&&e.jsx(d,{component:"img",src:h.imageUrl,alt:"Message attachment",sx:{width:"100%",maxWidth:300,borderRadius:1,mb:h.message?1:0}}),h.message&&e.jsx(l,{variant:"body2",sx:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:h.message})]}),e.jsx(l,{variant:"caption",color:"text.secondary",sx:{px:1,textAlign:u?"right":"left"},children:je(h.createdAt)})]})},h.id)}),e.jsx("div",{ref:y})]}),e.jsxs(d,{sx:{p:2,borderTop:"1px solid #e0e0e0",backgroundColor:"white",flexShrink:0},children:[k&&e.jsxs(d,{sx:{mb:1,position:"relative",display:"inline-block"},children:[e.jsx(d,{component:"img",src:k.preview,alt:"Preview",sx:{maxWidth:200,maxHeight:200,borderRadius:1,border:"1px solid #e0e0e0"}}),e.jsx(Oe,{size:"small",onClick:Q,sx:{position:"absolute",top:4,right:4,backgroundColor:"rgba(0, 0, 0, 0.6)",color:"white","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},children:e.jsx(Xe,{fontSize:"small"})})]}),e.jsxs(d,{sx:{display:"flex",gap:1,alignItems:"flex-end"},children:[e.jsx(ze,{fullWidth:!0,multiline:!0,maxRows:4,placeholder:"Type a message...",value:Z,onChange:h=>K(h.target.value),onKeyPress:Ce,disabled:L,slotProps:{input:{startAdornment:e.jsx(he,{position:"start",children:e.jsxs(Oe,{component:"label",size:"small",disabled:q||L,children:[e.jsx(nt,{}),e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:_})]})})}},sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}}),e.jsx(J,{variant:"contained",onClick:ue,disabled:!Z.trim()&&!k||L,sx:{minWidth:56,height:56,borderRadius:"50%",backgroundColor:"#4CAF50","&:hover":{backgroundColor:"#45a049"},"&:disabled":{backgroundColor:"#e0e0e0"}},children:L?e.jsx(le,{size:24,sx:{color:"white"}}):e.jsx(at,{})})]})]})]})};class Bt{constructor(){Re(this,"apiClient");this.apiClient=fe.create({baseURL:pe.BASE_URL,timeout:pe.TIMEOUT,withCredentials:!0,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.apiClient.interceptors.request.use(t=>{try{const o=localStorage.getItem("accessToken");o&&(t.headers.Authorization=`Bearer ${o}`)}catch(o){console.error("Error getting token:",o)}return t},t=>Promise.reject(t)),this.apiClient.interceptors.response.use(t=>t,t=>{var o;return((o=t.response)==null?void 0:o.status)===401&&window.location.pathname!=="/login"&&window.location.assign("/login"),Promise.reject(this.handleError(t))})}handleError(t){var o,g,n,f,p;if(fe.isAxiosError(t)){const y=((o=t.response)==null?void 0:o.status)||500,v=((n=(g=t.response)==null?void 0:g.data)==null?void 0:n.message)||"An error occurred",S=(p=(f=t.response)==null?void 0:f.data)==null?void 0:p.errors;return{name:"ApiError",statusCode:y,message:v,errors:S}}return{name:"ApiError",statusCode:500,message:t.message||"An unexpected error occurred"}}parseMetadata(t){if(!t)return null;try{return JSON.parse(t)}catch(o){return console.error("Error parsing notification metadata:",o),null}}async getNotifications(t={}){try{const o={page:t.page||1,limit:t.limit||20};t.unreadOnly!==void 0&&(o.unreadOnly=t.unreadOnly);const g=await this.apiClient.get("/api/notifications",{params:o}),n=g.data.data.notifications.map(f=>({...f,metadata:this.parseMetadata(f.metadata)}));return{...g.data.data,notifications:n}}catch(o){throw console.error("Error fetching notifications:",o),o}}async getUnreadCount(){try{return(await this.apiClient.get("/api/notifications/unread-count")).data.data.count}catch(t){throw console.error("Error fetching unread count:",t),t}}async markAsRead(t){try{return(await this.apiClient.patch(`/api/notifications/${t}/read`)).data.data}catch(o){throw console.error("Error marking notification as read:",o),o}}async markAllAsRead(){try{return(await this.apiClient.patch("/api/notifications/read-all")).data.data.updatedCount}catch(t){throw console.error("Error marking all notifications as read:",t),t}}}new Bt;class Zt{constructor(){Re(this,"apiClient");this.apiClient=fe.create({baseURL:pe.BASE_URL,timeout:pe.TIMEOUT,withCredentials:!0,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.apiClient.interceptors.request.use(t=>{try{const o=localStorage.getItem("accessToken");o&&(t.headers.Authorization=`Bearer ${o}`)}catch(o){console.error("Error getting token:",o)}return t},t=>Promise.reject(t)),this.apiClient.interceptors.response.use(t=>t,t=>{var o;return((o=t.response)==null?void 0:o.status)===401&&window.location.pathname!=="/login"&&window.location.assign("/login"),Promise.reject(this.handleError(t))})}handleError(t){var o,g,n,f,p;if(fe.isAxiosError(t)){const y=((o=t.response)==null?void 0:o.status)||500,v=((n=(g=t.response)==null?void 0:g.data)==null?void 0:n.message)||"An error occurred",S=(p=(f=t.response)==null?void 0:f.data)==null?void 0:p.errors;return{name:"ApiError",statusCode:y,message:v,errors:S}}return{name:"ApiError",statusCode:500,message:t.message||"An unexpected error occurred"}}async submitReview(t,o){try{return(await this.apiClient.post(`/api/complaints/${t}/review`,o)).data.data}catch(g){throw console.error("Error submitting review:",g),g}}async getComplaintReviews(t){try{return(await this.apiClient.get(`/api/complaints/${t}/reviews`)).data.data}catch(o){throw console.error("Error fetching complaint reviews:",o),o}}async getReviewAnalytics(t={}){try{const o={};return t.cityCorporationCode&&(o.cityCorporationCode=t.cityCorporationCode),t.zoneId!==void 0&&(o.zoneId=t.zoneId),t.wardId!==void 0&&(o.wardId=t.wardId),t.startDate&&(o.startDate=t.startDate),t.endDate&&(o.endDate=t.endDate),(await this.apiClient.get("/api/admin/complaints/analytics/reviews",{params:o})).data.data}catch(o){throw console.error("Error fetching review analytics:",o),o}}}new Zt;const Gt=({value:a,onChange:t,disabled:o=!1,fullWidth:g=!1})=>{const[n,f]=r.useState([]),[p,y]=r.useState(!0),[v,S]=r.useState(null);r.useEffect(()=>{E()},[]);const E=async()=>{try{y(!0),S(null);const i=await ps.getAllCategories();f(i)}catch(i){console.error("Error fetching categories:",i),S(i.message||"Failed to load categories")}finally{y(!1)}},R=i=>{t(i.target.value)};return e.jsx(ce,{sx:{minWidth:g?"100%":{xs:"100%",sm:180}},disabled:o||p,children:e.jsxs(de,{value:a,onChange:R,displayEmpty:!0,startAdornment:e.jsx(he,{position:"start",children:p?e.jsx(le,{size:20,sx:{mr:1}}):e.jsx(lt,{sx:{color:"text.secondary",mr:1}})}),sx:{backgroundColor:"white",height:{xs:40,sm:44},fontSize:{xs:"0.875rem",sm:"0.95rem"},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"#4CAF50"}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"#4CAF50",borderWidth:2}}},children:[e.jsx(m,{value:"",children:e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"}},children:"All Categories"})}),e.jsx(m,{value:"uncategorized",children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(it,{sx:{fontSize:18,color:"#9e9e9e"}}),e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"},color:"#757575"},children:"Uncategorized"})]})}),v?e.jsx(m,{disabled:!0,children:e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"},color:"error.main"},children:v})}):n.map(i=>e.jsx(m,{value:i.id,children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(d,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:i.color,flexShrink:0}}),e.jsxs(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"}},children:[i.english," (",i.bangla,")"]})]})},i.id))]})})},Vt=({categoryId:a,value:t,onChange:o,disabled:g=!1,fullWidth:n=!1})=>{const[f,p]=r.useState([]),[y,v]=r.useState(!1),[S,E]=r.useState(null);r.useEffect(()=>{a?R():(p([]),t&&o(""))},[a]);const R=async()=>{try{v(!0),E(null);const A=await ps.getSubcategories(a);p(A)}catch(A){console.error("Error fetching subcategories:",A),E(A.message||"Failed to load subcategories"),p([])}finally{v(!1)}},i=A=>{o(A.target.value)},P=g||y||!a;return e.jsx(ce,{sx:{minWidth:n?"100%":{xs:"100%",sm:200}},disabled:P,children:e.jsxs(de,{value:t,onChange:i,displayEmpty:!0,startAdornment:e.jsx(he,{position:"start",children:y?e.jsx(le,{size:20,sx:{mr:1}}):e.jsx(ct,{sx:{color:"text.secondary",mr:1}})}),sx:{backgroundColor:P?"#f5f5f5":"white",height:{xs:40,sm:44},fontSize:{xs:"0.875rem",sm:"0.95rem"},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:P?void 0:"#4CAF50"}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"#4CAF50",borderWidth:2}}},children:[e.jsx(m,{value:"",children:e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"}},children:a?"All Subcategories":"Select category first"})}),S?e.jsx(m,{disabled:!0,children:e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"},color:"error.main"},children:S})}):f.map(A=>e.jsx(m,{value:A.id,children:e.jsxs(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"}},children:[A.english," (",A.bangla,")"]})},A.id))]})})},ls=["Engineering","Electricity","Health","Property (Eviction)"],cs=["WASA","Titas","DPDC","DESCO","BTCL","Fire Service","Others"],Jt=({value:a,onChange:t,disabled:o=!1,fullWidth:g=!1})=>{const[n,f]=r.useState(!1),[p,y]=r.useState(!1),v=i=>{const P=i.target.value;t(P)},S=()=>a==="ALL"?"All Status":a==="OTHERS_ALL"?"All Others":a==="CORPORATION_INTERNAL"?"Corporation Internal":a==="CORPORATION_EXTERNAL"?"Corporation External":ls.includes(a)?`Internal: ${a}`:cs.includes(a)?`External: ${a}`:a,E=i=>a===i,R=i=>E(i)?e.jsx(ht,{sx:{fontSize:18,color:"#4CAF50",mr:1}}):e.jsx(ut,{sx:{fontSize:18,color:"transparent",mr:1}});return e.jsx(ce,{sx:{minWidth:g?"100%":{xs:"100%",sm:200}},disabled:o,children:e.jsxs(de,{value:a,onChange:v,displayEmpty:!0,startAdornment:e.jsx(he,{position:"start",children:e.jsx(dt,{sx:{color:"text.secondary",mr:1}})}),renderValue:()=>e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"}},children:S()}),sx:{backgroundColor:"white",height:{xs:40,sm:44},fontSize:{xs:"0.875rem",sm:"0.95rem"},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"#4CAF50"}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"#4CAF50",borderWidth:2}}},MenuProps:{PaperProps:{sx:{maxHeight:400,"& .MuiMenuItem-root":{fontSize:{xs:"0.875rem",sm:"0.95rem"}}}}},children:[e.jsx(m,{value:"ALL",children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[R("ALL"),e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"}},children:"All Status"})]})}),e.jsx(ae,{sx:{my:.5}}),e.jsx(m,{value:"OTHERS_ALL",children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[R("OTHERS_ALL"),e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"},fontWeight:600},children:"All Others"})]})}),e.jsx(ae,{sx:{my:.5}}),e.jsx(m,{value:"CORPORATION_INTERNAL",onClick:i=>{i.stopPropagation(),f(!n)},sx:{backgroundColor:n?"rgba(76, 175, 80, 0.08)":"transparent","&:hover":{backgroundColor:n?"rgba(76, 175, 80, 0.12)":"rgba(0, 0, 0, 0.04)"}},children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[R("CORPORATION_INTERNAL"),e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"},fontWeight:500,flex:1},children:"Corporation Internal"}),n?e.jsx(Ke,{sx:{fontSize:20,color:"text.secondary"}}):e.jsx(qe,{sx:{fontSize:20,color:"text.secondary"}})]})}),n&&e.jsx(e.Fragment,{children:ls.map(i=>e.jsx(m,{value:i,sx:{pl:5,backgroundColor:E(i)?"rgba(76, 175, 80, 0.08)":"transparent","&:hover":{backgroundColor:E(i)?"rgba(76, 175, 80, 0.12)":"rgba(0, 0, 0, 0.04)"}},children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[R(i),e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"}},children:i})]})},i))}),e.jsx(ae,{sx:{my:.5}}),e.jsx(m,{value:"CORPORATION_EXTERNAL",onClick:i=>{i.stopPropagation(),y(!p)},sx:{backgroundColor:p?"rgba(76, 175, 80, 0.08)":"transparent","&:hover":{backgroundColor:p?"rgba(76, 175, 80, 0.12)":"rgba(0, 0, 0, 0.04)"}},children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[R("CORPORATION_EXTERNAL"),e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"},fontWeight:500,flex:1},children:"Corporation External"}),p?e.jsx(Ke,{sx:{fontSize:20,color:"text.secondary"}}):e.jsx(qe,{sx:{fontSize:20,color:"text.secondary"}})]})}),p&&e.jsx(e.Fragment,{children:cs.map(i=>e.jsx(m,{value:i,sx:{pl:5,backgroundColor:E(i)?"rgba(76, 175, 80, 0.08)":"transparent","&:hover":{backgroundColor:E(i)?"rgba(76, 175, 80, 0.12)":"rgba(0, 0, 0, 0.04)"}},children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[R(i),e.jsx(l,{sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"}},children:i})]})},i))})]})})},lr=()=>{const a=Ot(),[t]=Tt(),o=ds(),g=hs(o.breakpoints.down("sm")),{user:n}=zt(),[f,p]=r.useState([]),[y,v]=r.useState(!0),[S,E]=r.useState(null),[R,i]=r.useState(null),[P,A]=r.useState(!1),[Z,K]=r.useState(t.get("search")||""),[L,se]=r.useState(t.get("status")||"ALL"),[k,F]=r.useState(t.get("category")||""),[q,U]=r.useState(t.get("subcategory")||""),[z,te]=r.useState(t.get("othersFilter")||"ALL"),[me,ue]=r.useState([]),[_,Q]=r.useState(t.get("cityCorporation")||"ALL"),[Ce,je]=r.useState([]),[ye,h]=r.useState(null),[u,H]=r.useState(t.get("zone")?Number(t.get("zone")):""),[T,$]=r.useState(t.get("ward")?Number(t.get("ward")):null),[re,G]=r.useState([]),[Ut,ke]=r.useState(!1),[Xt,De]=r.useState(!1),[oe,Me]=r.useState({total:0,pending:0,inProgress:0,resolved:0,rejected:0,others:0}),[D,W]=r.useState({page:parseInt(t.get("page")||"1",10),limit:parseInt(t.get("limit")||"20",10),total:0,totalPages:0}),[fs,ms]=r.useState(!1),[Cs,js]=r.useState(null),[ys,Pe]=r.useState(!1),[bs,Ss]=r.useState(null),[Es,As]=r.useState(""),[Is,ws]=r.useState(""),[Kt,We]=r.useState(null),be=_t(Z,500),[Se,vs]=r.useState(!0),[Rs,Fe]=r.useState(null),[Os,_e]=r.useState(!1),[Ee,He]=r.useState(!1),[Ae,$e]=r.useState(!1),[xe,Ts]=r.useState(""),[Ie,qt]=r.useState(""),[Ns,we]=r.useState(!1),[Ls,zs]=r.useState(""),[ks,Ds]=r.useState("");r.useEffect(()=>{n&&(async()=>{var M,N;console.log("ðŸ”„ AllComplaints: Starting data fetch for user:",n==null?void 0:n.id,n==null?void 0:n.role);const c=[Pt.getCityCorporations("ACTIVE").catch(C=>(console.error("âŒ Error fetching city corporations:",C),{cityCorporations:[]}))];(n==null?void 0:n.role)==="SUPER_ADMIN"&&n.id&&(console.log("ðŸ‘¤ Fetching assigned zones for Super Admin:",n.id),c.push(Wt.getAssignedZones(Number(n.id)).catch(C=>(console.error("âŒ Error fetching assigned zones:",C),[])))),ke(!0);try{const C=await Promise.all(c),j=C[0],x=C[1];let b=j.cityCorporations||[];if(console.log("ðŸ™ï¸ Fetched City Corps:",b.length),n&&n.role!=="MASTER_ADMIN"){const O=n.cityCorporationCode||((M=n.cityCorporation)==null?void 0:M.code);O&&(console.log("ðŸŽ¯ Filtering City Corps for assigned code:",O),b=b.filter(I=>I.code===O),_!==O&&Q(O))}if(ue(b),x){console.log("ðŸ›¡ï¸ Raw Assigned Zones:",x);const O=x.map(I=>{const X=I.zone||I;return!X||!X.id?null:{id:X.id,zoneNumber:X.zoneNumber,name:X.name,cityCorporationId:X.cityCorporationId||0,status:"ACTIVE",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}).filter(I=>I!==null);console.log("âœ… Formatted Assigned Zones:",O),je(O),O.length===1&&(console.log("ðŸ‘Œ Auto-selecting single zone:",O[0].id),H(O[0].id))}if((n==null?void 0:n.role)==="ADMIN"){console.log("ðŸ‘¤ Loading assigned wards for Admin");let O=[];if(n.permissions)try{const I=JSON.parse(n.permissions);I.wards&&Array.isArray(I.wards)&&(O=I.wards)}catch(I){console.error("Error parsing admin permissions:",I)}if(console.log(`ðŸ”’ ADMIN assigned ward IDs: [${O.join(", ")}]`),O.length>0)try{const I=n.cityCorporationCode||((N=n.cityCorporation)==null?void 0:N.code);if(I){const Ue=(await rs.getWards({cityCorporationCode:I,status:"ACTIVE"})).wards.filter(Qs=>O.includes(Qs.id));console.log("âœ… Loaded assigned wards:",Ue),G(Ue)}}catch(I){console.error("âŒ Error fetching assigned wards:",I),G([])}else console.log("âš ï¸ ADMIN has no assigned wards"),G([])}}catch(C){console.error("âŒ Error in AllComplaints fetchData:",C)}finally{ke(!1)}})()},[n]),r.useEffect(()=>{(n==null?void 0:n.role)!=="ADMIN"&&(console.log("ðŸ”„ useEffect triggered for selectedZone:",u),u?(console.log("ðŸš€ Calling fetchWards with zoneId:",u),Ms(u)):G([]),$(null))},[u,n]);const Ms=async s=>{try{console.log("ðŸ“¡ fetchWards called for zoneId:",s),De(!0);const c=await rs.getWardsByZone(s,"ACTIVE");console.log("âœ… Wards fetched:",c),G(c)}catch(c){console.error("Error fetching wards:",c),Le("Failed to load wards")}finally{De(!1)}},ge=r.useCallback(async()=>{var s,c,M,N,C,j;try{v(!0),E(null),i(null),A(!1);const x={};L!=="ALL"&&(x.status=L),be&&(x.search=be),k&&(x.category=k),q&&(x.subcategory=q),z!=="ALL"&&(z==="OTHERS_ALL"?x.status="OTHERS":z==="CORPORATION_INTERNAL"?(x.status="OTHERS",x.othersCategory="CORPORATION_INTERNAL"):z==="CORPORATION_EXTERNAL"?(x.status="OTHERS",x.othersCategory="CORPORATION_EXTERNAL"):(x.status="OTHERS",x.othersSubcategory=z)),_!=="ALL"&&(x.complaintCityCorporationCode=_),u&&(x.complaintZoneId=u),T&&(x.complaintWardId=T),xe&&(x.startDate=xe),Ie&&(x.endDate=Ie),console.log("Fetching complaints with params:",{page:D.page,limit:D.limit,filters:x});const b=await is.getComplaints(D.page,D.limit,x);console.log("Complaints fetched successfully:",b),p(b.complaints),Me(b.statusCounts||{total:0,pending:0,inProgress:0,resolved:0,rejected:0,others:0}),W({page:((s=b.pagination)==null?void 0:s.page)||1,limit:((c=b.pagination)==null?void 0:c.limit)||20,total:((M=b.pagination)==null?void 0:M.total)||0,totalPages:((N=b.pagination)==null?void 0:N.totalPages)||0})}catch(x){console.error("Error fetching complaints:",x),console.error("Error response:",(C=x.response)==null?void 0:C.data),console.error("Error status:",(j=x.response)==null?void 0:j.status),os(x,"fetchComplaints");const b=ie(x);E(b.userMessage),i(b.type),A(b.retryable),b.type===ns.NETWORK?as(b.userMessage):Le(b.userMessage)}finally{v(!1)}},[D.page,D.limit,L,k,q,z,_,u,T,be,xe,Ie]);r.useEffect(()=>{ge()},[ge]);const Ps=(s,c)=>{W(M=>({...M,page:c})),window.scrollTo({top:0,behavior:"smooth"})},Be=s=>{se(s),s==="OTHERS"?(F(""),U("")):te("ALL"),W(c=>({...c,page:1}))},Ws=s=>{K(s.target.value),W(c=>({...c,page:1}))},Fs=s=>{F(s),U(""),W(c=>({...c,page:1}))},_s=s=>{U(s),W(c=>({...c,page:1}))},Ze=s=>{te(s),W(c=>({...c,page:1}))},Hs=s=>{s.stopPropagation(),Fe(s.currentTarget),_e(!0)},Ge=()=>{Fe(null),_e(!1),He(!1),$e(!1)},ve=s=>{Ze(s),Be("OTHERS"),["CORPORATION_INTERNAL","CORPORATION_EXTERNAL"].includes(s)||Ge()},$s=s=>{Q(s),W(c=>({...c,page:1}))},Bs=s=>{H(s),W(c=>({...c,page:1}))},Zs=s=>{$(s),W(c=>({...c,page:1}))},Gs=()=>{K(""),se("ALL"),F(""),U(""),te("ALL"),Q("ALL"),Q("ALL"),H(""),$(null),W(s=>({...s,page:1}))},Ve=r.useCallback(async(s,c)=>{try{We(s);const M=await is.updateComplaintStatus(s,{status:c});p(N=>N.map(C=>C.id===s?M:C)),Me(N=>{const C=f.find(x=>x.id===s);if(!C)return N;const j={...N};return C.status==="PENDING"?j.pending=Math.max(0,j.pending-1):C.status==="IN_PROGRESS"?j.inProgress=Math.max(0,j.inProgress-1):C.status==="RESOLVED"?j.resolved=Math.max(0,j.resolved-1):C.status==="REJECTED"?j.rejected=Math.max(0,j.rejected-1):C.status==="OTHERS"&&(j.others=Math.max(0,j.others-1)),c==="PENDING"?j.pending+=1:c==="IN_PROGRESS"?j.inProgress+=1:c==="RESOLVED"?j.resolved+=1:c==="REJECTED"?j.rejected+=1:c==="OTHERS"&&(j.others+=1),j}),Ft("Complaint status updated successfully")}catch(M){os(M,"handleStatusUpdate");const N=ie(M);N.type===ns.NETWORK?as(N.userMessage):Le(N.userMessage)}finally{We(null)}},[f]),Vs=s=>{a(`/complaints/${s}`)},Je=()=>{ms(!1),js(null)},Js=s=>{Ss(s.id),As(`${s.user.firstName} ${s.user.lastName}`),ws(s.category||s.title),Pe(!0)},Us=s=>{Je(),a(`/chats/${s}`)},Xs=r.useCallback(async(s,c)=>{await Ve(s,c),ge()},[Ve,ge]),Ks=s=>{switch(s){case"PENDING":return{backgroundColor:"#fff3cd",color:"#856404",borderColor:"#ffeeba"};case"IN_PROGRESS":return{backgroundColor:"#d1ecf1",color:"#0c5460",borderColor:"#bee5eb"};case"RESOLVED":return{backgroundColor:"#d4edda",color:"#155724",borderColor:"#c3e6cb"};case"REJECTED":return{backgroundColor:"#f8d7da",color:"#721c24",borderColor:"#f5c6cb"};default:return{backgroundColor:"#f8f9fa",color:"#6c757d"}}},qs=s=>{switch(s){case"PENDING":return"Pending";case"IN_PROGRESS":return"In Progress";case"RESOLVED":return"Solved";case"REJECTED":return"Others";default:return s}};return e.jsxs(kt,{title:"All Complaints",children:[e.jsx(Dt,{loading:y}),e.jsxs(d,{sx:{p:{xs:2,md:3},backgroundColor:"#f9fafb",minHeight:"100vh"},children:[e.jsxs(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(l,{variant:"h5",sx:{fontWeight:700,color:"#1e2939"},children:["All Complaints",D.total>0&&e.jsxs(l,{component:"span",variant:"body1",sx:{color:"#6b7280",ml:1.5,fontWeight:500},children:["(Total ",D.total,")"]})]}),e.jsx(J,{variant:"contained",onClick:()=>vs(!Se),startIcon:e.jsx(xt,{}),sx:{backgroundColor:"#4CAF50",textTransform:"none","&:hover":{backgroundColor:"#45a049"}},children:Se?"Hide Filters":"Show Filters"})]}),e.jsx(d,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsxs(gt,{value:L==="ALL"?"ALL":L,onChange:(s,c)=>Be(c),variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTab-root":{textTransform:"none",minWidth:100,fontWeight:600}},children:[e.jsx(ne,{label:`All (${oe.total})`,value:"ALL"}),e.jsx(ne,{label:`Pending (${oe.pending})`,value:"PENDING"}),e.jsx(ne,{label:`In Progress (${oe.inProgress})`,value:"IN_PROGRESS"}),e.jsx(ne,{label:`Solved (${oe.resolved})`,value:"RESOLVED"}),e.jsx(ne,{label:e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:.5},children:[`Others (${oe.others})`,e.jsx(d,{component:"span",onClick:Hs,sx:{display:"flex",alignItems:"center",borderRadius:"50%",p:.5,"&:hover":{bgcolor:"rgba(0,0,0,0.05)"}},children:e.jsx(Te,{fontSize:"small"})})]}),value:"OTHERS"})]})}),e.jsxs(pt,{anchorEl:Rs,open:Os,onClose:Ge,onClick:s=>s.stopPropagation(),PaperProps:{sx:{mt:1,width:250,maxHeight:400}},children:[e.jsx(m,{onClick:()=>ve("OTHERS_ALL"),children:"All Others"}),e.jsx(ae,{}),e.jsxs(m,{onClick:()=>He(!Ee),sx:{fontWeight:"bold",justifyContent:"space-between"},children:["Corp. Internal",e.jsx(Te,{sx:{transform:Ee?"rotate(180deg)":"rotate(0deg)",transition:"0.2s"}})]}),Ee&&["Engineering","Electricity","Health","Property (Eviction)"].map(s=>e.jsx(m,{onClick:()=>ve(s),sx:{pl:4,fontSize:"0.9rem"},selected:z===s,children:s},s)),e.jsx(ae,{}),e.jsxs(m,{onClick:()=>$e(!Ae),sx:{fontWeight:"bold",justifyContent:"space-between"},children:["Corp. External",e.jsx(Te,{sx:{transform:Ae?"rotate(180deg)":"rotate(0deg)",transition:"0.2s"}})]}),Ae&&["WASA","Titas","DPDC","DESCO","BTCL","Fire Service","Others"].map(s=>e.jsx(m,{onClick:()=>ve(s),sx:{pl:4,fontSize:"0.9rem"},selected:z===s,children:s},s))]}),e.jsx(ft,{in:Se,children:e.jsxs(Qe,{elevation:0,sx:{p:3,mb:3,borderRadius:2,border:"1px solid #e5e7eb",backgroundColor:"white"},children:[e.jsxs(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(l,{variant:"subtitle1",sx:{fontWeight:600,color:"#374151"},children:"Filter Options"}),e.jsx(J,{size:"small",onClick:Gs,startIcon:e.jsx(mt,{}),sx:{textTransform:"none",color:"#ef4444"},children:"Clear Filters"})]}),e.jsxs(B,{container:!0,spacing:2,children:[e.jsx(B,{size:{xs:12,sm:6,md:3},children:e.jsx(ze,{fullWidth:!0,type:"date",size:"small",label:"Date",value:xe,onChange:s=>Ts(s.target.value),InputLabelProps:{shrink:!0},sx:{backgroundColor:"white"}})}),e.jsx(B,{size:{xs:12,sm:6,md:3},children:e.jsxs(ce,{fullWidth:!0,size:"small",children:[e.jsx(Ye,{children:"All City Corporations"}),e.jsxs(de,{value:_||"",onChange:s=>$s(s.target.value),label:"All City Corporations",disabled:(n==null?void 0:n.role)==="ADMIN",children:[e.jsx(m,{value:"ALL",children:"All City Corporations"}),me.map(s=>e.jsx(m,{value:s.code,children:s.name},s.id))]})]})}),(n==null?void 0:n.role)!=="ADMIN"&&e.jsx(B,{size:{xs:12,sm:6,md:3},children:e.jsx(Mt,{value:u,onChange:Bs,cityCorporationCode:_!=="ALL"?_:void 0,zones:(n==null?void 0:n.role)==="SUPER_ADMIN"?Ce:void 0,hideLabel:!1,label:"All Zones"})}),e.jsx(B,{size:{xs:12,sm:6,md:3},children:e.jsxs(ce,{fullWidth:!0,size:"small",children:[e.jsx(Ye,{children:"All Wards"}),e.jsxs(de,{value:T||"",onChange:s=>Zs(s.target.value?Number(s.target.value):null),label:"All Wards",displayEmpty:!0,children:[e.jsx(m,{value:"",children:"All Wards"}),re&&re.map(s=>e.jsxs(m,{value:s.id,children:["Ward ",s.wardNumber||s.id]},s.id))]})]})}),L!=="OTHERS"&&e.jsx(B,{size:{xs:12,sm:6,md:3},children:e.jsx(Gt,{value:k,onChange:Fs})}),L!=="OTHERS"&&e.jsx(B,{size:{xs:12,sm:6,md:3},children:e.jsx(Vt,{value:q,onChange:_s,categoryId:k,fullWidth:!0})}),L==="OTHERS"&&e.jsx(B,{size:{xs:12,sm:6,md:3},children:e.jsx(Jt,{value:z,onChange:Ze,fullWidth:!0})}),e.jsx(B,{size:{xs:12},children:e.jsx(ze,{fullWidth:!0,placeholder:"Search by ID, citizen name, or phone number...",value:Z,onChange:Ws,InputProps:{startAdornment:e.jsx(he,{position:"start",children:e.jsx(Ct,{sx:{color:"text.secondary"}})})},size:"small",sx:{backgroundColor:"white","& .MuiOutlinedInput-root":{fontSize:"0.95rem"}}})})]})]})}),e.jsxs(d,{sx:{display:"flex",justifyContent:"flex-end",mb:2,gap:1},children:[e.jsx(J,{startIcon:e.jsx(jt,{}),variant:"outlined",size:"small",sx:{color:"#1976d2",borderColor:"#1976d2"},children:"Download"}),e.jsx(J,{startIcon:e.jsx(yt,{}),variant:"outlined",size:"small",sx:{color:"#9c27b0",borderColor:"#9c27b0"},children:"Print"})]}),!y&&!S&&e.jsx(bt,{component:Qe,elevation:0,sx:{border:"1px solid #e0e0e0",borderRadius:2},children:e.jsxs(St,{sx:{minWidth:800},children:[e.jsx(Et,{sx:{backgroundColor:"#f9fafb"},children:e.jsxs(Ne,{children:[e.jsx(w,{sx:{fontWeight:600},children:"Complaint No"}),e.jsx(w,{sx:{fontWeight:600},children:"Citizen Info"}),e.jsx(w,{sx:{fontWeight:600},children:"Location"}),e.jsx(w,{sx:{fontWeight:600},children:"Category"}),e.jsx(w,{sx:{fontWeight:600},children:"Status"}),e.jsx(w,{sx:{fontWeight:600},children:"Review & Report"}),e.jsx(w,{sx:{fontWeight:600},children:"Date"}),e.jsx(w,{align:"right",sx:{fontWeight:600},children:"Action"})]})}),e.jsx(At,{children:f.length===0?e.jsx(Ne,{children:e.jsx(w,{colSpan:7,align:"center",sx:{py:8},children:e.jsx(l,{color:"text.secondary",children:"No complaints found"})})}):f.map(s=>e.jsxs(Ne,{hover:!0,children:[e.jsx(w,{children:e.jsx(l,{variant:"body2",sx:{fontWeight:600,color:"#4CAF50"},children:s.trackingNumber||`C${String(s.id).padStart(6,"0")}`})}),e.jsx(w,{children:e.jsxs(d,{children:[e.jsxs(l,{variant:"body2",sx:{fontWeight:600},children:[s.user.firstName," ",s.user.lastName]}),e.jsx(l,{variant:"caption",color:"text.secondary",children:s.user.phone||"N/A"})]})}),e.jsx(w,{children:e.jsxs(d,{children:[e.jsx(l,{variant:"body2",children:s.location}),e.jsxs(l,{variant:"caption",color:"text.secondary",children:["Zone: ",typeof s.user.zone=="object"&&s.user.zone!==null?s.user.zone.name||s.user.zone.zoneNumber||"N/A":s.user.zone||"N/A"," | Ward: ",typeof s.user.ward=="object"&&s.user.ward!==null?s.user.ward.wardNumber||s.user.ward.number||"N/A":s.user.ward||"N/A"]})]})}),e.jsx(w,{children:e.jsxs(d,{children:[e.jsx(l,{variant:"body2",children:s.category||"N/A"}),e.jsx(l,{variant:"caption",color:"text.secondary",children:s.subcategory})]})}),e.jsxs(w,{children:[e.jsx(es,{label:qs(s.status),size:"small",sx:{...Ks(s.status),fontWeight:500,borderRadius:1,height:24}}),(s.status==="OTHERS"||s.status==="REJECTED")&&(s.othersCategory||s.othersSubcategory)&&e.jsxs(d,{sx:{mt:.5,lineHeight:1.2},children:[s.othersCategory&&e.jsx(l,{variant:"caption",display:"block",sx:{fontWeight:600,fontSize:"0.7rem",color:"#4b5563"},children:s.othersCategory==="CORPORATION_INTERNAL"?"Corp. Internal":s.othersCategory==="CORPORATION_EXTERNAL"?"Corp. External":s.othersCategory}),s.othersSubcategory&&e.jsx(l,{variant:"caption",display:"block",sx:{color:"text.secondary",fontSize:"0.7rem"},children:s.othersSubcategory})]})]}),e.jsx(w,{children:["RESOLVED","OTHERS","REJECTED"].includes(s.status)?e.jsxs(d,{sx:{maxWidth:200},children:[s.resolutionNote&&e.jsx(ss,{title:"Click to view full note",children:e.jsxs(l,{variant:"caption",display:"block",sx:{color:"#1976d2",fontWeight:500,mb:.5,cursor:"pointer","&:hover":{textDecoration:"underline"}},noWrap:!0,onClick:()=>{zs(s.resolutionNote||""),Ds("Admin Resolution Note"),we(!0)},children:["Admin: ",s.resolutionNote]})}),s.review?e.jsxs(d,{children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(It,{value:s.review.rating,readOnly:!0,size:"small",sx:{fontSize:"1rem"}}),e.jsxs(l,{variant:"caption",color:"text.secondary",children:["(",s.review.rating,")"]})]}),s.review.comment&&e.jsx(ss,{title:s.review.comment,children:e.jsxs(l,{variant:"caption",display:"block",color:"text.secondary",noWrap:!0,sx:{mt:.5},children:['"',s.review.comment,'"']})})]}):e.jsx(l,{variant:"caption",color:"text.disabled",sx:{fontStyle:"italic"},children:"Not reviewed yet"})]}):e.jsx(es,{label:"Unsolved",size:"small",variant:"outlined",sx:{borderColor:"#e0e0e0",color:"#9e9e9e",height:24,fontSize:"0.75rem"}})}),e.jsx(w,{children:e.jsx(l,{variant:"body2",children:new Date(s.createdAt).toLocaleDateString()})}),e.jsxs(w,{align:"right",children:[e.jsx(J,{variant:"outlined",size:"small",startIcon:e.jsx(wt,{}),onClick:()=>Js(s),sx:{borderColor:"#e0e0e0",color:"text.primary",textTransform:"none",mr:1,"&:hover":{borderColor:"#4CAF50",color:"#4CAF50"}},children:"Chat"}),e.jsx(J,{variant:"contained",size:"small",onClick:()=>Vs(s.id),sx:{backgroundColor:"#4CAF50",color:"white",textTransform:"none",boxShadow:"none","&:hover":{backgroundColor:"#45a049",boxShadow:"none"}},children:"View Details"})]})]},s.id))})]})}),y&&e.jsx(d,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(le,{})}),!y&&!S&&f.length>0&&D&&D.total>0&&e.jsx(d,{sx:{mt:{xs:3,sm:4},mb:2,display:"flex",justifyContent:"center"},children:e.jsx(vt,{count:D.totalPages||0,page:D.page||1,onChange:Ps,color:"primary",size:g?"small":"large",showFirstButton:!g,showLastButton:!g,siblingCount:g?0:1,boundaryCount:1,sx:{"& .MuiPaginationItem-root":{fontSize:{xs:"0.875rem",sm:"0.95rem"},"&.Mui-selected":{backgroundColor:"#4CAF50 !important",color:"white"}}}})})]}),e.jsx(Ht,{complaintId:Cs,open:fs,onClose:Je,onStatusUpdate:Xs,onChatOpen:Us}),e.jsx($t,{open:ys,onClose:()=>Pe(!1),complaintId:bs||0,complaintTitle:Is,citizenName:Es}),e.jsxs(us,{open:Ns,onClose:()=>we(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(xs,{sx:{fontWeight:600,color:"#1f2937"},children:ks}),e.jsx(gs,{dividers:!0,children:e.jsx(l,{variant:"body1",sx:{whiteSpace:"pre-wrap",color:"#374151"},children:Ls})}),e.jsx(Rt,{children:e.jsx(J,{onClick:()=>we(!1),color:"primary",children:"Close"})})]})]})};export{lr as default};
